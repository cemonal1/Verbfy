(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6964],{64830:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin",function(){return a(65806)}])},65806:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return w}});var r=a(85893),t=a(67294),n=a(96781),l=a(57115),c=a(41664),i=a.n(c),d=a(11163),m=a(49037),x=a(35892),o=a(74931),h=a(46162),u=a(12044),g=e=>{let{className:s=""}=e,a=(0,d.useRouter)().pathname,t=[{name:"Dashboard",href:"/admin",icon:m.Z,current:"/admin"===a},{name:"Users",href:"/admin/users",icon:x.Z,current:"/admin/users"===a},{name:"Materials",href:"/admin/materials",icon:o.Z,current:"/admin/materials"===a},{name:"Logs",href:"/admin/logs",icon:h.Z,current:"/admin/logs"===a},{name:"Analytics",href:"/analytics",icon:u.Z,current:"/analytics"===a}];return(0,r.jsxs)("div",{className:"bg-white shadow-sm border-r border-gray-200 ".concat(s),children:[(0,r.jsxs)("div",{className:"p-4",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Admin Panel"}),(0,r.jsx)("nav",{className:"space-y-1",children:t.map(e=>{let s=e.icon;return(0,r.jsxs)(i(),{href:e.href,className:"\n                  group flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors\n                  ".concat(e.current?"bg-blue-50 text-blue-700 border-r-2 border-blue-700":"text-gray-600 hover:bg-gray-50 hover:text-gray-900","\n                "),children:[(0,r.jsx)(s,{className:"\n                    mr-3 h-5 w-5 flex-shrink-0\n                    ".concat(e.current?"text-blue-700":"text-gray-400 group-hover:text-gray-500","\n                  "),"aria-hidden":"true"}),e.name]},e.name)})})]}),(0,r.jsx)("div",{className:"absolute bottom-0 left-0 right-0 p-4 border-t border-gray-200",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)("div",{className:"h-8 w-8 rounded-full bg-blue-600 flex items-center justify-center",children:(0,r.jsx)("span",{className:"text-sm font-medium text-white",children:"A"})})}),(0,r.jsxs)("div",{className:"ml-3",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"Admin"}),(0,r.jsx)("p",{className:"text-xs text-gray-500",children:"Platform Administrator"})]})]})})]})},j=a(64964),N=a(7145),f=a(85615),v=a(68283),b=a(55692);let p=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e),y=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});function w(){(0,n.eB)(["admin"]);let{state:e,loadOverview:s}=(0,l.A)(),{overview:a,overviewLoading:c,overviewError:i}=e;(0,t.useEffect)(()=>{s()},[s]);let d=[{name:"Total Users",value:(null==a?void 0:a.stats.totalUsers)||0,icon:x.Z,change:(null==a?void 0:a.stats.userGrowth)||0,changeType:"percentage"},{name:"Teachers",value:(null==a?void 0:a.stats.totalTeachers)||0,icon:j.Z,change:0,changeType:"number"},{name:"Students",value:(null==a?void 0:a.stats.totalStudents)||0,icon:N.Z,change:0,changeType:"number"},{name:"Materials",value:(null==a?void 0:a.stats.totalMaterials)||0,icon:o.Z,change:0,changeType:"number"},{name:"Total Revenue",value:p((null==a?void 0:a.stats.totalRevenue)||0),icon:f.Z,change:(null==a?void 0:a.stats.revenueGrowth)||0,changeType:"percentage"},{name:"Lessons",value:(null==a?void 0:a.stats.totalReservations)||0,icon:h.Z,change:0,changeType:"number"}];return i?(0,r.jsxs)("div",{className:"flex h-screen bg-gray-50",children:[(0,r.jsx)(g,{className:"w-64"}),(0,r.jsx)("div",{className:"flex-1 p-8",children:(0,r.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,r.jsxs)("div",{className:"ml-3",children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"Error Loading Dashboard"}),(0,r.jsx)("div",{className:"mt-2 text-sm text-red-700",children:(0,r.jsx)("p",{children:i})}),(0,r.jsx)("div",{className:"mt-4",children:(0,r.jsx)("button",{onClick:()=>s(),className:"bg-red-100 px-3 py-2 rounded-md text-sm font-medium text-red-800 hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Try Again"})})]})]})})})]}):c?(0,r.jsxs)("div",{className:"flex h-screen bg-gray-50",children:[(0,r.jsx)(g,{className:"w-64"}),(0,r.jsx)("div",{className:"flex-1 p-8",children:(0,r.jsxs)("div",{className:"animate-pulse",children:[(0,r.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-8"}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[...Array(6)].map((e,s)=>(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,r.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-4"}),(0,r.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/3"})]},s))})]})})]}):(0,r.jsxs)("div",{className:"flex h-screen bg-gray-50",children:[(0,r.jsx)(g,{className:"w-64"}),(0,r.jsx)("div",{className:"flex-1 overflow-auto",children:(0,r.jsxs)("div",{className:"p-8",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Admin Dashboard"}),(0,r.jsx)("p",{className:"text-gray-600 mt-2",children:"Platform overview and management"})]}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:d.map(e=>{let s=e.icon,a=e.change>=0;return(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:e.name}),(0,r.jsx)("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:e.value})]}),(0,r.jsx)("div",{className:"p-3 bg-blue-50 rounded-lg",children:(0,r.jsx)(s,{className:"h-6 w-6 text-blue-600"})})]}),0!==e.change&&(0,r.jsxs)("div",{className:"mt-4 flex items-center",children:[a?(0,r.jsx)(v.Z,{className:"h-4 w-4 text-green-500 mr-1"}):(0,r.jsx)(b.Z,{className:"h-4 w-4 text-red-500 mr-1"}),(0,r.jsxs)("span",{className:"text-sm font-medium ".concat(a?"text-green-600":"text-red-600"),children:[a?"+":"",e.change,"percentage"===e.changeType?"%":""]}),(0,r.jsx)("span",{className:"text-sm text-gray-500 ml-1",children:"from last month"})]})]},e.name)})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[(0,r.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Users"})}),(0,r.jsx)("div",{className:"p-6",children:(null==a?void 0:a.recent.users)&&a.recent.users.length>0?(0,r.jsx)("div",{className:"space-y-4",children:a.recent.users.map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"h-8 w-8 rounded-full bg-gray-200 flex items-center justify-center",children:(0,r.jsx)("span",{className:"text-sm font-medium text-gray-600",children:e.name.charAt(0).toUpperCase()})}),(0,r.jsxs)("div",{className:"ml-3",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:e.email})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat("admin"===e.role?"bg-purple-100 text-purple-800":"teacher"===e.role?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"),children:e.role}),(0,r.jsx)("span",{className:"text-xs text-gray-500",children:y(e.createdAt)})]})]},e._id))}):(0,r.jsx)("p",{className:"text-gray-500 text-center py-4",children:"No recent users"})})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[(0,r.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Materials"})}),(0,r.jsx)("div",{className:"p-6",children:(null==a?void 0:a.recent.materials)&&a.recent.materials.length>0?(0,r.jsx)("div",{className:"space-y-4",children:a.recent.materials.map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"h-8 w-8 rounded bg-blue-100 flex items-center justify-center",children:(0,r.jsx)(o.Z,{className:"h-4 w-4 text-blue-600"})}),(0,r.jsxs)("div",{className:"ml-3",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.title}),(0,r.jsxs)("p",{className:"text-sm text-gray-500",children:["by ",e.uploaderId.name]})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat("approved"===e.status?"bg-green-100 text-green-800":"rejected"===e.status?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"),children:e.status}),(0,r.jsx)("span",{className:"text-xs text-gray-500",children:y(e.createdAt)})]})]},e._id))}):(0,r.jsx)("p",{className:"text-gray-500 text-center py-4",children:"No recent materials"})})]})]})]})})]})}},96781:function(e,s,a){"use strict";a.d(s,{Fw:function(){return n},__:function(){return l},eB:function(){return t}});var r=a(36197);function t(e){return(0,r.eB)(e)}function n(){let{user:e}=(0,r.aC)();return(null==e?void 0:e.role)==="teacher"||(null==e?void 0:e.role)==="admin"}function l(){let{user:e}=(0,r.aC)();return(null==e?void 0:e.role)==="teacher"||(null==e?void 0:e.role)==="admin"}}},function(e){e.O(0,[1216,2888,179],function(){return e(e.s=64830)}),_N_E=e.O()}]);