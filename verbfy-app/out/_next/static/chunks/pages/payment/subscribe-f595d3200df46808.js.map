{"version":3,"file":"static/chunks/pages/payment/subscribe-f595d3200df46808.js","mappings":"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","sources":["webpack://_N_E/?4391","webpack://_N_E/./pages/payment/subscribe.tsx","webpack://_N_E/./src/types/payment.ts","webpack://_N_E/./src/components/payment/ProductCard.tsx"],"sourcesContent":["\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/payment/subscribe\",\n      function () {\n        return require(\"private-next-pages/payment/subscribe.tsx\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/payment/subscribe\"])\n      });\n    }\n  ","import React, { useState, useEffect } from 'react';\nimport { useAuth } from '@/context/AuthContext';\nimport DashboardLayout from '@/components/layout/DashboardLayout';\nimport ProductCard from '@/components/payment/ProductCard';\nimport { Product, PRODUCTS } from '@/types/payment';\nimport { \n  SparklesIcon,\n  CheckCircleIcon,\n  ExclamationTriangleIcon\n} from '@heroicons/react/24/outline';\n\nexport default function SubscribePage() {\n  const { user } = useAuth();\n  const [products, setProducts] = useState<Product[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [userSubscription, setUserSubscription] = useState<any>(null);\n\n  useEffect(() => {\n    loadProducts();\n    checkUserSubscription();\n  }, []);\n\n  const loadProducts = async () => {\n    // Payments disabled: show empty products state\n    setProducts([]);\n    setLoading(false);\n  };\n\n  const checkUserSubscription = () => {\n    if (user) {\n      setUserSubscription({\n        status: user.subscriptionStatus,\n        type: user.subscriptionType,\n        expiry: user.subscriptionExpiry\n      });\n    }\n  };\n\n  const handlePurchase = () => {};\n\n  if (loading) {\n    return (\n      <DashboardLayout>\n        <div className=\"animate-pulse\">\n          <div className=\"h-8 bg-gray-200 rounded w-1/4 mb-8\"></div>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n            {[...Array(3)].map((_, i) => (\n              <div key={i} className=\"bg-white p-6 rounded-lg shadow\">\n                <div className=\"h-4 bg-gray-200 rounded w-1/2 mb-4\"></div>\n                <div className=\"h-8 bg-gray-200 rounded w-1/3\"></div>\n              </div>\n            ))}\n          </div>\n        </div>\n      </DashboardLayout>\n    );\n  }\n\n  return (\n    <DashboardLayout>\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        {/* Header */}\n        <div className=\"text-center mb-12\">\n          <div className=\"flex justify-center mb-4\">\n            <SparklesIcon className=\"h-12 w-12 text-purple-600\" />\n          </div>\n          <h1 className=\"text-4xl font-bold text-gray-900 mb-4\">Subscriptions Unavailable</h1>\n          <p className=\"text-xl text-gray-600 max-w-2xl mx-auto\">\n            Payments are currently unavailable in your region.\n          </p>\n        </div>\n\n        {/* Current subscription status */}\n        {userSubscription && userSubscription.status === 'active' && (\n          <div className=\"mb-8\">\n            <div className=\"bg-green-50 border border-green-200 rounded-lg p-4\">\n              <div className=\"flex items-center\">\n                <CheckCircleIcon className=\"h-5 w-5 text-green-600 mr-2\" />\n                <div>\n                  <h3 className=\"text-sm font-medium text-green-800\">\n                    Active Subscription\n                  </h3>\n                  <p className=\"text-sm text-green-700\">\n                    You currently have an active {userSubscription.type} subscription\n                    {userSubscription.expiry && (\n                      <span> until {new Date(userSubscription.expiry).toLocaleDateString()}</span>\n                    )}\n                  </p>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Subscription plans (hidden when payments disabled) */}\n        {products.length > 0 && (\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-12\">\n            {products.map((product) => (\n              <ProductCard\n                key={product.id}\n                product={product}\n                onPurchase={handlePurchase}\n                className=\"h-full\"\n              />\n            ))}\n          </div>\n        )}\n\n        {/* Features comparison (optional) */}\n\n        {/* FAQ */}\n        <div className=\"bg-gray-50 rounded-lg p-8\">\n          <h2 className=\"text-2xl font-bold text-gray-900 mb-6 text-center\">\n            Frequently Asked Questions\n          </h2>\n          \n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8\">\n            <div>\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">\n                Can I cancel my subscription?\n              </h3>\n              <p className=\"text-gray-600\">\n                Yes, you can cancel your subscription at any time. You'll continue to have access until the end of your current billing period.\n              </p>\n            </div>\n            \n            <div>\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">\n                Is there a free trial?\n              </h3>\n              <p className=\"text-gray-600\">\n                We offer a 7-day free trial for new subscribers. You can cancel anytime during the trial period.\n              </p>\n            </div>\n            \n            <div>\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">\n                What payment methods do you accept?\n              </h3>\n              <p className=\"text-gray-600\">\n                We accept all major credit cards, debit cards, and digital wallets through our secure Stripe payment system.\n              </p>\n            </div>\n            \n            <div>\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">\n                Can I upgrade or downgrade my plan?\n              </h3>\n              <p className=\"text-gray-600\">\n                Yes, you can change your subscription plan at any time. Changes will take effect at the start of your next billing cycle.\n              </p>\n            </div>\n          </div>\n        </div>\n\n        {/* Security notice */}\n        <div className=\"text-center mt-8\">\n          <p className=\"text-sm text-gray-500\">\n            üîí All payments are processed securely by Stripe. Your payment information is never stored on our servers.\n          </p>\n        </div>\n      </div>\n    </DashboardLayout>\n  );\n} ","// Payment types\nexport type PaymentType = 'subscription' | 'lesson_tokens' | 'one_time';\nexport type PaymentStatus = 'pending' | 'completed' | 'failed' | 'cancelled' | 'refunded';\n\n// Product interface\nexport interface Product {\n  id: string;\n  name: string;\n  description: string;\n  price: number; // in cents\n  currency: string;\n  type: PaymentType;\n  quantity?: number; // For lesson tokens\n  duration?: number; // For subscriptions (in days)\n  features: string[];\n}\n\n// Payment interface\nexport interface Payment {\n  _id: string;\n  user: string;\n  type: PaymentType;\n  amount: number;\n  currency: string;\n  status: PaymentStatus;\n  stripeSessionId: string;\n  stripePaymentIntentId?: string;\n  product: {\n    id: string;\n    name: string;\n    description?: string;\n    quantity?: number;\n    duration?: number;\n  };\n  metadata?: {\n    lessonTokens?: number;\n    subscriptionExpiry?: string;\n    couponCode?: string;\n    discountAmount?: number;\n  };\n  refundedAt?: string;\n  refundedBy?: string;\n  refundReason?: string;\n  createdAt: string;\n  updatedAt: string;\n  formattedAmount?: string;\n  age?: string;\n}\n\n// Payment statistics\nexport interface PaymentStats {\n  totalPayments: number;\n  totalAmount: number;\n  completedPayments: number;\n  completedAmount: number;\n  failedPayments: number;\n  refundedPayments: number;\n}\n\n// API Response types\nexport interface ProductsResponse {\n  success: boolean;\n  data: Product[];\n  message: string;\n}\n\nexport interface PaymentHistoryResponse {\n  success: boolean;\n  data: {\n    payments: Payment[];\n    pagination: {\n      page: number;\n      limit: number;\n      total: number;\n      pages: number;\n    };\n  };\n  message: string;\n}\n\nexport interface PaymentStatsResponse {\n  success: boolean;\n  data: PaymentStats;\n  message: string;\n}\n\nexport interface CheckoutSessionResponse {\n  success: boolean;\n  data: {\n    sessionId: string;\n    url: string;\n  };\n  message: string;\n}\n\n// Request types\nexport interface CreateCheckoutSessionRequest {\n  productId: string;\n  couponCode?: string;\n}\n\nexport interface RefundPaymentRequest {\n  reason?: string;\n}\n\n// Utility functions\nexport const formatCurrency = (amount: number, currency: string = 'usd'): string => {\n  return new Intl.NumberFormat('en-US', {\n    style: 'currency',\n    currency: currency.toUpperCase()\n  }).format(amount / 100); // Stripe amounts are in cents\n};\n\nexport const formatDate = (date: string): string => {\n  return new Date(date).toLocaleDateString('en-US', {\n    year: 'numeric',\n    month: 'short',\n    day: 'numeric',\n    hour: '2-digit',\n    minute: '2-digit'\n  });\n};\n\nexport const getStatusColor = (status: PaymentStatus): string => {\n  switch (status) {\n    case 'completed':\n      return 'text-green-600 bg-green-100';\n    case 'pending':\n      return 'text-yellow-600 bg-yellow-100';\n    case 'failed':\n    case 'cancelled':\n      return 'text-red-600 bg-red-100';\n    case 'refunded':\n      return 'text-gray-600 bg-gray-100';\n    default:\n      return 'text-gray-600 bg-gray-100';\n  }\n};\n\nexport const getStatusIcon = (status: PaymentStatus): string => {\n  switch (status) {\n    case 'completed':\n      return '‚úÖ';\n    case 'pending':\n      return '‚è≥';\n    case 'failed':\n      return '‚ùå';\n    case 'cancelled':\n      return 'üö´';\n    case 'refunded':\n      return '‚Ü©Ô∏è';\n    default:\n      return '‚ùì';\n  }\n};\n\n// Product configurations (matching backend)\nexport const PRODUCTS: Record<string, Product> = {\n  SUBSCRIPTION_MONTHLY: {\n    id: 'sub_monthly',\n    name: 'Monthly Subscription',\n    description: 'Access to all premium features for 1 month',\n    price: 2999, // $29.99 in cents\n    currency: 'usd',\n    type: 'subscription',\n    duration: 30, // days\n    features: [\n      'Unlimited lesson materials',\n      'Priority booking',\n      'Advanced analytics',\n      'Premium support'\n    ]\n  },\n  SUBSCRIPTION_QUARTERLY: {\n    id: 'sub_quarterly',\n    name: 'Quarterly Subscription',\n    description: 'Access to all premium features for 3 months',\n    price: 7999, // $79.99 in cents\n    currency: 'usd',\n    type: 'subscription',\n    duration: 90, // days\n    features: [\n      'Unlimited lesson materials',\n      'Priority booking',\n      'Advanced analytics',\n      'Premium support',\n      'Save 20% compared to monthly'\n    ]\n  },\n  TOKENS_5: {\n    id: 'tokens_5',\n    name: '5 Lesson Tokens',\n    description: '5 individual lesson credits',\n    price: 4999, // $49.99 in cents\n    currency: 'usd',\n    type: 'lesson_tokens',\n    quantity: 5,\n    features: [\n      '5 individual lessons',\n      'Valid for 6 months',\n      'Any lesson type'\n    ]\n  },\n  TOKENS_10: {\n    id: 'tokens_10',\n    name: '10 Lesson Tokens',\n    description: '10 individual lesson credits',\n    price: 8999, // $89.99 in cents\n    currency: 'usd',\n    type: 'lesson_tokens',\n    quantity: 10,\n    features: [\n      '10 individual lessons',\n      'Valid for 6 months',\n      'Any lesson type',\n      'Save 10% compared to 5-pack'\n    ]\n  },\n  TOKENS_25: {\n    id: 'tokens_25',\n    name: '25 Lesson Tokens',\n    description: '25 individual lesson credits',\n    price: 19999, // $199.99 in cents\n    currency: 'usd',\n    type: 'lesson_tokens',\n    quantity: 25,\n    features: [\n      '25 individual lessons',\n      'Valid for 6 months',\n      'Any lesson type',\n      'Save 20% compared to 5-pack'\n    ]\n  }\n}; ","import React, { useState } from 'react';\nimport { Product, formatCurrency } from '../../types/payment';\nimport { paymentAPI } from '../../lib/api';\nimport { toast } from 'react-hot-toast';\nimport { \n  CheckIcon, \n  StarIcon,\n  CreditCardIcon,\n  SparklesIcon\n} from '@heroicons/react/24/outline';\n\ninterface ProductCardProps {\n  product: Product;\n  onPurchase?: () => void;\n  className?: string;\n}\n\nconst ProductCard: React.FC<ProductCardProps> = ({ \n  product, \n  onPurchase, \n  className = '' \n}) => {\n  const [isLoading] = useState(false);\n\n  const handlePurchase = async () => {\n    toast.error('Payments are currently unavailable in your region.');\n  };\n\n  const isSubscription = product.type === 'subscription';\n  const isPopular = product.id === 'sub_quarterly' || product.id === 'tokens_10';\n\n  return (\n    <div className={`relative bg-white rounded-xl shadow-lg border-2 transition-all duration-200 hover:shadow-xl ${\n      isPopular ? 'border-blue-500' : 'border-gray-200'\n    } ${className}`}>\n      {/* Popular badge */}\n      {isPopular && (\n        <div className=\"absolute -top-3 left-1/2 transform -translate-x-1/2\">\n          <div className=\"bg-blue-500 text-white px-4 py-1 rounded-full text-sm font-semibold flex items-center\">\n            <StarIcon className=\"h-4 w-4 mr-1\" />\n            Most Popular\n          </div>\n        </div>\n      )}\n\n      <div className=\"p-6\">\n        {/* Header */}\n        <div className=\"text-center mb-6\">\n          <div className=\"flex justify-center mb-2\">\n            {isSubscription ? (\n              <SparklesIcon className=\"h-8 w-8 text-purple-600\" />\n            ) : (\n              <CreditCardIcon className=\"h-8 w-8 text-blue-600\" />\n            )}\n          </div>\n          <h3 className=\"text-xl font-bold text-gray-900 mb-2\">{product.name}</h3>\n          <p className=\"text-gray-600 text-sm\">{product.description}</p>\n        </div>\n\n        {/* Price */}\n        <div className=\"text-center mb-6\">\n          <div className=\"text-3xl font-bold text-gray-900\">\n            {formatCurrency(product.price, product.currency)}\n          </div>\n          {product.type === 'subscription' && (\n            <div className=\"text-sm text-gray-500 mt-1\">\n              per {product.duration === 30 ? 'month' : 'quarter'}\n            </div>\n          )}\n          {product.type === 'lesson_tokens' && (\n            <div className=\"text-sm text-gray-500 mt-1\">\n              {product.quantity} lessons\n            </div>\n          )}\n        </div>\n\n        {/* Features */}\n        <div className=\"mb-6\">\n          <ul className=\"space-y-3\">\n            {product.features.map((feature, index) => (\n              <li key={index} className=\"flex items-start\">\n                <CheckIcon className=\"h-5 w-5 text-green-500 mr-3 mt-0.5 flex-shrink-0\" />\n                <span className=\"text-gray-700 text-sm\">{feature}</span>\n              </li>\n            ))}\n          </ul>\n        </div>\n\n        {/* Payments disabled notice */}\n        <div className=\"mb-6\">\n          <div className=\"text-sm text-amber-700 bg-amber-50 border border-amber-200 rounded-md p-3\">\n            Payments are currently unavailable in your region.\n          </div>\n        </div>\n\n        {/* Purchase button */}\n        <button\n          onClick={handlePurchase}\n          disabled={isLoading}\n          className={`w-full py-3 px-4 rounded-lg font-semibold text-white transition-colors duration-200 ${\n            isLoading\n              ? 'bg-gray-400 cursor-not-allowed'\n              : isSubscription\n              ? 'bg-purple-600 hover:bg-purple-700'\n              : 'bg-blue-600 hover:bg-blue-700'\n          }`}\n        >\n          {isLoading ? (\n            <div className=\"flex items-center justify-center\">\n              <div className=\"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2\"></div>\n              Processing...\n            </div>\n          ) : (\n            `Buy ${product.name}`\n          )}\n        </button>\n\n        {/* Security notice */}\n        <div className=\"mt-4 text-center\">\n          <p className=\"text-xs text-gray-500\">Payments are disabled.</p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ProductCard; "],"names":["window","__NEXT_P","push","__webpack_require__","SubscribePage","user","useAuth","products","setProducts","useState","loading","setLoading","userSubscription","setUserSubscription","useEffect","loadProducts","checkUserSubscription","status","subscriptionStatus","type","subscriptionType","expiry","subscriptionExpiry","handlePurchase","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","jsx","DashboardLayout","jsxs","div","className","map","_","i","SparklesIcon","h1","p","CheckCircleIcon","h3","span","Date","toLocaleDateString","length","ProductCard","product","onPurchase","id","h2","formatCurrency","amount","currency","Intl","NumberFormat","style","toUpperCase","format","payment_ProductCard","param","isLoading","toast","error","isSubscription","isPopular","jsx_runtime","concat","StarIcon","CreditCardIcon","name","description","price","duration","quantity","ul","features","feature","index","li","CheckIcon","button","onClick","disabled"],"sourceRoot":""}