{"version":3,"file":"static/chunks/pages/payment/success-962e8b3a609cce5a.js","mappings":"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","sources":["webpack://_N_E/?e7e2","webpack://_N_E/./pages/payment/success.tsx"],"sourcesContent":["\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/payment/success\",\n      function () {\n        return require(\"private-next-pages/payment/success.tsx\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/payment/success\"])\n      });\n    }\n  ","import React, { useEffect, useState } from 'react';\r\nimport { useRouter } from 'next/router';\r\nimport { useAuth } from '@/context/AuthContext';\r\nimport DashboardLayout from '@/components/layout/DashboardLayout';\r\nimport { CheckCircleIcon, SparklesIcon } from '@heroicons/react/24/outline';\r\nimport Link from 'next/link';\r\n\r\nexport default function PaymentSuccessPage() {\r\n  const router = useRouter();\r\n  const { user, refreshUser } = useAuth();\r\n  const [loading, setLoading] = useState(true);\r\n  const { session_id } = router.query;\r\n\r\n  useEffect(() => {\r\n    if (session_id) {\r\n      // Refresh user data to get updated subscription/token status\r\n      refreshUser().finally(() => {\r\n        setLoading(false);\r\n      });\r\n    } else {\r\n      setLoading(false);\r\n    }\r\n  }, [session_id, refreshUser]);\r\n\r\n  if (loading) {\r\n    return (\r\n      <DashboardLayout>\r\n        <div className=\"flex items-center justify-center min-h-screen\">\r\n          <div className=\"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600\"></div>\r\n        </div>\r\n      </DashboardLayout>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <DashboardLayout>\r\n      <div className=\"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-12\">\r\n        <div className=\"text-center\">\r\n          {/* Success Icon */}\r\n          <div className=\"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-green-100 mb-6\">\r\n            <CheckCircleIcon className=\"h-8 w-8 text-green-600\" />\r\n          </div>\r\n\r\n          {/* Success Message */}\r\n          <h1 className=\"text-3xl font-bold text-gray-900 mb-4\">Payments Unavailable</h1>\r\n          <p className=\"text-lg text-gray-600 mb-8\">Payments are currently unavailable in your region.</p>\r\n\r\n          {/* Session ID */}\r\n          {false && session_id && (\r\n            <div className=\"bg-gray-50 rounded-lg p-4 mb-8\">\r\n              <p className=\"text-sm text-gray-600\">\r\n                <span className=\"font-medium\">Transaction ID:</span> {session_id}\r\n              </p>\r\n            </div>\r\n          )}\r\n\r\n          {/* Updated Status */}\r\n          {user && (\r\n            <div className=\"bg-white rounded-lg shadow-lg p-6 mb-8\">\r\n              <h2 className=\"text-xl font-semibold text-gray-900 mb-4\">\r\n                Your Updated Status\r\n              </h2>\r\n              \r\n              {user.subscriptionStatus === 'active' && (\r\n                <div className=\"flex items-center justify-center mb-4\">\r\n                  <SparklesIcon className=\"h-6 w-6 text-purple-600 mr-2\" />\r\n                  <span className=\"text-lg font-medium text-gray-900\">\r\n                    Active Subscription\r\n                  </span>\r\n                </div>\r\n              )}\r\n              \r\n              {user.lessonTokens && user.lessonTokens > 0 && (\r\n                <div className=\"text-center\">\r\n                  <p className=\"text-lg font-medium text-gray-900 mb-2\">\r\n                    Lesson Tokens Available\r\n                  </p>\r\n                  <p className=\"text-3xl font-bold text-blue-600\">\r\n                    {user.lessonTokens} tokens\r\n                  </p>\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {/* Next Steps */}\r\n          <div className=\"bg-blue-50 rounded-lg p-6 mb-8\">\r\n            <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">\r\n              What's Next?\r\n            </h3>\r\n            <div className=\"space-y-3 text-left\">\r\n              <div className=\"flex items-start\">\r\n                <span className=\"flex-shrink-0 w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-medium mr-3 mt-0.5\">\r\n                  1\r\n                </span>\r\n                <p className=\"text-gray-700\">\r\n                  You'll receive a confirmation email with your receipt\r\n                </p>\r\n              </div>\r\n              <div className=\"flex items-start\">\r\n                <span className=\"flex-shrink-0 w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-medium mr-3 mt-0.5\">\r\n                  2\r\n                </span>\r\n                <p className=\"text-gray-700\">\r\n                  Your account has been updated with your new features\r\n                </p>\r\n              </div>\r\n              <div className=\"flex items-start\">\r\n                <span className=\"flex-shrink-0 w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-medium mr-3 mt-0.5\">\r\n                  3\r\n                </span>\r\n                <p className=\"text-gray-700\">\r\n                  Start using your new features right away!\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Action Buttons */}\r\n          <div className=\"flex flex-col sm:flex-row gap-4 justify-center\">\r\n            <Link\r\n              href=\"/dashboard\"\r\n              className=\"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 transition-colors\"\r\n            >\r\n              Go to Dashboard\r\n            </Link>\r\n            <Link\r\n              href=\"/payment/history\"\r\n              className=\"inline-flex items-center px-6 py-3 border border-gray-300 text-base font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 transition-colors\"\r\n            >\r\n              View Payment History\r\n            </Link>\r\n          </div>\r\n\r\n          {/* Support */}\r\n          <div className=\"mt-8 pt-8 border-t border-gray-200\">\r\n            <p className=\"text-sm text-gray-500\">\r\n              Need help? Contact our support team at{' '}\r\n              <a href=\"mailto:support@verbfy.com\" className=\"text-blue-600 hover:text-blue-800\">\r\n                support@verbfy.com\r\n              </a>\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </DashboardLayout>\r\n  );\r\n} "],"names":["window","__NEXT_P","push","__webpack_require__","PaymentSuccessPage","router","useRouter","user","refreshUser","useAuth","loading","setLoading","useState","session_id","query","useEffect","finally","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","jsx","DashboardLayout","div","className","jsxs","CheckCircleIcon","h1","p","h2","subscriptionStatus","SparklesIcon","span","lessonTokens","h3","Link","href","a"],"sourceRoot":""}