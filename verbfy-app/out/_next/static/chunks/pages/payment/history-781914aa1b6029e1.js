(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3609],{40551:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/payment/history",function(){return t(1468)}])},1468:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return o}});var a=t(85893),i=t(67294),r=t(36197),n=t(11088),l=t(32798),c=t(72509),d=t(18654);function o(){let{user:e}=(0,r.aC)(),[s,t]=(0,i.useState)(null),[o,m]=(0,i.useState)(!0);(0,i.useEffect)(()=>{x()},[]);let x=async()=>{try{m(!0);let e=await l.wm.getPaymentStats();e.data.success&&t(e.data.data)}catch(e){console.error("Error loading payment stats:",e),c.Am.error("Failed to load payment statistics")}finally{m(!1)}};return o?(0,a.jsx)(n.Z,{children:(0,a.jsxs)("div",{className:"animate-pulse",children:[(0,a.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-8"}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[void 0,void 0,void 0,void 0].map((e,s)=>(0,a.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-4"}),(0,a.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/3"})]},s))})]})}):(0,a.jsx)(n.Z,{children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsxs)("div",{className:"flex items-center mb-4",children:[(0,a.jsx)(d.Z,{className:"h-8 w-8 text-blue-600 mr-3"}),(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Payments Unavailable"})]}),(0,a.jsx)("p",{className:"text-gray-600",children:"Payments are currently unavailable in your region."})]}),!1,e&&(e.subscriptionStatus||e.lessonTokens)&&(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 mb-8",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Current Status"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.subscriptionStatus&&(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Subscription"}),(0,a.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:"active"===e.subscriptionStatus?"Active":"Inactive"}),e.subscriptionType&&(0,a.jsx)("p",{className:"text-sm text-gray-500",children:e.subscriptionType}),e.subscriptionExpiry&&(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:["Expires: ",new Date(e.subscriptionExpiry).toLocaleDateString()]})]}),(0,a.jsx)("div",{className:"px-3 py-1 rounded-full text-sm font-medium ".concat("active"===e.subscriptionStatus?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:e.subscriptionStatus})]}),void 0!==e.lessonTokens&&(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Lesson Tokens"}),(0,a.jsxs)("p",{className:"text-lg font-semibold text-gray-900",children:[e.lessonTokens," tokens"]}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Available for booking lessons"})]}),(0,a.jsx)("div",{className:"px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800",children:e.lessonTokens>0?"Available":"None"})]})]})]}),(0,a.jsxs)("div",{className:"mt-8 bg-gray-50 rounded-lg p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Need Help?"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Payment Issues"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"If you're experiencing payment problems or need a refund, please contact our support team."}),(0,a.jsx)("a",{href:"/support",className:"text-sm text-blue-600 hover:text-blue-800",children:"Contact Support →"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Account Questions"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"Have questions about your subscription or lesson tokens? Check our FAQ or reach out to us."}),(0,a.jsx)("a",{href:"/faq",className:"text-sm text-blue-600 hover:text-blue-800",children:"View FAQ →"})]})]})]})]})})}}},function(e){e.O(0,[1216,1088,2888,179],function(){return e(e.s=40551)}),_N_E=e.O()}]);