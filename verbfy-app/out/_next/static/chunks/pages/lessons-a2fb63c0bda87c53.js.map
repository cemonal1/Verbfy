{"version":3,"file":"static/chunks/pages/lessons-a2fb63c0bda87c53.js","mappings":"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","sources":["webpack://_N_E/?3c18","webpack://_N_E/./pages/lessons.tsx"],"sourcesContent":["\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/lessons\",\n      function () {\n        return require(\"private-next-pages/lessons.tsx\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/lessons\"])\n      });\n    }\n  ","import React, { useEffect, useState } from 'react';\r\nimport { useRouter } from 'next/router';\r\nimport DashboardLayout from '@/components/layout/DashboardLayout';\r\nimport { lessonAPI } from '@/lib/api';\r\nimport { Lesson } from '@/types/lessons';\r\nimport { toast } from 'react-hot-toast';\r\nimport { \r\n  AcademicCapIcon, \r\n  ClockIcon, \r\n  UserIcon,\r\n  CalendarIcon,\r\n  CheckCircleIcon,\r\n  XCircleIcon\r\n} from '@heroicons/react/24/outline';\r\n\r\nfunction LessonsPage() {\r\n  const router = useRouter();\r\n  const [lessons, setLessons] = useState<Lesson[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [filters, setFilters] = useState({\r\n    status: 'all',\r\n    level: 'all',\r\n    page: 1,\r\n    limit: 10\r\n  });\r\n  const [pagination, setPagination] = useState({\r\n    page: 1,\r\n    limit: 10,\r\n    total: 0,\r\n    pages: 0\r\n  });\r\n\r\n  useEffect(() => {\r\n    loadLessons();\r\n  }, [filters]);\r\n\r\n  const loadLessons = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await lessonAPI.getStudentLessons(filters);\r\n      setLessons(response.data);\r\n      setPagination(response.pagination);\r\n    } catch (error: any) {\r\n      toast.error(error.response?.data?.message || 'Failed to load lessons');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const getStatusIcon = (status: string) => {\r\n    switch (status) {\r\n      case 'completed':\r\n        return <CheckCircleIcon className=\"w-5 h-5 text-green-500\" />;\r\n      case 'cancelled':\r\n        return <XCircleIcon className=\"w-5 h-5 text-red-500\" />;\r\n      case 'upcoming':\r\n        return <ClockIcon className=\"w-5 h-5 text-blue-500\" />;\r\n      default:\r\n        return <ClockIcon className=\"w-5 h-5 text-gray-500\" />;\r\n    }\r\n  };\r\n\r\n  const getStatusColor = (status: string) => {\r\n    switch (status) {\r\n      case 'completed':\r\n        return 'bg-green-100 text-green-800';\r\n      case 'cancelled':\r\n        return 'bg-red-100 text-red-800';\r\n      case 'upcoming':\r\n        return 'bg-blue-100 text-blue-800';\r\n      default:\r\n        return 'bg-gray-100 text-gray-800';\r\n    }\r\n  };\r\n\r\n  const formatDate = (dateString: string) => {\r\n    return new Date(dateString).toLocaleDateString('en-US', {\r\n      year: 'numeric',\r\n      month: 'short',\r\n      day: 'numeric',\r\n      hour: '2-digit',\r\n      minute: '2-digit'\r\n    });\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <DashboardLayout allowedRoles={['student']}>\r\n        <div className=\"max-w-6xl mx-auto p-6\">\r\n          <div className=\"animate-pulse\">\r\n            <div className=\"h-8 bg-gray-200 rounded w-1/4 mb-4\"></div>\r\n            <div className=\"space-y-4\">\r\n              {[...Array(5)].map((_, i) => (\r\n                <div key={i} className=\"h-24 bg-gray-200 rounded\"></div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </DashboardLayout>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <DashboardLayout allowedRoles={['student']}>\r\n      <div className=\"max-w-6xl mx-auto p-6\">\r\n        {/* Header */}\r\n        <div className=\"mb-8\">\r\n          <h1 className=\"text-3xl font-bold text-gray-900 flex items-center gap-3\">\r\n            <AcademicCapIcon className=\"w-8 h-8 text-blue-600\" />\r\n            My Lessons\r\n          </h1>\r\n          <p className=\"text-gray-600 mt-2\">Track your learning progress and upcoming sessions</p>\r\n        </div>\r\n\r\n        {/* Filters */}\r\n        <div className=\"bg-white rounded-lg shadow-sm border p-4 mb-6\">\r\n          <div className=\"flex flex-wrap gap-4\">\r\n            <select\r\n              value={filters.status}\r\n              onChange={(e) => setFilters({ ...filters, status: e.target.value })}\r\n              className=\"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n            >\r\n              <option value=\"all\">All Status</option>\r\n              <option value=\"upcoming\">Upcoming</option>\r\n              <option value=\"completed\">Completed</option>\r\n              <option value=\"cancelled\">Cancelled</option>\r\n            </select>\r\n            \r\n            <select\r\n              value={filters.level}\r\n              onChange={(e) => setFilters({ ...filters, level: e.target.value })}\r\n              className=\"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n            >\r\n              <option value=\"all\">All Levels</option>\r\n              <option value=\"beginner\">Beginner</option>\r\n              <option value=\"intermediate\">Intermediate</option>\r\n              <option value=\"advanced\">Advanced</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Lessons List */}\r\n        <div className=\"space-y-4\">\r\n          {lessons.length === 0 ? (\r\n            <div className=\"text-center py-12\">\r\n              <AcademicCapIcon className=\"w-16 h-16 text-gray-300 mx-auto mb-4\" />\r\n              <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No lessons found</h3>\r\n              <p className=\"text-gray-500\">You haven't taken any lessons yet.</p>\r\n            </div>\r\n          ) : (\r\n            lessons.map((lesson) => (\r\n              <div\r\n                key={lesson._id}\r\n                className=\"bg-white rounded-lg shadow-sm border p-6 hover:shadow-md transition-shadow\"\r\n              >\r\n                <div className=\"flex items-start justify-between\">\r\n                  <div className=\"flex-1\">\r\n                    <div className=\"flex items-center gap-3 mb-3\">\r\n                      <h3 className=\"text-lg font-semibold text-gray-900\">\r\n                        {lesson.title || lesson.topic}\r\n                      </h3>\r\n                      <span className={`px-2 py-1 rounded-full text-xs font-medium ${getStatusColor(lesson.status)}`}>\r\n                        {lesson.status}\r\n                      </span>\r\n                    </div>\r\n                    \r\n                    <p className=\"text-gray-600 mb-4\">\r\n                      {lesson.description || 'No description available'}\r\n                    </p>\r\n                    \r\n                    <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-gray-500\">\r\n                      <div className=\"flex items-center gap-2\">\r\n                        <CalendarIcon className=\"w-4 h-4\" />\r\n                        <span>{formatDate(lesson.scheduledAt)}</span>\r\n                      </div>\r\n                      \r\n                      <div className=\"flex items-center gap-2\">\r\n                        <ClockIcon className=\"w-4 h-4\" />\r\n                        <span>{lesson.duration || 60} minutes</span>\r\n                      </div>\r\n                      \r\n                      <div className=\"flex items-center gap-2\">\r\n                        <UserIcon className=\"w-4 h-4\" />\r\n                        <span>{lesson.teacher?.name || 'Teacher TBD'}</span>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  <div className=\"flex items-center gap-2\">\r\n                    {getStatusIcon(lesson.status)}\r\n                  </div>\r\n                </div>\r\n                \r\n                {lesson.status === 'upcoming' && (\r\n                  <div className=\"mt-4 pt-4 border-t border-gray-200\">\r\n                    <button\r\n                      onClick={() => router.push(`/lessons/${lesson._id}`)}\r\n                      className=\"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors\"\r\n                    >\r\n                      View Details\r\n                    </button>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            ))\r\n          )}\r\n        </div>\r\n\r\n        {/* Pagination */}\r\n        {pagination.pages > 1 && (\r\n          <div className=\"mt-8 flex justify-center\">\r\n            <nav className=\"flex items-center gap-2\">\r\n              <button\r\n                onClick={() => setFilters({ ...filters, page: Math.max(1, filters.page - 1) })}\r\n                disabled={filters.page === 1}\r\n                className=\"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n              >\r\n                Previous\r\n              </button>\r\n              \r\n              <span className=\"px-3 py-2 text-sm text-gray-700\">\r\n                Page {filters.page} of {pagination.pages}\r\n              </span>\r\n              \r\n              <button\r\n                onClick={() => setFilters({ ...filters, page: Math.min(pagination.pages, filters.page + 1) })}\r\n                disabled={filters.page === pagination.pages}\r\n                className=\"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n              >\r\n                Next\r\n              </button>\r\n            </nav>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </DashboardLayout>\r\n  );\r\n}\r\n\r\nexport default LessonsPage;\r\n"],"names":["window","__NEXT_P","push","__webpack_require__","__webpack_exports__","router","useRouter","lessons","setLessons","useState","loading","setLoading","filters","setFilters","status","level","page","limit","pagination","setPagination","total","pages","useEffect","loadLessons","response","lessonAPI","getStudentLessons","data","error","toast","message","getStatusIcon","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","jsx","CheckCircleIcon","className","XCircleIcon","ClockIcon","getStatusColor","formatDate","Date","dateString","toLocaleDateString","year","month","day","hour","minute","DashboardLayout","allowedRoles","div","jsxs","map","_","i","h1","AcademicCapIcon","p","select","value","onChange","e","target","option","length","h3","lesson","title","topic","span","concat","description","CalendarIcon","scheduledAt","duration","UserIcon","teacher","name","button","onClick","_id","nav","Math","max","disabled","min"],"sourceRoot":""}