{"version":3,"file":"static/chunks/pages/verbfy-games-43728ccbf572da41.js","mappings":"sFACA,CAAAA,OAAAC,QAAA,CAAAD,OAAAC,QAAA,MAAAC,IAAA,EACA,gBACA,WACA,OAAeC,EAAQ,MACvB,EACA,qLCcA,IAAMC,EAAgB,qBAChBC,EAAiB,KACrB,GAAI,CACF,IAAMC,EAAMC,aAAaC,OAAO,CAACJ,GACjC,GAAI,CAACE,EAAK,MAAO,EAAE,CACnB,IAAMG,EAAMC,KAAKC,KAAK,CAACL,GACvB,OAAOM,MAAMC,OAAO,CAACJ,GAAOA,EAAM,EAAE,CACpC,MAAAK,EAAM,CACN,MAAO,EAAE,CAEb,EACMC,EAAiB,GAAiBR,aAAaS,OAAO,CAACZ,EAAeM,KAAKO,SAAS,CAACR,IAE5E,SAASS,IACtB,GAAM,CAAEC,EAAAA,CAAC,CAAEC,OAAAA,CAAM,CAAE,CAAGC,CAAAA,EAAAA,EAAAA,CAAAA,IAChB,CAAEC,KAAAA,CAAI,CAAE,CAAGC,CAAAA,EAAAA,EAAAA,EAAAA,IACXC,EAAUF,CAAAA,MAAAA,EAAAA,KAAAA,EAAAA,EAAMG,IAAI,IAAK,QAEzB,CAACC,EAAOC,EAAS,CAAGC,CAAAA,EAAAA,EAAAA,QAAAA,EAAiB,EAAE,EACvC,CAACC,EAAQC,EAAU,CAAGF,CAAAA,EAAAA,EAAAA,QAAAA,EAAS,IAC/B,CAACG,EAAUC,EAAY,CAAGJ,CAAAA,EAAAA,EAAAA,QAAAA,EAAS,IACnC,CAACK,EAAOC,EAAS,CAAGN,CAAAA,EAAAA,EAAAA,QAAAA,EAAS,IAC7B,CAACO,EAASC,EAAW,CAAGR,CAAAA,EAAAA,EAAAA,QAAAA,EAAS,IACjC,CAACS,EAAMC,EAAQ,CAAGV,CAAAA,EAAAA,EAAAA,QAAAA,EAAe,CAAEW,MAAO,GAAIC,YAAa,GAAIT,SAAU,GAAIE,MAAO,GAAIQ,aAAc,GAAIC,QAAS,EAAG,GACtH,CAACC,EAASC,EAAW,CAAGhB,CAAAA,EAAAA,EAAAA,QAAAA,EAAsB,MAE9CiB,EAAaC,CAAAA,EAAAA,EAAAA,OAAAA,EAAQ,IAAM,CAAC,aAAc,UAAW,YAAa,UAAW,WAAY,OAAO,CAAE,EAAE,EACpGC,EAASD,CAAAA,EAAAA,EAAAA,OAAAA,EAAQ,IAAM,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,KAAK,CAAE,EAAE,EAErEE,CAAAA,EAAAA,EAAAA,SAAAA,EAAU,KACR,IAAIC,EAAQ,GAYZ,MADAC,CAVY,UACV,GAAI,KAEUC,EADZ,IAAMC,EAAM,MAAMC,EAAAA,EAAQA,CAACC,IAAI,CAAC,CAAEvB,SAAAA,EAAUE,MAAAA,EAAOJ,OAAAA,CAAO,GACpDpB,EAAM,CAAC2C,MAAAA,EAAAA,KAAAA,EAAAA,OAADD,CAAAA,EAAAC,EAAcG,IAAI,GAAlBJ,KAAA,IAAAA,EAAA,OAAAA,EAAoBI,IAAI,GAAI,EAAE,CACrCN,GAAOtB,EAASlB,EACvB,CAAE,MAAAK,EAAM,CAEDmC,GAAOtB,EAAStB,IACvB,CACF,KAEO,KAAQ4C,EAAQ,EAAM,CAC/B,EAAG,CAAClB,EAAUE,EAAOJ,EAAO,EAE5B,IAAM2B,EAAW9B,EAAM+B,MAAM,CAAC,IAC5B,IAAMC,EAAI7B,EAAO8B,IAAI,GAAGC,WAAW,GACnC,MACE,CAAC,CAAC7B,GAAY8B,EAAE9B,QAAQ,GAAKA,CAAAA,GAC5B,EAACE,GAAS4B,EAAE5B,KAAK,GAAKA,CAAAA,GACtB,EAACyB,GAAKG,EAAEtB,KAAK,CAACqB,WAAW,GAAGE,QAAQ,CAACJ,IAAM,CAACG,EAAErB,WAAW,EAAI,IAAIoB,WAAW,GAAGE,QAAQ,CAACJ,EAAAA,CAE7F,GAEMK,EAAU,UACd,GAAI,EAAMxB,KAAK,EAAKF,EAAKK,OAAO,CAChC,GAAI,KAEcS,EADhB,IAAMC,EAAM,MAAMC,EAAAA,EAAQA,CAACW,MAAM,CAAC3B,GAC5B4B,EAAWb,MAAAA,EAAAA,KAAAA,EAAAA,OAADD,CAAAA,EAAAC,EAAcG,IAAI,GAAlBJ,KAAA,IAAAA,EAAA,OAAAA,EAAoBI,IAAI,CACpCU,GACFtC,EAAS,GAAO,CAACsC,KAAYC,EAAE,CAEnC,CAAE,MAAApD,EAAM,CAEN,IAAMqD,EAAK,GAAcC,MAAA,CAAXC,KAAKC,GAAG,IAEhBC,EAAO,CADG,CAAE,GAAGlC,CAAI,CAAE8B,GAAAA,EAAIK,IAAKL,EAAIM,UAAW,IAAIJ,OAAOK,WAAW,EAAG,KAClDhD,EAAM,CAChCC,EAAS4C,GACTxD,EAAewD,EACjB,QAAU,CACRnC,EAAW,IACXE,EAAQ,CAAEC,MAAO,GAAIC,YAAa,GAAIT,SAAU,GAAIE,MAAO,GAAIQ,aAAc,GAAIC,QAAS,EAAG,EAC/F,CACF,EAEMiC,EAAa,MAAOR,IACxB,GAAI,CACF,MAAMd,EAAAA,EAAQA,CAACuB,MAAM,CAACT,GACtBxC,EAAS,GAAOuC,EAAET,MAAM,CAAC,GAAO,CAACI,EAAEW,GAAG,EAAIX,EAAEM,EAAE,IAAMA,GACtD,CAAE,MAAArD,EAAM,CACN,IAAMyD,EAAO7C,EAAM+B,MAAM,CAAC,GAAO,CAACI,EAAEW,GAAG,EAAIX,EAAEM,EAAE,IAAMA,GACrDxC,EAAS4C,GACTxD,EAAewD,EACjB,CACF,EAEA,MACE,GAAAM,EAAAC,IAAA,EAACC,MAAAA,CAAIC,UAAU,kCACb,GAAAH,EAAAI,GAAA,EAACC,IAAIA,UACH,GAAAL,EAAAI,GAAA,EAAC1C,QAAAA,UAAM,kBAET,GAAAsC,EAAAC,IAAA,EAACK,OAAAA,CAAKH,UAAU,yDACd,GAAAH,EAAAC,IAAA,EAACC,MAAAA,CAAIC,UAAU,iBACb,GAAAH,EAAAI,GAAA,EAACG,KAAAA,CAAGJ,UAAU,wDAA+C,gBAC7D,GAAAH,EAAAI,GAAA,EAACI,IAAAA,CAAEL,UAAU,8BACV5D,OAAAA,EACG,uGACA,mFAKR,GAAAyD,EAAAC,IAAA,EAACC,MAAAA,CAAIC,UAAU,gHACb,GAAAH,EAAAI,GAAA,EAACK,QAAAA,CAAMC,MAAO1D,EAAQ2D,SAAU,GAAO1D,EAAUhB,EAAE2E,MAAM,CAACF,KAAK,EAAGG,YAAatE,OAAAA,EAAkB,SAAW,YAAa4D,UAAU,4HACnI,GAAAH,EAAAC,IAAA,EAACa,SAAAA,CAAOJ,MAAOxD,EAAUyD,SAAU,GAAOxD,EAAYlB,EAAE2E,MAAM,CAACF,KAAK,EAAGP,UAAU,4GAC/E,GAAAH,EAAAI,GAAA,EAACW,SAAAA,CAAOL,MAAM,YAAInE,OAAAA,EAAkB,qBAAoB,mBACvDyB,EAAWgD,GAAG,CAAC,GACd,GAAAhB,EAAAI,GAAA,EAACW,SAAAA,CAAeL,MAAOO,WAAIA,GAAdA,OAGjB,GAAAjB,EAAAC,IAAA,EAACa,SAAAA,CAAOJ,MAAOtD,EAAOuD,SAAU,GAAOtD,EAASpB,EAAE2E,MAAM,CAACF,KAAK,EAAGP,UAAU,4GACzE,GAAAH,EAAAI,GAAA,EAACW,SAAAA,CAAOL,MAAM,YAAInE,OAAAA,EAAkB,mBAAkB,eACrD2B,EAAO8C,GAAG,CAAC,GACV,GAAAhB,EAAAI,GAAA,EAACW,SAAAA,CAAeL,MAAOQ,WAAIA,GAAdA,OAGhBvE,GACC,GAAAqD,EAAAI,GAAA,EAACe,SAAAA,CAAOC,QAAS,IAAM7D,EAAW,IAAO4C,UAAU,iFAAyE5D,OAAAA,EAAkB,iBAAmB,gBAKpKI,GAAWW,GACV,GAAA0C,EAAAC,IAAA,EAACC,MAAAA,CAAIC,UAAU,kEACb,GAAAH,EAAAI,GAAA,EAACiB,KAAAA,CAAGlB,UAAU,8BAAsB5D,OAAAA,EAAkB,YAAc,aACpE,GAAAyD,EAAAC,IAAA,EAACC,MAAAA,CAAIC,UAAU,kDACb,GAAAH,EAAAI,GAAA,EAACK,QAAAA,CAAMC,MAAOlD,EAAKE,KAAK,CAAEiD,SAAU,GAAOlD,EAAQ,CAAE,GAAGD,CAAI,CAAEE,MAAOzB,EAAE2E,MAAM,CAACF,KAAK,GAAKG,YAAatE,OAAAA,EAAkB,SAAW,QAAS4D,UAAU,gDACrJ,GAAAH,EAAAI,GAAA,EAACK,QAAAA,CAAMC,MAAOlD,EAAKI,YAAY,CAAE+C,SAAU,GAAOlD,EAAQ,CAAE,GAAGD,CAAI,CAAEI,aAAc3B,EAAE2E,MAAM,CAACF,KAAK,GAAKG,YAAatE,OAAAA,EAAkB,gBAAe,gBAAiB4D,UAAU,gDAC/K,GAAAH,EAAAI,GAAA,EAACK,QAAAA,CAAMC,MAAOlD,EAAKK,OAAO,CAAE8C,SAAU,GAAOlD,EAAQ,CAAE,GAAGD,CAAI,CAAEK,QAAS5B,EAAE2E,MAAM,CAACF,KAAK,GAAKG,YAAatE,OAAAA,EAAkB,oBAAsB,oBAAqB4D,UAAU,gDAChL,GAAAH,EAAAC,IAAA,EAACa,SAAAA,CAAOJ,MAAOlD,EAAKN,QAAQ,CAAEyD,SAAU,GAAOlD,EAAQ,CAAE,GAAGD,CAAI,CAAEN,SAAUjB,EAAE2E,MAAM,CAACF,KAAK,GAAKP,UAAU,wDACvG,GAAAH,EAAAI,GAAA,EAACW,SAAAA,CAAOL,MAAM,YAAInE,OAAAA,EAAkB,WAAa,aAChDyB,EAAWgD,GAAG,CAAC,GAAQ,GAAAhB,EAAAI,GAAA,EAACW,SAAAA,CAAeL,MAAOO,WAAIA,GAAdA,OAEvC,GAAAjB,EAAAC,IAAA,EAACa,SAAAA,CAAOJ,MAAOlD,EAAKJ,KAAK,CAAEuD,SAAU,GAAOlD,EAAQ,CAAE,GAAGD,CAAI,CAAEJ,MAAOnB,EAAE2E,MAAM,CAACF,KAAK,GAAKP,UAAU,wDACjG,GAAAH,EAAAI,GAAA,EAACW,SAAAA,CAAOL,MAAM,YAAInE,OAAAA,EAAkB,SAAW,UAC9C2B,EAAO8C,GAAG,CAAC,GAAQ,GAAAhB,EAAAI,GAAA,EAACW,SAAAA,CAAeL,MAAOQ,WAAIA,GAAdA,UAGrC,GAAAlB,EAAAC,IAAA,EAACC,MAAAA,CAAIC,UAAU,4BACb,GAAAH,EAAAI,GAAA,EAACe,SAAAA,CAAOC,QAASlC,EAASiB,UAAU,yEAAiE5D,OAAAA,EAAkB,SAAW,SAClI,GAAAyD,EAAAI,GAAA,EAACe,SAAAA,CAAOC,QAAS,IAAM7D,EAAW,IAAQ4C,UAAU,uDAA+C5D,OAAAA,EAAkB,QAAU,iBAMrI,GAAAyD,EAAAI,GAAA,EAACF,MAAAA,CAAIC,UAAU,gEACZxB,EAASqC,GAAG,CAAC,IACZ,IAAM1B,EAAKN,EAAEW,GAAG,EAAIX,EAAEM,EAAE,EAAIN,EAAEtB,KAAK,CACnC,MACE,GAAAsC,EAAAC,IAAA,EAACC,MAAAA,CAAuBC,UAAU,sHAChC,GAAAH,EAAAI,GAAA,EAACF,MAAAA,CAAIC,UAAU,yBACb,GAAAH,EAAAI,GAAA,EAACkB,IAAKA,CAACC,IAAKvC,EAAEpB,YAAY,EAAI,4BAA6B4D,IAAKxC,EAAEtB,KAAK,CAAE+D,KAAI,GAACtB,UAAU,iFAE1F,GAAAH,EAAAC,IAAA,EAACC,MAAAA,CAAIC,UAAU,gBACb,GAAAH,EAAAI,GAAA,EAACsB,KAAAA,CAAGvB,UAAU,oDAA4CnB,EAAEtB,KAAK,GACjE,GAAAsC,EAAAI,GAAA,EAACI,IAAAA,CAAEL,UAAU,mDAA2CnB,EAAErB,WAAW,GACrE,GAAAqC,EAAAC,IAAA,EAACC,MAAAA,CAAIC,UAAU,yEACb,GAAAH,EAAAC,IAAA,EAAC0B,OAAAA,WAAM3C,EAAE9B,QAAQ,EAAI,IAAI,SAAI8B,EAAE5B,KAAK,EAAI,OACxC,GAAA4C,EAAAC,IAAA,EAACC,MAAAA,CAAIC,UAAU,uBACb,GAAAH,EAAAI,GAAA,EAACe,SAAAA,CAAOC,QAAS,IAAMrD,EAAWiB,GAAImB,UAAU,wEAAgE5D,OAAAA,EAAkB,YAAW,YAC5II,GACC,GAAAqD,EAAAI,GAAA,EAACe,SAAAA,CAAOC,QAAS,IAAMtB,EAAWR,GAAea,UAAU,mFAA2E5D,OAAAA,EAAkB,MAAQ,sBAZhK+C,EAmBd,KAIDxB,GACC,GAAAkC,EAAAI,GAAA,EAACF,MAAAA,CAAIC,UAAU,kEAAkEiB,QAAS,IAAMrD,EAAW,eACzG,GAAAiC,EAAAC,IAAA,EAACC,MAAAA,CAAIC,UAAU,kEAAkEiB,QAAS,GAAOnF,EAAE2F,eAAe,aAChH,GAAA5B,EAAAC,IAAA,EAACC,MAAAA,CAAIC,UAAU,2EACb,GAAAH,EAAAI,GAAA,EAACI,IAAAA,CAAEL,UAAU,yBAAiBrC,EAAQJ,KAAK,GAC3C,GAAAsC,EAAAI,GAAA,EAACe,SAAAA,CAAOC,QAAS,IAAMrD,EAAW,MAAOoC,UAAU,uDAA+C5D,OAAAA,EAAkB,QAAU,aAEhI,GAAAyD,EAAAI,GAAA,EAACyB,SAAAA,CAAON,IAAKzD,EAAQD,OAAO,CAAEH,MAAOI,EAAQJ,KAAK,CAAEyC,UAAU,gBAAgB2B,gBAAe,eAO3G","sources":["webpack://_N_E/?f886","webpack://_N_E/./pages/verbfy-games/index.tsx"],"sourcesContent":["\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/verbfy-games\",\n      function () {\n        return require(\"private-next-pages/verbfy-games/index.tsx\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/verbfy-games\"])\n      });\n    }\n  ","import React, { useEffect, useMemo, useState } from 'react';\nimport Head from 'next/head';\nimport Image from 'next/image';\nimport { useI18n } from '@/lib/i18n';\nimport { gamesAPI } from '@/lib/api';\nimport { useAuth } from '@/context/AuthContext';\n\ntype Game = {\n  _id?: string;\n  id?: string;\n  title: string;\n  description?: string;\n  category?: string; // Vocabulary, Grammar, Listening, etc.\n  level?: string; // A1..C2\n  thumbnailUrl?: string;\n  gameUrl?: string; // public URL (iframe) or internal route\n  createdAt?: string;\n};\n\n// Temporary in-memory store (replace with API when backend is ready)\nconst localGamesKey = 'verbfy_games_store';\nconst loadLocalGames = (): Game[] => {\n  try {\n    const raw = localStorage.getItem(localGamesKey);\n    if (!raw) return [];\n    const arr = JSON.parse(raw);\n    return Array.isArray(arr) ? arr : [];\n  } catch {\n    return [];\n  }\n};\nconst saveLocalGames = (arr: Game[]) => localStorage.setItem(localGamesKey, JSON.stringify(arr));\n\nexport default function VerbfyGamesPage() {\n  const { t, locale } = useI18n();\n  const { user } = useAuth();\n  const isAdmin = user?.role === 'admin';\n\n  const [games, setGames] = useState<Game[]>([]);\n  const [search, setSearch] = useState('');\n  const [category, setCategory] = useState('');\n  const [level, setLevel] = useState('');\n  const [showAdd, setShowAdd] = useState(false);\n  const [form, setForm] = useState<Game>({ title: '', description: '', category: '', level: '', thumbnailUrl: '', gameUrl: '' });\n  const [preview, setPreview] = useState<Game | null>(null);\n\n  const categories = useMemo(() => ['Vocabulary', 'Grammar', 'Listening', 'Reading', 'Speaking', 'Exam'], []);\n  const levels = useMemo(() => ['A1', 'A2', 'B1', 'B2', 'C1', 'C2'], []);\n\n  useEffect(() => {\n    let abort = false;\n    const run = async () => {\n      try {\n        const res = await gamesAPI.list({ category, level, search });\n        const arr = (res as any)?.data?.data || [];\n        if (!abort) setGames(arr);\n      } catch {\n        // Fallback to local for safety\n        if (!abort) setGames(loadLocalGames());\n      }\n    };\n    run();\n    return () => { abort = true; };\n  }, [category, level, search]);\n\n  const filtered = games.filter((g) => {\n    const s = search.trim().toLowerCase();\n    return (\n      (!category || g.category === category) &&\n      (!level || g.level === level) &&\n      (!s || g.title.toLowerCase().includes(s) || (g.description || '').toLowerCase().includes(s))\n    );\n  });\n\n  const addGame = async () => {\n    if (!form.title || !form.gameUrl) return;\n    try {\n      const res = await gamesAPI.create(form as any);\n      const created = (res as any)?.data?.data;\n      if (created) {\n        setGames((x) => [created, ...x]);\n      }\n    } catch {\n      // Fallback to local if API fails\n      const id = `${Date.now()}`;\n      const newGame = { ...form, id, _id: id, createdAt: new Date().toISOString() } as Game;\n      const next = [newGame, ...games];\n      setGames(next);\n      saveLocalGames(next);\n    } finally {\n      setShowAdd(false);\n      setForm({ title: '', description: '', category: '', level: '', thumbnailUrl: '', gameUrl: '' });\n    }\n  };\n\n  const removeGame = async (id: string) => {\n    try {\n      await gamesAPI.delete(id);\n      setGames((x) => x.filter((g) => (g._id || g.id) !== id));\n    } catch {\n      const next = games.filter((g) => (g._id || g.id) !== id);\n      setGames(next);\n      saveLocalGames(next);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-white\">\n      <Head>\n        <title>VerbfyGames</title>\n      </Head>\n      <main className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10\">\n        <div className=\"mb-8\">\n          <h1 className=\"text-3xl sm:text-4xl font-bold text-gray-900\">VerbfyGames</h1>\n          <p className=\"text-gray-600 mt-2\">\n            {locale === 'tr'\n              ? 'Tarayıcı üzerinden oynanabilen öğretici mini oyunlar. Kelime, gramer, dinleme ve daha fazlası.'\n              : 'Browser-based learning mini games. Vocabulary, grammar, listening and more.'}\n          </p>\n        </div>\n\n        {/* Filters */}\n        <div className=\"bg-white border border-gray-200 rounded-xl p-4 mb-6 flex flex-col sm:flex-row gap-4 sm:items-center\">\n          <input value={search} onChange={(e) => setSearch(e.target.value)} placeholder={locale === 'tr' ? 'Ara...' : 'Search...'} className=\"w-full sm:w-auto flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\" />\n          <select value={category} onChange={(e) => setCategory(e.target.value)} className=\"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\">\n            <option value=\"\">{locale === 'tr' ? 'Tüm kategoriler' : 'All categories'}</option>\n            {categories.map((c) => (\n              <option key={c} value={c}>{c}</option>\n            ))}\n          </select>\n          <select value={level} onChange={(e) => setLevel(e.target.value)} className=\"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\">\n            <option value=\"\">{locale === 'tr' ? 'Tüm seviyeler' : 'All levels'}</option>\n            {levels.map((l) => (\n              <option key={l} value={l}>{l}</option>\n            ))}\n          </select>\n          {isAdmin && (\n            <button onClick={() => setShowAdd(true)} className=\"ml-auto px-4 py-2 rounded-md bg-blue-600 text-white hover:bg-blue-700\">{locale === 'tr' ? 'Yeni Oyun Ekle' : 'Add Game'}</button>\n          )}\n        </div>\n\n        {/* Add dialog */}\n        {isAdmin && showAdd && (\n          <div className=\"mb-6 border border-blue-200 rounded-xl p-4 bg-blue-50\">\n            <h2 className=\"font-semibold mb-3\">{locale === 'tr' ? 'Yeni Oyun' : 'New Game'}</h2>\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-3\">\n              <input value={form.title} onChange={(e) => setForm({ ...form, title: e.target.value })} placeholder={locale === 'tr' ? 'Başlık' : 'Title'} className=\"px-3 py-2 border border-gray-300 rounded-lg\" />\n              <input value={form.thumbnailUrl} onChange={(e) => setForm({ ...form, thumbnailUrl: e.target.value })} placeholder={locale === 'tr' ? 'Görsel URL' : 'Thumbnail URL'} className=\"px-3 py-2 border border-gray-300 rounded-lg\" />\n              <input value={form.gameUrl} onChange={(e) => setForm({ ...form, gameUrl: e.target.value })} placeholder={locale === 'tr' ? 'Oyun URL (iframe)' : 'Game URL (iframe)'} className=\"px-3 py-2 border border-gray-300 rounded-lg\" />\n              <select value={form.category} onChange={(e) => setForm({ ...form, category: e.target.value })} className=\"px-3 py-2 border border-gray-300 rounded-lg\">\n                <option value=\"\">{locale === 'tr' ? 'Kategori' : 'Category'}</option>\n                {categories.map((c) => (<option key={c} value={c}>{c}</option>))}\n              </select>\n              <select value={form.level} onChange={(e) => setForm({ ...form, level: e.target.value })} className=\"px-3 py-2 border border-gray-300 rounded-lg\">\n                <option value=\"\">{locale === 'tr' ? 'Seviye' : 'Level'}</option>\n                {levels.map((l) => (<option key={l} value={l}>{l}</option>))}\n              </select>\n            </div>\n            <div className=\"mt-3 flex gap-3\">\n              <button onClick={addGame} className=\"px-4 py-2 rounded-md bg-blue-600 text-white hover:bg-blue-700\">{locale === 'tr' ? 'Kaydet' : 'Save'}</button>\n              <button onClick={() => setShowAdd(false)} className=\"px-4 py-2 rounded-md border border-gray-300\">{locale === 'tr' ? 'İptal' : 'Cancel'}</button>\n            </div>\n          </div>\n        )}\n\n        {/* Games */}\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6\">\n          {filtered.map((g) => {\n            const id = g._id || g.id || g.title;\n            return (\n              <div key={id as string} className=\"group bg-white border border-gray-200 rounded-xl overflow-hidden shadow-sm hover:shadow-md transition-all\">\n                <div className=\"relative h-40\">\n                  <Image src={g.thumbnailUrl || '/images/verbfy-listen.png'} alt={g.title} fill className=\"object-contain p-4 group-hover:scale-105 transition-transform duration-200\" />\n                </div>\n                <div className=\"p-4\">\n                  <h3 className=\"font-semibold text-gray-900 line-clamp-1\">{g.title}</h3>\n                  <p className=\"text-sm text-gray-600 line-clamp-2 mt-1\">{g.description}</p>\n                  <div className=\"mt-3 flex items-center justify-between text-sm text-gray-500\">\n                    <span>{g.category || '-'} · {g.level || '-'}</span>\n                    <div className=\"flex gap-2\">\n                      <button onClick={() => setPreview(g)} className=\"px-3 py-1 rounded-md border border-gray-300 hover:bg-gray-50\">{locale === 'tr' ? 'Önizle' : 'Preview'}</button>\n                      {isAdmin && (\n                        <button onClick={() => removeGame(id as string)} className=\"px-3 py-1 rounded-md border border-red-300 text-red-600 hover:bg-red-50\">{locale === 'tr' ? 'Sil' : 'Delete'}</button>\n                      )}\n                    </div>\n                  </div>\n                </div>\n              </div>\n            );\n          })}\n        </div>\n\n        {/* Preview modal */}\n        {preview && (\n          <div className=\"fixed inset-0 bg-black/50 z-50 flex items-center justify-center\" onClick={() => setPreview(null)}>\n            <div className=\"bg-white rounded-xl w-[95vw] h-[85vh] max-w-5xl overflow-hidden\" onClick={(e) => e.stopPropagation()}>\n              <div className=\"p-3 flex items-center justify-between border-b border-gray-200\">\n                <p className=\"font-semibold\">{preview.title}</p>\n                <button onClick={() => setPreview(null)} className=\"px-3 py-1 rounded-md border border-gray-300\">{locale === 'tr' ? 'Kapat' : 'Close'}</button>\n              </div>\n              <iframe src={preview.gameUrl} title={preview.title} className=\"w-full h-full\" allowFullScreen />\n            </div>\n          </div>\n        )}\n      </main>\n    </div>\n  );\n}\n\n\n"],"names":["window","__NEXT_P","push","__webpack_require__","localGamesKey","loadLocalGames","raw","localStorage","getItem","arr","JSON","parse","Array","isArray","e","saveLocalGames","setItem","stringify","VerbfyGamesPage","t","locale","useI18n","user","useAuth","isAdmin","role","games","setGames","useState","search","setSearch","category","setCategory","level","setLevel","showAdd","setShowAdd","form","setForm","title","description","thumbnailUrl","gameUrl","preview","setPreview","categories","useMemo","levels","useEffect","abort","run","_res_data","res","gamesAPI","list","data","filtered","filter","s","trim","toLowerCase","g","includes","addGame","create","created","x","id","concat","Date","now","next","_id","createdAt","toISOString","removeGame","delete","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","jsxs","div","className","jsx","Head","main","h1","p","input","value","onChange","target","placeholder","select","option","map","c","l","button","onClick","h2","Image","src","alt","fill","h3","span","stopPropagation","iframe","allowFullScreen"],"sourceRoot":""}