{"version":3,"file":"static/chunks/pages/personalized-curriculum-db4e461052f6561f.js","mappings":"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","sources":["webpack://_N_E/?3b1a","webpack://_N_E/./pages/personalized-curriculum/index.tsx"],"sourcesContent":["\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/personalized-curriculum\",\n      function () {\n        return require(\"private-next-pages/personalized-curriculum/index.tsx\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/personalized-curriculum\"])\n      });\n    }\n  ","import React, { useState, useEffect } from 'react';\r\nimport { useRouter } from 'next/router';\r\nimport Head from 'next/head';\r\nimport DashboardLayout from '@/components/layout/DashboardLayout';\r\nimport { personalizedCurriculumAPI } from '@/lib/api';\r\nimport { PersonalizedCurriculum, CurriculumRecommendation } from '@/types/personalizedCurriculum';\r\nimport { useAuthContext } from '@/context/AuthContext';\r\nimport { useToast } from '@/components/common/Toast';\r\n\r\nexport default function PersonalizedCurriculumPage() {\r\n  const router = useRouter();\r\n  const { user } = useAuthContext();\r\n  const { success, error } = useToast();\r\n  \r\n  const [curriculum, setCurriculum] = useState<PersonalizedCurriculum | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [activeTab, setActiveTab] = useState<'overview' | 'progress' | 'recommendations'>('overview');\r\n\r\n  useEffect(() => {\r\n    loadCurriculum();\r\n  }, []);\r\n\r\n  const loadCurriculum = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await personalizedCurriculumAPI.getCurriculum();\r\n      setCurriculum(response);\r\n    } catch (err) {\r\n      console.error('Error loading curriculum:', err);\r\n      // If no curriculum exists, create one\r\n      await createCurriculum();\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const createCurriculum = async () => {\r\n    try {\r\n      const response = await personalizedCurriculumAPI.createCurriculum({\r\n        currentCEFRLevel: (user?.cefrLevel as 'A1' | 'A2' | 'B1' | 'B2' | 'C1' | 'C2') || 'A1',\r\n        targetCEFRLevel: 'B2',\r\n        learningGoals: [\r\n          { skill: 'grammar', currentLevel: 0, targetLevel: 80, priority: 'high' },\r\n          { skill: 'reading', currentLevel: 0, targetLevel: 75, priority: 'medium' },\r\n          { skill: 'writing', currentLevel: 0, targetLevel: 70, priority: 'medium' },\r\n          { skill: 'speaking', currentLevel: 0, targetLevel: 75, priority: 'high' },\r\n          { skill: 'listening', currentLevel: 0, targetLevel: 80, priority: 'medium' },\r\n          { skill: 'vocabulary', currentLevel: 0, targetLevel: 85, priority: 'high' }\r\n        ]\r\n      });\r\n      setCurriculum(response.curriculum);\r\n      success('Personalized curriculum created!');\r\n    } catch (err) {\r\n      error('Failed to create curriculum');\r\n      console.error('Error creating curriculum:', err);\r\n    }\r\n  };\r\n\r\n  const handleCompleteRecommendation = async (recommendationId: string) => {\r\n    try {\r\n      await personalizedCurriculumAPI.completeRecommendation(recommendationId);\r\n      success('Recommendation completed!');\r\n      loadCurriculum(); // Reload to get updated data\r\n    } catch (err) {\r\n      error('Failed to complete recommendation');\r\n      console.error('Error completing recommendation:', err);\r\n    }\r\n  };\r\n\r\n  const getSkillIcon = (skill: string) => {\r\n    const icons = {\r\n      grammar: '📝',\r\n      reading: '📖',\r\n      writing: '✍️',\r\n      speaking: '🎤',\r\n      listening: '🎧',\r\n      vocabulary: '📚'\r\n    };\r\n    return icons[skill as keyof typeof icons] || '📚';\r\n  };\r\n\r\n  const getProgressColor = (progress: number) => {\r\n    if (progress >= 80) return 'text-green-600';\r\n    if (progress >= 60) return 'text-blue-600';\r\n    if (progress >= 40) return 'text-yellow-600';\r\n    return 'text-red-600';\r\n  };\r\n\r\n  const getProgressBackground = (progress: number) => {\r\n    if (progress >= 80) return 'bg-green-100';\r\n    if (progress >= 60) return 'bg-blue-100';\r\n    if (progress >= 40) return 'bg-yellow-100';\r\n    return 'bg-red-100';\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <DashboardLayout allowedRoles={['student']}>\r\n        <div className=\"flex items-center justify-center h-64\">\r\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"></div>\r\n        </div>\r\n      </DashboardLayout>\r\n    );\r\n  }\r\n\r\n  if (!curriculum) {\r\n    return (\r\n      <DashboardLayout allowedRoles={['student']}>\r\n        <div className=\"text-center py-12\">\r\n          <h2 className=\"text-xl font-semibold text-gray-900 mb-2\">No curriculum found</h2>\r\n          <button\r\n            onClick={createCurriculum}\r\n            className=\"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors\"\r\n          >\r\n            Create My Curriculum\r\n          </button>\r\n        </div>\r\n      </DashboardLayout>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <DashboardLayout allowedRoles={['student']}>\r\n      <Head>\r\n        <title>My Curriculum - Verbfy</title>\r\n      </Head>\r\n\r\n      <div className=\"p-6 max-w-7xl mx-auto\">\r\n        {/* Header */}\r\n        <div className=\"mb-8\">\r\n          <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">My Learning Path</h1>\r\n          <p className=\"text-gray-600\">\r\n            Your personalized curriculum designed to help you reach {curriculum.targetCEFRLevel} level\r\n          </p>\r\n        </div>\r\n\r\n        {/* Progress Overview Card */}\r\n        <div className=\"mb-8 p-6 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg border border-blue-200\">\r\n          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6\">\r\n            <div className=\"text-center\">\r\n              <div className=\"text-3xl font-bold text-blue-600 mb-2\">\r\n                {curriculum.progress.overallProgress}%\r\n              </div>\r\n              <div className=\"text-sm text-gray-600\">Overall Progress</div>\r\n            </div>\r\n            <div className=\"text-center\">\r\n              <div className=\"text-3xl font-bold text-green-600 mb-2\">\r\n                {curriculum.progress.lessonsCompleted}\r\n              </div>\r\n              <div className=\"text-sm text-gray-600\">Lessons Completed</div>\r\n            </div>\r\n            <div className=\"text-center\">\r\n              <div className=\"text-3xl font-bold text-purple-600 mb-2\">\r\n                {curriculum.progress.testsCompleted}\r\n              </div>\r\n              <div className=\"text-sm text-gray-600\">Tests Completed</div>\r\n            </div>\r\n            <div className=\"text-center\">\r\n              <div className=\"text-3xl font-bold text-orange-600 mb-2\">\r\n                {curriculum.currentCEFRLevel} → {curriculum.targetCEFRLevel}\r\n              </div>\r\n              <div className=\"text-sm text-gray-600\">Target Level</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Tabs */}\r\n        <div className=\"mb-6\">\r\n          <div className=\"border-b border-gray-200\">\r\n            <nav className=\"-mb-px flex space-x-8\">\r\n              {[\r\n                { id: 'overview', label: 'Overview', icon: '📊' },\r\n                { id: 'progress', label: 'Progress', icon: '📈' },\r\n                { id: 'recommendations', label: 'Recommendations', icon: '💡' }\r\n              ].map((tab) => (\r\n                <button\r\n                  key={tab.id}\r\n                  onClick={() => setActiveTab(tab.id as any)}\r\n                  className={`py-2 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ${\r\n                    activeTab === tab.id\r\n                      ? 'border-blue-500 text-blue-600'\r\n                      : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\r\n                  }`}\r\n                >\r\n                  <span>{tab.icon}</span>\r\n                  <span>{tab.label}</span>\r\n                </button>\r\n              ))}\r\n            </nav>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Tab Content */}\r\n        {activeTab === 'overview' && (\r\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\r\n            {/* Learning Goals */}\r\n            <div className=\"bg-white rounded-lg shadow-sm border p-6\">\r\n              <h3 className=\"text-xl font-semibold text-gray-900 mb-6\">Learning Goals</h3>\r\n              \r\n              <div className=\"space-y-4\">\r\n                {curriculum.learningGoals.map((goal, index) => (\r\n                  <div key={index} className=\"p-4 border rounded-lg\">\r\n                    <div className=\"flex items-center justify-between mb-2\">\r\n                      <div className=\"flex items-center\">\r\n                        <span className=\"mr-3\">{getSkillIcon(goal.skill)}</span>\r\n                        <span className=\"capitalize font-medium text-gray-900\">{goal.skill}</span>\r\n                      </div>\r\n                      <span className={`px-2 py-1 text-xs font-medium rounded-full ${\r\n                        goal.priority === 'high' ? 'bg-red-100 text-red-800' :\r\n                        goal.priority === 'medium' ? 'bg-yellow-100 text-yellow-800' :\r\n                        'bg-green-100 text-green-800'\r\n                      }`}>\r\n                        {goal.priority} priority\r\n                      </span>\r\n                    </div>\r\n                    \r\n                    <div className=\"flex items-center justify-between text-sm text-gray-600 mb-2\">\r\n                      <span>Current: {goal.currentLevel}%</span>\r\n                      <span>Target: {goal.targetLevel}%</span>\r\n                    </div>\r\n                    \r\n                    <div className=\"w-full bg-gray-200 rounded-full h-2\">\r\n                      <div \r\n                        className={`h-2 rounded-full ${getProgressBackground(goal.currentLevel)}`}\r\n                        style={{ width: `${Math.min(goal.currentLevel, 100)}%` }}\r\n                      ></div>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Current Phase */}\r\n            <div className=\"bg-white rounded-lg shadow-sm border p-6\">\r\n              <h3 className=\"text-xl font-semibold text-gray-900 mb-6\">Current Phase</h3>\r\n              \r\n              {curriculum.curriculumPath[curriculum.progress.currentPhase] && (\r\n                <div>\r\n                  <div className=\"mb-4\">\r\n                    <h4 className=\"text-lg font-medium text-gray-900 mb-2\">\r\n                      Phase {curriculum.progress.currentPhase + 1}: {curriculum.curriculumPath[curriculum.progress.currentPhase].title}\r\n                    </h4>\r\n                    <p className=\"text-gray-600 text-sm\">\r\n                      Complete this phase to advance to the next level\r\n                    </p>\r\n                  </div>\r\n                  \r\n                  <div className=\"space-y-3\">\r\n                    <div>\r\n                      <div className=\"flex justify-between text-sm mb-1\">\r\n                        <span>Lessons</span>\r\n                        <span>\r\n                          {curriculum.curriculumPath[curriculum.progress.currentPhase].lessons.filter(l => l.isCompleted).length}/\r\n                          {curriculum.curriculumPath[curriculum.progress.currentPhase].lessons.length}\r\n                        </span>\r\n                      </div>\r\n                      <div className=\"w-full bg-gray-200 rounded-full h-2\">\r\n                        <div \r\n                          className=\"bg-blue-600 h-2 rounded-full\"\r\n                          style={{ \r\n                            width: `${(curriculum.curriculumPath[curriculum.progress.currentPhase].lessons.filter(l => l.isCompleted).length / curriculum.curriculumPath[curriculum.progress.currentPhase].lessons.length) * 100}%` \r\n                          }}\r\n                        ></div>\r\n                      </div>\r\n                    </div>\r\n                    \r\n                    <div>\r\n                      <div className=\"flex justify-between text-sm mb-1\">\r\n                        <span>Tests</span>\r\n                        <span>\r\n                          {curriculum.curriculumPath[curriculum.progress.currentPhase].tests.filter(t => t.isCompleted).length}/\r\n                          {curriculum.curriculumPath[curriculum.progress.currentPhase].tests.length}\r\n                        </span>\r\n                      </div>\r\n                      <div className=\"w-full bg-gray-200 rounded-full h-2\">\r\n                        <div \r\n                          className=\"bg-green-600 h-2 rounded-full\"\r\n                          style={{ \r\n                            width: `${(curriculum.curriculumPath[curriculum.progress.currentPhase].tests.filter(t => t.isCompleted).length / curriculum.curriculumPath[curriculum.progress.currentPhase].tests.length) * 100}%` \r\n                          }}\r\n                        ></div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {activeTab === 'progress' && (\r\n          <div className=\"bg-white rounded-lg shadow-sm border p-6\">\r\n            <h3 className=\"text-xl font-semibold text-gray-900 mb-6\">Detailed Progress</h3>\r\n            \r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n              {curriculum.learningGoals.map((goal, index) => (\r\n                <div key={index} className=\"p-4 border rounded-lg\">\r\n                  <div className=\"flex items-center justify-between mb-3\">\r\n                    <div className=\"flex items-center\">\r\n                      <span className=\"mr-2\">{getSkillIcon(goal.skill)}</span>\r\n                      <span className=\"capitalize font-medium text-gray-900\">{goal.skill}</span>\r\n                    </div>\r\n                    <span className={`font-semibold ${getProgressColor(goal.currentLevel)}`}>\r\n                      {goal.currentLevel}%\r\n                    </span>\r\n                  </div>\r\n                  \r\n                  <div className=\"w-full bg-gray-200 rounded-full h-3 mb-3\">\r\n                    <div \r\n                      className={`h-3 rounded-full ${getProgressBackground(goal.currentLevel)}`}\r\n                      style={{ width: `${Math.min(goal.currentLevel, 100)}%` }}\r\n                    ></div>\r\n                  </div>\r\n                  \r\n                  <div className=\"text-xs text-gray-500\">\r\n                    Target: {goal.targetLevel}% • Gap: {goal.targetLevel - goal.currentLevel}%\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {activeTab === 'recommendations' && (\r\n          <div className=\"space-y-6\">\r\n            {curriculum.recommendations.map((recommendation, index) => (\r\n              <div key={index} className=\"bg-white rounded-lg shadow-sm border p-6\">\r\n                <div className=\"flex items-start justify-between\">\r\n                  <div className=\"flex-1\">\r\n                    <div className=\"flex items-center mb-2\">\r\n                      <span className=\"mr-2\">\r\n                        {recommendation.type === 'lesson' && '📝'}\r\n                        {recommendation.type === 'test' && '🧪'}\r\n                        {recommendation.type === 'practice' && '💪'}\r\n                        {recommendation.type === 'review' && '🔄'}\r\n                      </span>\r\n                      <h4 className=\"text-lg font-medium text-gray-900\">{recommendation.title}</h4>\r\n                      <span className={`ml-3 px-2 py-1 text-xs font-medium rounded-full ${\r\n                        recommendation.priority === 'high' ? 'bg-red-100 text-red-800' :\r\n                        recommendation.priority === 'medium' ? 'bg-yellow-100 text-yellow-800' :\r\n                        'bg-green-100 text-green-800'\r\n                      }`}>\r\n                        {recommendation.priority} priority\r\n                      </span>\r\n                    </div>\r\n                    \r\n                    <p className=\"text-gray-600 mb-3\">{recommendation.reason}</p>\r\n                    \r\n                    <div className=\"flex items-center space-x-4 text-sm text-gray-500\">\r\n                      <span>Type: {recommendation.type}</span>\r\n                      <span>Estimated time: 15-30 min</span>\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  <button\r\n                    onClick={() => handleCompleteRecommendation(recommendation._id)}\r\n                    className=\"ml-4 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors\"\r\n                  >\r\n                    Start\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            ))}\r\n            \r\n            {curriculum.recommendations.length === 0 && (\r\n              <div className=\"text-center py-12\">\r\n                <div className=\"text-gray-400 text-6xl mb-4\">💡</div>\r\n                <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No recommendations yet</h3>\r\n                <p className=\"text-gray-600\">Complete some lessons to get personalized recommendations.</p>\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        {/* Action Buttons */}\r\n        <div className=\"mt-8 flex flex-col sm:flex-row gap-4 justify-center\">\r\n          <button\r\n            onClick={() => router.push('/verbfy-lessons')}\r\n            className=\"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium\"\r\n          >\r\n            Browse Lessons\r\n          </button>\r\n          <button\r\n            onClick={() => router.push('/cefr-tests')}\r\n            className=\"px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium\"\r\n          >\r\n            Take a Test\r\n          </button>\r\n          <button\r\n            onClick={() => router.push('/personalized-curriculum/progress')}\r\n            className=\"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium\"\r\n          >\r\n            View Detailed Progress\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </DashboardLayout>\r\n  );\r\n} "],"names":["window","__NEXT_P","push","__webpack_require__","PersonalizedCurriculumPage","router","useRouter","user","useAuthContext","success","error","useToast","curriculum","setCurriculum","useState","loading","setLoading","activeTab","setActiveTab","useEffect","loadCurriculum","response","personalizedCurriculumAPI","getCurriculum","err","console","createCurriculum","currentCEFRLevel","cefrLevel","targetCEFRLevel","learningGoals","skill","currentLevel","targetLevel","priority","handleCompleteRecommendation","recommendationId","completeRecommendation","getSkillIcon","icons","grammar","reading","writing","speaking","listening","vocabulary","getProgressColor","progress","getProgressBackground","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","jsx","DashboardLayout","allowedRoles","div","className","jsxs","Head","title","h1","p","overallProgress","lessonsCompleted","testsCompleted","nav","id","label","icon","map","button","onClick","tab","concat","span","h3","goal","index","style","width","Math","min","curriculumPath","currentPhase","h4","lessons","filter","l","isCompleted","length","tests","t","recommendations","recommendation","type","reason","_id","h2"],"sourceRoot":""}