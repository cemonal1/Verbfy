{"version":3,"file":"static/chunks/pages/chat-bfef2a206c66345d.js","mappings":"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","sources":["webpack://_N_E/?7a2d","webpack://_N_E/./src/components/chat/ConversationList.tsx","webpack://_N_E/./pages/chat/index.tsx","webpack://_N_E/./src/components/chat/ChatInterface.tsx","webpack://_N_E/./src/types/chat.ts"],"sourcesContent":["\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/chat\",\n      function () {\n        return require(\"private-next-pages/chat/index.tsx\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/chat\"])\n      });\n    }\n  ","import React from 'react';\r\nimport { useChat } from '../../context/ChatContext';\r\nimport { Conversation, formatConversationTime, truncateMessage } from '../../types/chat';\r\n\r\ninterface ConversationListProps {\r\n  onConversationSelect: (conversation: Conversation) => void;\r\n  selectedConversationId?: string;\r\n}\r\n\r\nexport default function ConversationList({ \r\n  onConversationSelect, \r\n  selectedConversationId \r\n}: ConversationListProps) {\r\n  const { state } = useChat();\r\n  const { conversations, loading, error } = state;\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center h-64\">\r\n        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\r\n        <span className=\"ml-2 text-gray-600 dark:text-gray-400\">Loading conversations...</span>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"text-center py-8\">\r\n        <div className=\"text-red-500 mb-2\">⚠️</div>\r\n        <p className=\"text-gray-600 dark:text-gray-400\">{error}</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (conversations.length === 0) {\r\n    return (\r\n      <div className=\"text-center py-8\">\r\n        <div className=\"text-4xl mb-4\">💬</div>\r\n        <h3 className=\"text-lg font-medium text-gray-900 dark:text-white mb-2\">\r\n          No conversations yet\r\n        </h3>\r\n        <p className=\"text-gray-500 dark:text-gray-400\">\r\n          Start a conversation with a teacher or student to begin chatting.\r\n        </p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-1\">\r\n      {conversations.map((conversation) => (\r\n        <ConversationItem\r\n          key={conversation._id}\r\n          conversation={conversation}\r\n          isSelected={conversation._id === selectedConversationId}\r\n          onClick={() => onConversationSelect(conversation)}\r\n        />\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\ninterface ConversationItemProps {\r\n  conversation: Conversation;\r\n  isSelected: boolean;\r\n  onClick: () => void;\r\n}\r\n\r\nfunction ConversationItem({ conversation, isSelected, onClick }: ConversationItemProps) {\r\n  const { otherParticipant, lastMessage, unreadCount, updatedAt } = conversation;\r\n\r\n  return (\r\n    <div\r\n      onClick={onClick}\r\n      className={`\r\n        flex items-center space-x-3 p-4 rounded-lg cursor-pointer transition-colors\r\n        ${isSelected\r\n          ? 'bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800'\r\n          : 'hover:bg-gray-50 dark:hover:bg-gray-800'\r\n        }\r\n      `}\r\n    >\r\n      {/* Avatar */}\r\n      <div className=\"flex-shrink-0\">\r\n        <div className=\"w-12 h-12 rounded-full overflow-hidden bg-blue-50 dark:bg-blue-900\">\r\n          {/* eslint-disable-next-line @next/next/no-img-element */}\r\n          <img\r\n            src={otherParticipant.avatar || '/images/default-avatar.png'}\r\n            alt={otherParticipant.name}\r\n            className=\"w-12 h-12 object-cover\"\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      {/* Content */}\r\n      <div className=\"flex-1 min-w-0\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <h3 className=\"text-sm font-medium text-gray-900 dark:text-white truncate\">\r\n            {otherParticipant.name}\r\n          </h3>\r\n          <span className=\"text-xs text-gray-500 dark:text-gray-400\">\r\n            {formatConversationTime(updatedAt)}\r\n          </span>\r\n        </div>\r\n        \r\n        <div className=\"flex items-center justify-between mt-1\">\r\n          <p className=\"text-sm text-gray-500 dark:text-gray-400 truncate\">\r\n            {lastMessage ? (\r\n              <>\r\n                <span className=\"font-medium\">\r\n                  {lastMessage.sender === otherParticipant._id ? otherParticipant.name : 'You'}:\r\n                </span>{' '}\r\n                {truncateMessage(lastMessage.content, 30)}\r\n              </>\r\n            ) : (\r\n              'No messages yet'\r\n            )}\r\n          </p>\r\n          \r\n          {/* Unread count badge */}\r\n          {unreadCount > 0 && (\r\n            <div className=\"flex-shrink-0 ml-2\">\r\n              <span className=\"inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white bg-red-500 rounded-full\">\r\n                {unreadCount > 99 ? '99+' : unreadCount}\r\n              </span>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Role badge */}\r\n        <div className=\"mt-1\">\r\n          <span className={`\r\n            inline-flex items-center px-2 py-1 rounded-full text-xs font-medium\r\n            ${otherParticipant.role === 'teacher'\r\n              ? 'bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200'\r\n              : 'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200'\r\n            }\r\n          `}>\r\n            {otherParticipant.role === 'teacher' ? '👨‍🏫 Teacher' : '👨‍🎓 Student'}\r\n          </span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n} ","import React, { useState } from 'react';\r\nimport Head from 'next/head';\r\nimport { useAuth, useRoleGuard } from '../../src/context/AuthContext';\r\nimport { useChat } from '../../src/context/ChatContext';\r\nimport DashboardLayout from '../../src/components/layout/DashboardLayout';\r\nimport ConversationList from '../../src/components/chat/ConversationList';\r\nimport ChatInterface from '../../src/components/chat/ChatInterface';\r\nimport { Conversation } from '../../src/types/chat';\r\n\r\nexport default function ChatPage() {\r\n  const { hasAccess, isLoading } = useRoleGuard(['student', 'teacher']);\r\n  const { state } = useChat();\r\n  const [selectedConversation, setSelectedConversation] = useState<Conversation | null>(null);\r\n\r\n  // Show loading state while checking authentication\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900\">\r\n        <div className=\"text-center\">\r\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4\"></div>\r\n          <p className=\"text-gray-600 dark:text-gray-400\">Loading...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Show access denied if user doesn't have permission\r\n  if (!hasAccess) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900\">\r\n        <div className=\"text-center\">\r\n          <h1 className=\"text-2xl font-bold text-gray-900 dark:text-white mb-4\">\r\n            Access Denied\r\n          </h1>\r\n          <p className=\"text-gray-600 dark:text-gray-400 mb-6\">\r\n            Only students and teachers can access the chat system.\r\n          </p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const handleConversationSelect = (conversation: Conversation) => {\r\n    setSelectedConversation(conversation);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Head>\r\n        <title>Chat - Verbfy</title>\r\n        <meta name=\"description\" content=\"Real-time messaging with teachers and students\" />\r\n      </Head>\r\n\r\n      <DashboardLayout \r\n        allowedRoles={['student', 'teacher']}\r\n        title=\"Chat\"\r\n      >\r\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n          {/* Header */}\r\n          <div className=\"mb-8\">\r\n            <h1 className=\"text-3xl font-bold text-gray-900 dark:text-white mb-2\">\r\n              Messages\r\n            </h1>\r\n            <p className=\"text-gray-600 dark:text-gray-400\">\r\n              Connect with teachers and students through real-time messaging\r\n            </p>\r\n          </div>\r\n\r\n          {/* Chat Interface */}\r\n          <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 h-[600px]\">\r\n            <div className=\"flex h-full\">\r\n              {/* Conversation List */}\r\n              <div className=\"w-1/3 border-r border-gray-200 dark:border-gray-700\">\r\n                <div className=\"p-4 border-b border-gray-200 dark:border-gray-700\">\r\n                  <h2 className=\"text-lg font-semibold text-gray-900 dark:text-white\">\r\n                    Conversations\r\n                  </h2>\r\n                </div>\r\n                <div className=\"h-[calc(600px-80px)] overflow-y-auto\">\r\n                  <ConversationList\r\n                    onConversationSelect={handleConversationSelect}\r\n                    selectedConversationId={selectedConversation?._id}\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              {/* Chat Interface */}\r\n              <div className=\"flex-1\">\r\n                {selectedConversation ? (\r\n                  <ChatInterface\r\n                    conversationId={selectedConversation._id}\r\n                    otherParticipant={selectedConversation.otherParticipant}\r\n                  />\r\n                ) : (\r\n                  <div className=\"flex items-center justify-center h-full\">\r\n                    <div className=\"text-center\">\r\n                      <div className=\"text-4xl mb-4\">💬</div>\r\n                      <h3 className=\"text-lg font-medium text-gray-900 dark:text-white mb-2\">\r\n                        Select a conversation\r\n                      </h3>\r\n                      <p className=\"text-gray-500 dark:text-gray-400\">\r\n                        Choose a conversation from the list to start messaging.\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Features Info */}\r\n          <div className=\"mt-8 grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n            <div className=\"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-6\">\r\n              <div className=\"text-2xl mb-2\">⚡</div>\r\n              <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-2\">\r\n                Real-time Messaging\r\n              </h3>\r\n              <p className=\"text-gray-600 dark:text-gray-400\">\r\n                Send and receive messages instantly with live updates and typing indicators.\r\n              </p>\r\n            </div>\r\n\r\n            <div className=\"bg-green-50 dark:bg-green-900/20 rounded-lg p-6\">\r\n              <div className=\"text-2xl mb-2\">🔒</div>\r\n              <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-2\">\r\n                Secure Communication\r\n              </h3>\r\n              <p className=\"text-gray-600 dark:text-gray-400\">\r\n                All messages are encrypted and only visible to conversation participants.\r\n              </p>\r\n            </div>\r\n\r\n            <div className=\"bg-purple-50 dark:bg-purple-900/20 rounded-lg p-6\">\r\n              <div className=\"text-2xl mb-2\">📱</div>\r\n              <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-2\">\r\n                Cross-platform\r\n              </h3>\r\n              <p className=\"text-gray-600 dark:text-gray-400\">\r\n                Access your conversations from any device with automatic synchronization.\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </DashboardLayout>\r\n    </>\r\n  );\r\n} ","import React, { useState, useEffect, useRef } from 'react';\r\nimport { useChat } from '../../context/ChatContext';\r\nimport { useAuth } from '../../context/AuthContext';\r\nimport { Message, formatMessageTime } from '../../types/chat';\r\n\r\ninterface ChatInterfaceProps {\r\n  conversationId: string;\r\n  otherParticipant: {\r\n    _id: string;\r\n    name: string;\r\n    role: string;\r\n    avatar?: string;\r\n  };\r\n}\r\n\r\nexport default function ChatInterface({ conversationId, otherParticipant }: ChatInterfaceProps) {\r\n  const { state, actions } = useChat();\r\n  const { user } = useAuth();\r\n  const [message, setMessage] = useState('');\r\n  const [isTyping, setIsTyping] = useState(false);\r\n  const messagesEndRef = useRef<HTMLDivElement>(null);\r\n  const inputRef = useRef<HTMLTextAreaElement>(null);\r\n\r\n  const { messages, loading, error, typingUsers } = state;\r\n\r\n  // Auto-scroll to bottom when new messages arrive\r\n  useEffect(() => {\r\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n  }, [messages]);\r\n\r\n  // Join conversation room when component mounts\r\n  useEffect(() => {\r\n    actions.joinConversation(conversationId);\r\n    actions.loadMessages(conversationId);\r\n    actions.markAsRead(conversationId);\r\n\r\n    return () => {\r\n      actions.leaveConversation(conversationId);\r\n    };\r\n  }, [conversationId]);\r\n\r\n  // Handle typing indicator\r\n  useEffect(() => {\r\n    if (isTyping) {\r\n      actions.setTyping(conversationId, true);\r\n    } else {\r\n      actions.setTyping(conversationId, false);\r\n    }\r\n  }, [isTyping, conversationId]);\r\n\r\n  const handleSendMessage = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    \r\n    if (!message.trim()) return;\r\n\r\n    const messageData = {\r\n      conversationId,\r\n      content: message.trim(),\r\n      messageType: 'text' as const\r\n    };\r\n\r\n    await actions.sendMessage(messageData);\r\n    setMessage('');\r\n    setIsTyping(false);\r\n    \r\n    // Focus back to input\r\n    inputRef.current?.focus();\r\n  };\r\n\r\n  const handleInputChange = (e: React.ChangeEvent<HTMLTextAreaElement>) => {\r\n    setMessage(e.target.value);\r\n    \r\n    // Set typing indicator\r\n    if (!isTyping && e.target.value.length > 0) {\r\n      setIsTyping(true);\r\n    } else if (isTyping && e.target.value.length === 0) {\r\n      setIsTyping(false);\r\n    }\r\n  };\r\n\r\n  const handleKeyPress = (e: React.KeyboardEvent) => {\r\n    if (e.key === 'Enter' && !e.shiftKey) {\r\n      e.preventDefault();\r\n      handleSendMessage(e);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center h-64\">\r\n        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\r\n        <span className=\"ml-2 text-gray-600 dark:text-gray-400\">Loading messages...</span>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"text-center py-8\">\r\n        <div className=\"text-red-500 mb-2\">⚠️</div>\r\n        <p className=\"text-gray-600 dark:text-gray-400\">{error}</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"flex flex-col h-full\">\r\n      {/* Header */}\r\n      <div className=\"flex items-center space-x-3 p-4 border-b border-gray-200 dark:border-gray-700\">\r\n        <div className=\"w-10 h-10 rounded-full overflow-hidden bg-blue-50 dark:bg-blue-900\">\r\n          {/* eslint-disable-next-line @next/next/no-img-element */}\r\n          <img\r\n            src={otherParticipant.avatar || '/images/default-avatar.png'}\r\n            alt={otherParticipant.name}\r\n            className=\"w-10 h-10 object-cover\"\r\n          />\r\n        </div>\r\n        <div>\r\n          <h3 className=\"text-lg font-medium text-gray-900 dark:text-white\">\r\n            {otherParticipant.name}\r\n          </h3>\r\n          <p className=\"text-sm text-gray-500 dark:text-gray-400 capitalize\">\r\n            {otherParticipant.role}\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Messages */}\r\n      <div className=\"flex-1 overflow-y-auto p-4 space-y-4\">\r\n        {messages.length === 0 ? (\r\n          <div className=\"text-center py-8\">\r\n            <div className=\"text-4xl mb-4\">💬</div>\r\n            <h3 className=\"text-lg font-medium text-gray-900 dark:text-white mb-2\">\r\n              Start a conversation\r\n            </h3>\r\n            <p className=\"text-gray-500 dark:text-gray-400\">\r\n              Send a message to begin chatting with {otherParticipant.name}.\r\n            </p>\r\n          </div>\r\n        ) : (\r\n          messages.map((msg) => (\r\n            <MessageItem\r\n              key={msg._id}\r\n              message={msg}\r\n              isOwnMessage={msg.sender._id === user?._id}\r\n            />\r\n          ))\r\n        )}\r\n        \r\n        {/* Typing indicator */}\r\n        {typingUsers.has(otherParticipant._id) && (\r\n          <div className=\"flex items-center space-x-2 text-gray-500 dark:text-gray-400\">\r\n            <div className=\"flex space-x-1\">\r\n              <div className=\"w-2 h-2 bg-gray-400 rounded-full animate-bounce\"></div>\r\n              <div className=\"w-2 h-2 bg-gray-400 rounded-full animate-bounce\" style={{ animationDelay: '0.1s' }}></div>\r\n              <div className=\"w-2 h-2 bg-gray-400 rounded-full animate-bounce\" style={{ animationDelay: '0.2s' }}></div>\r\n            </div>\r\n            <span className=\"text-sm\">{otherParticipant.name} is typing...</span>\r\n          </div>\r\n        )}\r\n        \r\n        <div ref={messagesEndRef} />\r\n      </div>\r\n\r\n      {/* Message Input */}\r\n      <div className=\"p-4 border-t border-gray-200 dark:border-gray-700\">\r\n        <form onSubmit={handleSendMessage} className=\"flex space-x-3\">\r\n          <div className=\"flex-1\">\r\n            <textarea\r\n              ref={inputRef}\r\n              value={message}\r\n              onChange={handleInputChange}\r\n              onKeyPress={handleKeyPress}\r\n              placeholder=\"Type your message...\"\r\n              className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white resize-none\"\r\n              rows={1}\r\n              maxLength={1000}\r\n            />\r\n          </div>\r\n          <button\r\n            type=\"submit\"\r\n            disabled={!message.trim()}\r\n            className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n          >\r\n            Send\r\n          </button>\r\n        </form>\r\n        \r\n        {/* Character count */}\r\n        <div className=\"mt-2 text-xs text-gray-500 dark:text-gray-400 text-right\">\r\n          {message.length}/1000\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\ninterface MessageItemProps {\r\n  message: Message;\r\n  isOwnMessage: boolean;\r\n}\r\n\r\nfunction MessageItem({ message, isOwnMessage }: MessageItemProps) {\r\n  return (\r\n    <div className={`flex ${isOwnMessage ? 'justify-end' : 'justify-start'}`}>\r\n      <div className={`max-w-xs lg:max-w-md ${isOwnMessage ? 'order-2' : 'order-1'}`}>\r\n        <div\r\n          className={`\r\n            px-4 py-2 rounded-lg shadow-sm\r\n            ${isOwnMessage\r\n              ? 'bg-blue-600 text-white'\r\n              : 'bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white'\r\n            }\r\n          `}\r\n        >\r\n          <p className=\"text-sm\">{message.content}</p>\r\n          <div className={`text-xs mt-1 ${isOwnMessage ? 'text-blue-100' : 'text-gray-500 dark:text-gray-400'}`}>\r\n            {formatMessageTime(message.createdAt)}\r\n            {isOwnMessage && (\r\n              <span className=\"ml-2\">\r\n                {message.isRead ? '✓✓' : '✓'}\r\n              </span>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      {/* Avatar */}\r\n      <div className={`w-8 h-8 rounded-full overflow-hidden ${isOwnMessage ? 'order-1 ml-2' : 'order-2 mr-2'}`}>\r\n        {/* eslint-disable-next-line @next/next/no-img-element */}\r\n        <img\r\n          src={message.sender.avatar || '/images/default-avatar.png'}\r\n          alt={message.sender.name}\r\n          className=\"w-8 h-8 object-cover\"\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n} ","// User interface for chat participants\r\nexport interface ChatUser {\r\n  _id: string;\r\n  name: string;\r\n  email: string;\r\n  role: 'student' | 'teacher' | 'admin';\r\n  avatar?: string;\r\n}\r\n\r\n// Message interface\r\nexport interface Message {\r\n  _id: string;\r\n  conversationId: string;\r\n  sender: ChatUser;\r\n  content: string;\r\n  messageType: 'text' | 'image' | 'file' | 'system';\r\n  isRead: boolean;\r\n  readAt?: string;\r\n  createdAt: string;\r\n  updatedAt: string;\r\n}\r\n\r\n// Conversation interface\r\nexport interface Conversation {\r\n  _id: string;\r\n  otherParticipant: ChatUser;\r\n  lastMessage?: {\r\n    content: string;\r\n    sender: string;\r\n    timestamp: string;\r\n  };\r\n  unreadCount: number;\r\n  updatedAt: string;\r\n  createdAt: string;\r\n}\r\n\r\n// API Response interfaces\r\nexport interface ConversationsResponse {\r\n  success: boolean;\r\n  data: Conversation[];\r\n  message: string;\r\n}\r\n\r\nexport interface ConversationResponse {\r\n  success: boolean;\r\n  data: Conversation;\r\n  message: string;\r\n}\r\n\r\nexport interface MessagesResponse {\r\n  success: boolean;\r\n  data: {\r\n    messages: Message[];\r\n    pagination: {\r\n      page: number;\r\n      limit: number;\r\n      total: number;\r\n      pages: number;\r\n    };\r\n  };\r\n  message: string;\r\n}\r\n\r\nexport interface MessageResponse {\r\n  success: boolean;\r\n  data: Message;\r\n  message: string;\r\n}\r\n\r\nexport interface SendMessageData {\r\n  conversationId: string;\r\n  content: string;\r\n  messageType?: 'text' | 'image' | 'file' | 'system';\r\n}\r\n\r\nexport interface UnreadCountResponse {\r\n  success: boolean;\r\n  data: { unreadCount: number };\r\n  message: string;\r\n}\r\n\r\n// Socket.IO event interfaces\r\nexport interface SocketMessage {\r\n  conversationId: string;\r\n  message: Message;\r\n}\r\n\r\nexport interface TypingData {\r\n  conversationId: string;\r\n  userId: string;\r\n  isTyping: boolean;\r\n}\r\n\r\nexport interface UserTypingData {\r\n  userId: string;\r\n  isTyping: boolean;\r\n}\r\n\r\n// Chat state interface\r\nexport interface ChatState {\r\n  conversations: Conversation[];\r\n  currentConversation: Conversation | null;\r\n  messages: Message[];\r\n  loading: boolean;\r\n  error: string | null;\r\n  unreadCount: number;\r\n  typingUsers: Set<string>;\r\n}\r\n\r\n// Chat context interface\r\nexport interface ChatContextType {\r\n  state: ChatState;\r\n  actions: {\r\n    loadConversations: () => Promise<void>;\r\n    loadMessages: (conversationId: string, page?: number) => Promise<void>;\r\n    sendMessage: (data: SendMessageData) => Promise<void>;\r\n    markAsRead: (conversationId: string) => Promise<void>;\r\n    joinConversation: (conversationId: string) => void;\r\n    leaveConversation: (conversationId: string) => void;\r\n    setTyping: (conversationId: string, isTyping: boolean) => void;\r\n    loadUnreadCount: () => Promise<void>;\r\n  };\r\n}\r\n\r\n// Utility functions\r\nexport const formatMessageTime = (dateString: string): string => {\r\n  const date = new Date(dateString);\r\n  const now = new Date();\r\n  const diffInHours = (now.getTime() - date.getTime()) / (1000 * 60 * 60);\r\n\r\n  if (diffInHours < 24) {\r\n    return date.toLocaleTimeString('en-US', {\r\n      hour: '2-digit',\r\n      minute: '2-digit'\r\n    });\r\n  } else if (diffInHours < 48) {\r\n    return 'Yesterday';\r\n  } else {\r\n    return date.toLocaleDateString('en-US', {\r\n      month: 'short',\r\n      day: 'numeric'\r\n    });\r\n  }\r\n};\r\n\r\nexport const formatConversationTime = (dateString: string): string => {\r\n  const date = new Date(dateString);\r\n  const now = new Date();\r\n  const diffInHours = (now.getTime() - date.getTime()) / (1000 * 60 * 60);\r\n\r\n  if (diffInHours < 1) {\r\n    const diffInMinutes = Math.floor(diffInHours * 60);\r\n    return diffInMinutes === 0 ? 'Just now' : `${diffInMinutes}m ago`;\r\n  } else if (diffInHours < 24) {\r\n    return `${Math.floor(diffInHours)}h ago`;\r\n  } else if (diffInHours < 48) {\r\n    return 'Yesterday';\r\n  } else {\r\n    return date.toLocaleDateString('en-US', {\r\n      month: 'short',\r\n      day: 'numeric'\r\n    });\r\n  }\r\n};\r\n\r\nexport const truncateMessage = (content: string, maxLength: number = 50): string => {\r\n  if (content.length <= maxLength) return content;\r\n  return content.substring(0, maxLength) + '...';\r\n}; "],"names":["window","__NEXT_P","push","__webpack_require__","ConversationList","param","onConversationSelect","selectedConversationId","state","useChat","conversations","loading","error","jsx_runtime","jsxs","div","className","jsx","span","p","length","h3","map","ConversationItem","conversation","isSelected","_id","onClick","otherParticipant","lastMessage","unreadCount","updatedAt","concat","img","src","avatar","alt","name","formatConversationTime","Fragment","sender","truncateMessage","content","role","ChatPage","hasAccess","isLoading","useRoleGuard","selectedConversation","setSelectedConversation","useState","Head","title","meta","DashboardLayout","allowedRoles","h1","h2","ChatInterface","conversationId","actions","user","useAuth","message","setMessage","isTyping","setIsTyping","messagesEndRef","useRef","inputRef","messages","typingUsers","useEffect","current","scrollIntoView","behavior","joinConversation","loadMessages","markAsRead","leaveConversation","setTyping","handleSendMessage","e","preventDefault","trim","messageData","messageType","sendMessage","focus","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","MessageItem","msg","isOwnMessage","has","style","animationDelay","ref","form","onSubmit","textarea","value","onChange","target","onKeyPress","key","shiftKey","placeholder","rows","maxLength","button","type","disabled","formatMessageTime","createdAt","isRead","date","Date","dateString","diffInHours","now","getTime","toLocaleTimeString","hour","minute","toLocaleDateString","month","day","diffInMinutes","Math","floor","substring"],"sourceRoot":""}