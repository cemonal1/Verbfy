{"version":3,"file":"static/chunks/pages/admin-b6be38590d4ad942.js","mappings":"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","sources":["webpack://_N_E/?a37b","webpack://_N_E/./src/components/admin/AdminSidebar.tsx","webpack://_N_E/./src/types/admin.ts","webpack://_N_E/./pages/admin/index.tsx","webpack://_N_E/./src/hooks/useAuth.ts"],"sourcesContent":["\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/admin\",\n      function () {\n        return require(\"private-next-pages/admin/index.tsx\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/admin\"])\n      });\n    }\n  ","import React from 'react';\r\nimport Link from 'next/link';\r\nimport { useRouter } from 'next/router';\r\nimport { \r\n  HomeIcon, \r\n  UsersIcon, \r\n  DocumentTextIcon, \r\n  CreditCardIcon, \r\n  ClockIcon,\r\n  ChartBarIcon\r\n} from '@heroicons/react/24/outline';\r\n\r\ninterface AdminSidebarProps {\r\n  className?: string;\r\n}\r\n\r\nconst AdminSidebar: React.FC<AdminSidebarProps> = ({ className = '' }) => {\r\n  const router = useRouter();\r\n  const currentPath = router.pathname;\r\n\r\n  const navigation = [\r\n    {\r\n      name: 'Dashboard',\r\n      href: '/admin',\r\n      icon: HomeIcon,\r\n      current: currentPath === '/admin'\r\n    },\r\n    {\r\n      name: 'Users',\r\n      href: '/admin/users',\r\n      icon: UsersIcon,\r\n      current: currentPath === '/admin/users'\r\n    },\r\n    {\r\n      name: 'Materials',\r\n      href: '/admin/materials',\r\n      icon: DocumentTextIcon,\r\n      current: currentPath === '/admin/materials'\r\n    },\r\n    // Payments section hidden (region unsupported)\r\n    {\r\n      name: 'Logs',\r\n      href: '/admin/logs',\r\n      icon: ClockIcon,\r\n      current: currentPath === '/admin/logs'\r\n    },\r\n    {\r\n      name: 'Analytics',\r\n      href: '/analytics',\r\n      icon: ChartBarIcon,\r\n      current: currentPath === '/analytics'\r\n    }\r\n  ];\r\n\r\n  return (\r\n    <div className={`bg-white shadow-sm border-r border-gray-200 ${className}`}>\r\n      <div className=\"p-4\">\r\n        <h2 className=\"text-lg font-semibold text-gray-900 mb-4\">Admin Panel</h2>\r\n        <nav className=\"space-y-1\">\r\n          {navigation.map((item) => {\r\n            const Icon = item.icon;\r\n            return (\r\n              <Link\r\n                key={item.name}\r\n                href={item.href}\r\n                className={`\r\n                  group flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors\r\n                  ${item.current\r\n                    ? 'bg-blue-50 text-blue-700 border-r-2 border-blue-700'\r\n                    : 'text-gray-600 hover:bg-gray-50 hover:text-gray-900'\r\n                  }\r\n                `}\r\n              >\r\n                <Icon\r\n                  className={`\r\n                    mr-3 h-5 w-5 flex-shrink-0\r\n                    ${item.current\r\n                      ? 'text-blue-700'\r\n                      : 'text-gray-400 group-hover:text-gray-500'\r\n                    }\r\n                  `}\r\n                  aria-hidden=\"true\"\r\n                />\r\n                {item.name}\r\n              </Link>\r\n            );\r\n          })}\r\n        </nav>\r\n      </div>\r\n      \r\n      {/* Admin Info */}\r\n      <div className=\"absolute bottom-0 left-0 right-0 p-4 border-t border-gray-200\">\r\n        <div className=\"flex items-center\">\r\n          <div className=\"flex-shrink-0\">\r\n            <div className=\"h-8 w-8 rounded-full bg-blue-600 flex items-center justify-center\">\r\n              <span className=\"text-sm font-medium text-white\">A</span>\r\n            </div>\r\n          </div>\r\n          <div className=\"ml-3\">\r\n            <p className=\"text-sm font-medium text-gray-700\">Admin</p>\r\n            <p className=\"text-xs text-gray-500\">Platform Administrator</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminSidebar; ","// Admin User Management Types\r\nexport interface AdminUser {\r\n  _id: string;\r\n  name: string;\r\n  email: string;\r\n  role: 'student' | 'teacher' | 'admin';\r\n  status: 'active' | 'inactive' | 'suspended';\r\n  createdAt: string;\r\n  lastLoginAt?: string;\r\n  profilePicture?: string;\r\n}\r\n\r\nexport interface UserFilters {\r\n  role?: 'student' | 'teacher' | 'admin';\r\n  status?: 'active' | 'inactive' | 'suspended';\r\n  search?: string;\r\n}\r\n\r\n// Admin Material Moderation Types\r\nexport interface AdminMaterial {\r\n  _id: string;\r\n  title: string;\r\n  description?: string;\r\n  type: 'pdf' | 'image' | 'video' | 'audio' | 'document';\r\n  status: 'pending' | 'approved' | 'rejected';\r\n  uploaderId: {\r\n    _id: string;\r\n    name: string;\r\n    email: string;\r\n  };\r\n  createdAt: string;\r\n  moderatedAt?: string;\r\n  moderatedBy?: string;\r\n  moderationNote?: string;\r\n  fileSize: number;\r\n  downloadCount: number;\r\n}\r\n\r\nexport interface MaterialFilters {\r\n  status?: 'pending' | 'approved' | 'rejected';\r\n  type?: 'pdf' | 'image' | 'video' | 'audio' | 'document';\r\n  search?: string;\r\n}\r\n\r\n// Admin Payment Management Types\r\nexport interface AdminPayment {\r\n  _id: string;\r\n  teacher: {\r\n    _id: string;\r\n    name: string;\r\n    email: string;\r\n  };\r\n  student: {\r\n    _id: string;\r\n    name: string;\r\n    email: string;\r\n  };\r\n  status: 'pending' | 'completed' | 'cancelled' | 'refunded';\r\n  price: number;\r\n  isPaid: boolean;\r\n  createdAt: string;\r\n  refundedAt?: string;\r\n  refundedBy?: string;\r\n  refundReason?: string;\r\n  lessonType?: string;\r\n  lessonLevel?: string;\r\n}\r\n\r\nexport interface PaymentFilters {\r\n  userId?: string;\r\n  status?: 'pending' | 'completed' | 'cancelled' | 'refunded';\r\n  startDate?: string;\r\n  endDate?: string;\r\n}\r\n\r\n// Admin Logs Types\r\nexport interface AdminLog {\r\n  _id: string;\r\n  type: 'user_activity' | 'material_upload' | 'lesson_booking' | 'payment' | 'system';\r\n  action: string;\r\n  user: string;\r\n  details: string;\r\n  createdAt: string;\r\n  email?: string;\r\n}\r\n\r\nexport interface LogFilters {\r\n  type?: 'user_activity' | 'material_upload' | 'lesson_booking' | 'payment' | 'system';\r\n  startDate?: string;\r\n  endDate?: string;\r\n}\r\n\r\n// Admin Analytics Types\r\nexport interface AdminOverview {\r\n  stats: {\r\n    totalUsers: number;\r\n    totalTeachers: number;\r\n    totalStudents: number;\r\n    totalMaterials: number;\r\n    totalReservations: number;\r\n    totalRevenue: number;\r\n    userGrowth: number;\r\n    revenueGrowth: number;\r\n  };\r\n  recent: {\r\n    users: AdminUser[];\r\n    materials: AdminMaterial[];\r\n    payments: AdminPayment[];\r\n  };\r\n}\r\n\r\n// API Response Types\r\nexport interface AdminUsersResponse {\r\n  success: boolean;\r\n  data: {\r\n    users: AdminUser[];\r\n    pagination: {\r\n      page: number;\r\n      limit: number;\r\n      total: number;\r\n      pages: number;\r\n    };\r\n  };\r\n  message: string;\r\n}\r\n\r\nexport interface AdminMaterialsResponse {\r\n  success: boolean;\r\n  data: {\r\n    materials: AdminMaterial[];\r\n    pagination: {\r\n      page: number;\r\n      limit: number;\r\n      total: number;\r\n      pages: number;\r\n    };\r\n  };\r\n  message: string;\r\n}\r\n\r\nexport interface AdminPaymentsResponse {\r\n  success: boolean;\r\n  data: {\r\n    payments: AdminPayment[];\r\n    pagination: {\r\n      page: number;\r\n      limit: number;\r\n      total: number;\r\n      pages: number;\r\n    };\r\n  };\r\n  message: string;\r\n}\r\n\r\nexport interface AdminLogsResponse {\r\n  success: boolean;\r\n  data: {\r\n    logs: AdminLog[];\r\n    pagination: {\r\n      page: number;\r\n      limit: number;\r\n      total: number;\r\n      pages: number;\r\n    };\r\n  };\r\n  message: string;\r\n}\r\n\r\nexport interface AdminOverviewResponse {\r\n  success: boolean;\r\n  data: AdminOverview;\r\n  message: string;\r\n}\r\n\r\n// Action Types\r\nexport interface UpdateUserRoleData {\r\n  role: 'student' | 'teacher' | 'admin';\r\n}\r\n\r\nexport interface UpdateUserStatusData {\r\n  status: 'active' | 'inactive' | 'suspended';\r\n}\r\n\r\nexport interface ApproveMaterialData {\r\n  approved: boolean;\r\n  reason?: string;\r\n}\r\n\r\nexport interface RefundPaymentData {\r\n  reason?: string;\r\n}\r\n\r\n// Utility Functions\r\nexport const formatCurrency = (amount: number): string => {\r\n  return new Intl.NumberFormat('en-US', {\r\n    style: 'currency',\r\n    currency: 'USD'\r\n  }).format(amount);\r\n};\r\n\r\nexport const formatDate = (date: string): string => {\r\n  return new Date(date).toLocaleDateString('en-US', {\r\n    year: 'numeric',\r\n    month: 'short',\r\n    day: 'numeric',\r\n    hour: '2-digit',\r\n    minute: '2-digit'\r\n  });\r\n};\r\n\r\nexport const formatFileSize = (bytes: number): string => {\r\n  if (bytes === 0) return '0 Bytes';\r\n  const k = 1024;\r\n  const sizes = ['Bytes', 'KB', 'MB', 'GB'];\r\n  const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n  return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\r\n};\r\n\r\nexport const getStatusColor = (status: string): string => {\r\n  switch (status) {\r\n    case 'active':\r\n    case 'approved':\r\n    case 'completed':\r\n      return 'text-green-600 bg-green-100';\r\n    case 'pending':\r\n      return 'text-yellow-600 bg-yellow-100';\r\n    case 'inactive':\r\n    case 'rejected':\r\n    case 'cancelled':\r\n      return 'text-red-600 bg-red-100';\r\n    case 'suspended':\r\n    case 'refunded':\r\n      return 'text-gray-600 bg-gray-100';\r\n    default:\r\n      return 'text-gray-600 bg-gray-100';\r\n  }\r\n};\r\n\r\nexport const getRoleColor = (role: string): string => {\r\n  switch (role) {\r\n    case 'admin':\r\n      return 'text-purple-600 bg-purple-100';\r\n    case 'teacher':\r\n      return 'text-blue-600 bg-blue-100';\r\n    case 'student':\r\n      return 'text-green-600 bg-green-100';\r\n    default:\r\n      return 'text-gray-600 bg-gray-100';\r\n  }\r\n}; ","import React, { useEffect } from 'react';\r\nimport Link from 'next/link';\r\nimport { useRoleGuard } from '../../src/hooks/useAuth';\r\nimport { useAdmin } from '../../src/context/AdminContext';\r\nimport AdminSidebar from '../../src/components/admin/AdminSidebar';\r\nimport { \r\n  UsersIcon, \r\n  AcademicCapIcon, \r\n  UserGroupIcon, \r\n  DocumentTextIcon,\r\n  CurrencyDollarIcon,\r\n  ClockIcon,\r\n  ArrowTrendingUpIcon,\r\n  ArrowTrendingDownIcon\r\n} from '@heroicons/react/24/outline';\r\nimport { formatCurrency, formatDate } from '../../src/types/admin';\r\n\r\nexport default function AdminDashboard() {\r\n  useRoleGuard(['admin']);\r\n\r\n  const { state, loadOverview } = useAdmin();\r\n  const { overview, overviewLoading } = state;\r\n\r\n  useEffect(() => {\r\n    loadOverview();\r\n  }, [loadOverview]);\r\n\r\n  const stats = [\r\n    {\r\n      name: 'Total Users',\r\n      value: overview?.stats.totalUsers || 0,\r\n      icon: UsersIcon,\r\n      change: overview?.stats.userGrowth || 0,\r\n      changeType: 'percentage'\r\n    },\r\n    {\r\n      name: 'Teachers',\r\n      value: overview?.stats.totalTeachers || 0,\r\n      icon: AcademicCapIcon,\r\n      change: 0,\r\n      changeType: 'number'\r\n    },\r\n    {\r\n      name: 'Students',\r\n      value: overview?.stats.totalStudents || 0,\r\n      icon: UserGroupIcon,\r\n      change: 0,\r\n      changeType: 'number'\r\n    },\r\n    {\r\n      name: 'Materials',\r\n      value: overview?.stats.totalMaterials || 0,\r\n      icon: DocumentTextIcon,\r\n      change: 0,\r\n      changeType: 'number'\r\n    },\r\n    {\r\n      name: 'Total Revenue',\r\n      value: formatCurrency(overview?.stats.totalRevenue || 0),\r\n      icon: CurrencyDollarIcon,\r\n      change: overview?.stats.revenueGrowth || 0,\r\n      changeType: 'percentage'\r\n    },\r\n    {\r\n      name: 'Lessons',\r\n      value: overview?.stats.totalReservations || 0,\r\n      icon: ClockIcon,\r\n      change: 0,\r\n      changeType: 'number'\r\n    }\r\n  ];\r\n\r\n  if (overviewLoading) {\r\n    return (\r\n      <div className=\"flex h-screen bg-gray-50\">\r\n        <AdminSidebar className=\"w-64\" />\r\n        <div className=\"flex-1 p-8\">\r\n          <div className=\"animate-pulse\">\r\n            <div className=\"h-8 bg-gray-200 rounded w-1/4 mb-8\"></div>\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8\">\r\n              {[...Array(6)].map((_, i) => (\r\n                <div key={i} className=\"bg-white p-6 rounded-lg shadow\">\r\n                  <div className=\"h-4 bg-gray-200 rounded w-1/2 mb-4\"></div>\r\n                  <div className=\"h-8 bg-gray-200 rounded w-1/3\"></div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"flex h-screen bg-gray-50\">\r\n      <AdminSidebar className=\"w-64\" />\r\n      \r\n      <div className=\"flex-1 overflow-auto\">\r\n        <div className=\"p-8\">\r\n          {/* Header */}\r\n          <div className=\"mb-8\">\r\n            <h1 className=\"text-3xl font-bold text-gray-900\">Admin Dashboard</h1>\r\n            <p className=\"text-gray-600 mt-2\">Platform overview and management</p>\r\n          </div>\r\n\r\n          {/* Stats Grid */}\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8\">\r\n            {stats.map((stat) => {\r\n              const Icon = stat.icon;\r\n              const isPositive = stat.change >= 0;\r\n              \r\n              return (\r\n                <div key={stat.name} className=\"bg-white p-6 rounded-lg shadow-sm border border-gray-200\">\r\n                  <div className=\"flex items-center justify-between\">\r\n                    <div>\r\n                      <p className=\"text-sm font-medium text-gray-600\">{stat.name}</p>\r\n                      <p className=\"text-2xl font-bold text-gray-900 mt-1\">{stat.value}</p>\r\n                    </div>\r\n                    <div className=\"p-3 bg-blue-50 rounded-lg\">\r\n                      <Icon className=\"h-6 w-6 text-blue-600\" />\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  {stat.change !== 0 && (\r\n                    <div className=\"mt-4 flex items-center\">\r\n                      {isPositive ? (\r\n                        <ArrowTrendingUpIcon className=\"h-4 w-4 text-green-500 mr-1\" />\r\n                      ) : (\r\n                        <ArrowTrendingDownIcon className=\"h-4 w-4 text-red-500 mr-1\" />\r\n                      )}\r\n                      <span className={`text-sm font-medium ${\r\n                        isPositive ? 'text-green-600' : 'text-red-600'\r\n                      }`}>\r\n                        {isPositive ? '+' : ''}{stat.change}\r\n                        {stat.changeType === 'percentage' ? '%' : ''}\r\n                      </span>\r\n                      <span className=\"text-sm text-gray-500 ml-1\">from last month</span>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n\r\n          {/* Recent Activity */}\r\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\r\n            {/* Recent Users */}\r\n            <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\r\n              <div className=\"p-6 border-b border-gray-200\">\r\n                <h3 className=\"text-lg font-semibold text-gray-900\">Recent Users</h3>\r\n              </div>\r\n              <div className=\"p-6\">\r\n                {overview?.recent.users && overview.recent.users.length > 0 ? (\r\n                  <div className=\"space-y-4\">\r\n                    {overview.recent.users.map((user) => (\r\n                      <div key={user._id} className=\"flex items-center justify-between\">\r\n                        <div className=\"flex items-center\">\r\n                          <div className=\"h-8 w-8 rounded-full bg-gray-200 flex items-center justify-center\">\r\n                            <span className=\"text-sm font-medium text-gray-600\">\r\n                              {user.name.charAt(0).toUpperCase()}\r\n                            </span>\r\n                          </div>\r\n                          <div className=\"ml-3\">\r\n                            <p className=\"text-sm font-medium text-gray-900\">{user.name}</p>\r\n                            <p className=\"text-sm text-gray-500\">{user.email}</p>\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"flex items-center space-x-2\">\r\n                          <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${\r\n                            user.role === 'admin' ? 'bg-purple-100 text-purple-800' :\r\n                            user.role === 'teacher' ? 'bg-blue-100 text-blue-800' :\r\n                            'bg-green-100 text-green-800'\r\n                          }`}>\r\n                            {user.role}\r\n                          </span>\r\n                          <span className=\"text-xs text-gray-500\">\r\n                            {formatDate(user.createdAt)}\r\n                          </span>\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                ) : (\r\n                  <p className=\"text-gray-500 text-center py-4\">No recent users</p>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Recent Materials */}\r\n            <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\r\n              <div className=\"p-6 border-b border-gray-200\">\r\n                <h3 className=\"text-lg font-semibold text-gray-900\">Recent Materials</h3>\r\n              </div>\r\n              <div className=\"p-6\">\r\n                {overview?.recent.materials && overview.recent.materials.length > 0 ? (\r\n                  <div className=\"space-y-4\">\r\n                    {overview.recent.materials.map((material) => (\r\n                      <div key={material._id} className=\"flex items-center justify-between\">\r\n                        <div className=\"flex items-center\">\r\n                          <div className=\"h-8 w-8 rounded bg-blue-100 flex items-center justify-center\">\r\n                            <DocumentTextIcon className=\"h-4 w-4 text-blue-600\" />\r\n                          </div>\r\n                          <div className=\"ml-3\">\r\n                            <p className=\"text-sm font-medium text-gray-900\">{material.title}</p>\r\n                            <p className=\"text-sm text-gray-500\">by {material.uploaderId.name}</p>\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"flex items-center space-x-2\">\r\n                          <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${\r\n                            material.status === 'approved' ? 'bg-green-100 text-green-800' :\r\n                            material.status === 'rejected' ? 'bg-red-100 text-red-800' :\r\n                            'bg-yellow-100 text-yellow-800'\r\n                          }`}>\r\n                            {material.status}\r\n                          </span>\r\n                          <span className=\"text-xs text-gray-500\">\r\n                            {formatDate(material.createdAt)}\r\n                          </span>\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                ) : (\r\n                  <p className=\"text-gray-500 text-center py-4\">No recent materials</p>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n} ","import { useAuth as useAuthContext, useRoleGuard as useRoleGuardFromContext } from '../context/AuthContext';\r\n\r\n// Re-export the main auth hook\r\nexport { useAuthContext as useAuth };\r\n\r\n// Role-based access hook\r\nexport function useRoleGuard(allowedRoles: ('student' | 'teacher' | 'admin')[]) {\r\n  return useRoleGuardFromContext(allowedRoles);\r\n}\r\n\r\n// Hook to check if user has specific role\r\nexport function useHasRole(role: 'student' | 'teacher' | 'admin') {\r\n  const { user } = useAuthContext();\r\n  return user?.role === role;\r\n}\r\n\r\n// Hook to check if user has any of the specified roles\r\nexport function useHasAnyRole(roles: ('student' | 'teacher' | 'admin')[]) {\r\n  const { user } = useAuthContext();\r\n  return user ? roles.includes(user.role) : false;\r\n}\r\n\r\n// Hook to check if user is authenticated\r\nexport function useIsAuthenticated() {\r\n  const { isAuthenticated } = useAuthContext();\r\n  return isAuthenticated;\r\n}\r\n\r\n// Hook to get current user role\r\nexport function useUserRole() {\r\n  const { user } = useAuthContext();\r\n  return user?.role;\r\n}\r\n\r\n// Hook to check if user can access materials (upload)\r\nexport function useCanUploadMaterials() {\r\n  const { user } = useAuthContext();\r\n  return user?.role === 'teacher' || user?.role === 'admin';\r\n}\r\n\r\n// Hook to check if user can manage materials (delete)\r\nexport function useCanManageMaterials() {\r\n  const { user } = useAuthContext();\r\n  return user?.role === 'teacher' || user?.role === 'admin';\r\n}\r\n\r\n// Hook to check if user is admin\r\nexport function useIsAdmin() {\r\n  const { user } = useAuthContext();\r\n  return user?.role === 'admin';\r\n}\r\n\r\n// Hook to check if user is teacher\r\nexport function useIsTeacher() {\r\n  const { user } = useAuthContext();\r\n  return user?.role === 'teacher';\r\n}\r\n\r\n// Hook to check if user is student\r\nexport function useIsStudent() {\r\n  const { user } = useAuthContext();\r\n  return user?.role === 'student';\r\n}\r\n\r\n// Hook to get user permissions\r\nexport function useUserPermissions() {\r\n  const { user } = useAuthContext();\r\n  \r\n  if (!user) return null;\r\n\r\n  const permissions = {\r\n    canUploadMaterials: user.role === 'teacher' || user.role === 'admin',\r\n    canManageMaterials: user.role === 'teacher' || user.role === 'admin',\r\n    canViewAnalytics: user.role === 'admin',\r\n    canManageUsers: user.role === 'admin',\r\n    canViewEarnings: user.role === 'teacher' || user.role === 'admin',\r\n    canBookLessons: user.role === 'student',\r\n    canTeachLessons: user.role === 'teacher',\r\n    canAccessAdminPanel: user.role === 'admin',\r\n  };\r\n\r\n  return permissions;\r\n}\r\n\r\n// Hook to check if user can access a specific feature\r\nexport function useCanAccess(feature: string) {\r\n  const permissions = useUserPermissions();\r\n  \r\n  if (!permissions) return false;\r\n\r\n  const featurePermissions: Record<string, boolean> = {\r\n    'materials.upload': permissions.canUploadMaterials,\r\n    'materials.manage': permissions.canManageMaterials,\r\n    'analytics.view': permissions.canViewAnalytics,\r\n    'users.manage': permissions.canManageUsers,\r\n    'earnings.view': permissions.canViewEarnings,\r\n    'lessons.book': permissions.canBookLessons,\r\n    'lessons.teach': permissions.canTeachLessons,\r\n    'admin.panel': permissions.canAccessAdminPanel,\r\n  };\r\n\r\n  return featurePermissions[feature] || false;\r\n}\r\n\r\n// Hook to get user dashboard URL\r\nexport function useDashboardUrl() {\r\n  const { user } = useAuthContext();\r\n  \r\n  if (!user) return '/login';\r\n  \r\n  switch (user.role) {\r\n    case 'student':\r\n      return '/dashboard/student';\r\n    case 'teacher':\r\n      return '/dashboard/teacher';\r\n    case 'admin':\r\n      return '/dashboard/admin';\r\n    default:\r\n      return '/login';\r\n  }\r\n}\r\n\r\n// Hook to check if user should be redirected\r\nexport function useShouldRedirect() {\r\n  const { user, isAuthenticated, isLoading } = useAuthContext();\r\n  \r\n  if (isLoading) return { shouldRedirect: false, redirectTo: null };\r\n  \r\n  if (!isAuthenticated) {\r\n    return { shouldRedirect: true, redirectTo: '/login' };\r\n  }\r\n  \r\n  if (user) {\r\n    const currentPath = typeof window !== 'undefined' ? window.location.pathname : '';\r\n    \r\n    // Check if user is on the correct dashboard\r\n    const expectedDashboard = `/dashboard/${user.role}`;\r\n    if (currentPath.startsWith('/dashboard') && currentPath !== expectedDashboard) {\r\n      return { shouldRedirect: true, redirectTo: expectedDashboard };\r\n    }\r\n  }\r\n  \r\n  return { shouldRedirect: false, redirectTo: null };\r\n} "],"names":["window","__NEXT_P","push","__webpack_require__","admin_AdminSidebar","className","param","currentPath","router","useRouter","pathname","navigation","name","href","icon","HomeIcon","current","UsersIcon","DocumentTextIcon","ClockIcon","ChartBarIcon","jsx_runtime","jsxs","div","concat","jsx","h2","nav","map","Icon","item","Link","aria-hidden","span","p","formatCurrency","Intl","NumberFormat","style","currency","format","amount","formatDate","Date","date","toLocaleDateString","year","month","day","hour","minute","AdminDashboard","useRoleGuard","state","loadOverview","useAdmin","overview","overviewLoading","useEffect","stats","value","totalUsers","change","userGrowth","changeType","totalTeachers","AcademicCapIcon","totalStudents","UserGroupIcon","totalMaterials","totalRevenue","CurrencyDollarIcon","revenueGrowth","totalReservations","AdminSidebar","Array","_","i","h1","stat","isPositive","ArrowTrendingUpIcon","ArrowTrendingDownIcon","h3","recent","users","length","user","charAt","toUpperCase","email","role","createdAt","_id","materials","material","title","uploaderId","status","allowedRoles","useRoleGuardFromContext","useCanUploadMaterials","useAuthContext","useCanManageMaterials"],"sourceRoot":""}