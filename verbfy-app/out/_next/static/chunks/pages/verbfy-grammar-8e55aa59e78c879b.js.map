{"version":3,"file":"static/chunks/pages/verbfy-grammar-8e55aa59e78c879b.js","mappings":"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","sources":["webpack://_N_E/?71c7","webpack://_N_E/./pages/verbfy-grammar/index.tsx"],"sourcesContent":["\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/verbfy-grammar\",\n      function () {\n        return require(\"private-next-pages/verbfy-grammar/index.tsx\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/verbfy-grammar\"])\n      });\n    }\n  ","import React, { useEffect, useMemo, useState } from 'react';\r\nimport Head from 'next/head';\r\nimport Image from 'next/image';\r\nimport { freeMaterialsAPI } from '@/lib/api';\r\nimport { useI18n } from '@/lib/i18n';\r\n\r\ntype FreeMaterial = { _id?: string; id?: string; title: string; description?: string; category?: string; level?: string; thumbnailUrl?: string };\r\n\r\nexport default function VerbfyGrammarPage() {\r\n  const { locale } = useI18n();\r\n  const [materials, setMaterials] = useState<FreeMaterial[]>([]);\r\n  const [levels, setLevels] = useState<string[]>([]);\r\n  const [search, setSearch] = useState('');\r\n  const [level, setLevel] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const [selected, setSelected] = useState<Record<string, FreeMaterial>>({});\r\n\r\n  const category = useMemo(() => 'Grammar', []);\r\n\r\n  useEffect(() => {\r\n    freeMaterialsAPI.getLevels().then((resp) => { if (Array.isArray(resp?.data)) setLevels(resp.data); });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    let abort = false;\r\n    const load = async () => {\r\n      setLoading(true);\r\n      try {\r\n        const res = await freeMaterialsAPI.getMaterials({ category, level, search });\r\n        if (!abort) setMaterials(res?.data || res || []);\r\n      } finally { if (!abort) setLoading(false); }\r\n    };\r\n    load();\r\n    return () => { abort = true; };\r\n  }, [category, level, search]);\r\n\r\n  const toggle = (m: FreeMaterial) => {\r\n    const id = (m as any)._id || (m as any).id || m.title;\r\n    setSelected((x) => { const cp = { ...x } as any; if (cp[id]) delete cp[id]; else cp[id] = m; return cp; });\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-white\">\r\n      <Head><title>VerbfyGrammar</title></Head>\r\n      <main className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10\">\r\n        <div className=\"mb-8\">\r\n          <h1 className=\"text-3xl sm:text-4xl font-bold text-gray-900\">VerbfyGrammar</h1>\r\n          <p className=\"text-gray-600 mt-2\">{locale === 'tr' ? 'Dil bilgisini sistemli şekilde öğrenin.' : 'Learn grammar systematically.'}</p>\r\n        </div>\r\n        <div className=\"bg-white border border-gray-200 rounded-xl p-4 mb-6 flex flex-col sm:flex-row gap-4 sm:items-center\">\r\n          <input value={search} onChange={(e) => setSearch(e.target.value)} placeholder={locale === 'tr' ? 'Ara...' : 'Search...'} className=\"w-full sm:w-auto flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\" />\r\n          <select value={level} onChange={(e) => setLevel(e.target.value)} className=\"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\">\r\n            <option value=\"\">{locale === 'tr' ? 'Tüm seviyeler' : 'All levels'}</option>\r\n            {levels.map((l) => (<option key={l} value={l}>{l}</option>))}\r\n          </select>\r\n        </div>\r\n        {Object.keys(selected).length > 0 && (\r\n          <div className=\"mb-6 bg-yellow-50 border border-yellow-200 rounded-xl p-4\">\r\n            <p className=\"font-semibold mb-2\">{locale === 'tr' ? 'Seçtiklerim' : 'My selection'}</p>\r\n            <div className=\"flex flex-wrap gap-2\">{Object.values(selected).map((m) => (<span key={(m as any)._id || (m as any).id || m.title} className=\"px-2 py-1 text-sm bg-white border border-gray-200 rounded-md\">{m.title}</span>))}</div>\r\n          </div>\r\n        )}\r\n        {loading ? (<p className=\"text-gray-600\">{locale === 'tr' ? 'Yükleniyor...' : 'Loading...'}</p>) : (\r\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n            {(materials || []).map((m) => { const id = (m as any)._id || (m as any).id || m.title; const isSel = !!selected[id]; return (\r\n              <div key={id} className=\"group bg-white border border-gray-200 rounded-xl overflow-hidden shadow-sm hover:shadow-md transition-all\">\r\n                <div className=\"relative h-40\"><Image src={m.thumbnailUrl || '/images/verbfy-grammar.png'} alt={m.title} fill className=\"object-contain p-4 group-hover:scale-105 transition-transform duration-200\" /></div>\r\n                <div className=\"p-4\">\r\n                  <h3 className=\"font-semibold text-gray-900 line-clamp-1\">{m.title}</h3>\r\n                  <p className=\"text-sm text-gray-600 line-clamp-2 mt-1\">{m.description}</p>\r\n                  <div className=\"mt-3 flex items-center justify-between text-sm text-gray-500\">\r\n                    <span>{m.level || '-'}</span>\r\n                    <button onClick={() => toggle(m)} className={`px-3 py-1 rounded-md border ${isSel ? 'bg-yellow-500 text-white border-yellow-500' : 'border-gray-300 hover:bg-gray-50'}`}>{isSel ? (locale === 'tr' ? 'Seçildi' : 'Selected') : (locale === 'tr' ? 'Seç' : 'Select')}</button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ); })}\r\n          </div>\r\n        )}\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\n"],"names":["window","__NEXT_P","push","__webpack_require__","VerbfyGrammarPage","locale","useI18n","materials","setMaterials","useState","levels","setLevels","search","setSearch","level","setLevel","loading","setLoading","selected","setSelected","category","useMemo","useEffect","freeMaterialsAPI","getLevels","then","Array","isArray","resp","data","abort","load","res","getMaterials","toggle","id","m","_id","title","cp","x","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","jsxs","div","className","jsx","Head","main","h1","p","input","value","onChange","e","target","placeholder","select","option","map","l","Object","keys","length","values","span","isSel","Image","src","thumbnailUrl","alt","fill","h3","description","button","onClick","concat"],"sourceRoot":""}