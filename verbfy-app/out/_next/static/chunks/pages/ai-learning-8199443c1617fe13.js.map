{"version":3,"file":"static/chunks/pages/ai-learning-8199443c1617fe13.js","mappings":"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","sources":["webpack://_N_E/?c0d0","webpack://_N_E/./pages/ai-learning/index.tsx"],"sourcesContent":["\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/ai-learning\",\n      function () {\n        return require(\"private-next-pages/ai-learning/index.tsx\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/ai-learning\"])\n      });\n    }\n  ","import React, { useState, useEffect } from 'react';\r\nimport { useAuth } from '@/context/AuthContext';\r\nimport { aiLearningAPI } from '@/lib/api';\r\nimport { AILearningSession, CreateAISessionData, AIResponseData, Recommendation } from '@/types/aiLearning';\r\nimport { \r\n  ChatBubbleLeftRightIcon, \r\n  AcademicCapIcon, \r\n  LightBulbIcon,\r\n  ClockIcon,\r\n  StarIcon,\r\n  ChartBarIcon,\r\n  PlusIcon,\r\n  PlayIcon\r\n} from '@heroicons/react/24/outline';\r\nimport { toast } from 'react-hot-toast';\r\n\r\nconst AILearningPage: React.FC = () => {\r\n  const { user } = useAuth();\r\n  const [sessions, setSessions] = useState<AILearningSession[]>([]);\r\n  const [recommendations, setRecommendations] = useState<Recommendation[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [activeSession, setActiveSession] = useState<AILearningSession | null>(null);\r\n  const [userInput, setUserInput] = useState('');\r\n  const [aiResponse, setAiResponse] = useState('');\r\n  const [isTyping, setIsTyping] = useState(false);\r\n  const [sessionType, setSessionType] = useState<'conversation' | 'exercise' | 'recommendation' | 'feedback'>('conversation');\r\n  const [topic, setTopic] = useState('');\r\n  const [difficulty, setDifficulty] = useState<'beginner' | 'intermediate' | 'advanced'>('intermediate');\r\n\r\n  useEffect(() => {\r\n    loadData();\r\n  }, []);\r\n\r\n  const loadData = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const [sessionsRes, recommendationsRes] = await Promise.all([\r\n        aiLearningAPI.getSessions({ limit: 10 }),\r\n        aiLearningAPI.generateRecommendations({ limit: 5 })\r\n      ]);\r\n      \r\n      setSessions(sessionsRes.sessions);\r\n      setRecommendations(recommendationsRes.recommendations);\r\n    } catch (error) {\r\n      console.error('Error loading AI learning data:', error);\r\n      toast.error('Failed to load AI learning data');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const createNewSession = async () => {\r\n    if (!topic.trim()) {\r\n      toast.error('Please enter a topic');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const sessionData: CreateAISessionData = {\r\n        sessionType,\r\n        topic: topic.trim(),\r\n        difficulty,\r\n        learningObjectives: []\r\n      };\r\n\r\n      const response = await aiLearningAPI.createSession(sessionData);\r\n      setActiveSession(response.session);\r\n      setTopic('');\r\n      toast.success('New AI learning session created!');\r\n    } catch (error) {\r\n      console.error('Error creating session:', error);\r\n      toast.error('Failed to create session');\r\n    }\r\n  };\r\n\r\n  const sendMessage = async () => {\r\n    if (!userInput.trim() || !activeSession) return;\r\n\r\n    const currentInput = userInput;\r\n    setUserInput('');\r\n    setIsTyping(true);\r\n\r\n    try {\r\n      const responseData: AIResponseData = {\r\n        sessionId: activeSession._id,\r\n        userInput: currentInput,\r\n        context: activeSession.content.aiResponse\r\n      };\r\n\r\n      const response = await aiLearningAPI.getAIResponse(responseData);\r\n      setAiResponse(response.response);\r\n      \r\n      // Update the active session with new content\r\n      setActiveSession(prev => prev ? {\r\n        ...prev,\r\n        content: {\r\n          ...prev.content,\r\n          userInput: currentInput,\r\n          aiResponse: response.response\r\n        }\r\n      } : null);\r\n\r\n      toast.success('AI response received!');\r\n    } catch (error) {\r\n      console.error('Error getting AI response:', error);\r\n      toast.error('Failed to get AI response');\r\n    } finally {\r\n      setIsTyping(false);\r\n    }\r\n  };\r\n\r\n  const startRecommendation = async (recommendation: Recommendation) => {\r\n    try {\r\n      const sessionData: CreateAISessionData = {\r\n        sessionType: recommendation.type as any,\r\n        topic: recommendation.title,\r\n        difficulty: recommendation.difficulty,\r\n        learningObjectives: [recommendation.description]\r\n      };\r\n\r\n      const response = await aiLearningAPI.createSession(sessionData);\r\n      setActiveSession(response.session);\r\n      toast.success(`Started ${recommendation.title}!`);\r\n    } catch (error) {\r\n      console.error('Error starting recommendation:', error);\r\n      toast.error('Failed to start recommendation');\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto\"></div>\r\n          <p className=\"mt-4 text-gray-600\">Loading AI Learning Assistant...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50\">\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n        {/* Header */}\r\n        <div className=\"mb-8\">\r\n          <h1 className=\"text-3xl font-bold text-gray-900 flex items-center\">\r\n            <ChatBubbleLeftRightIcon className=\"h-8 w-8 text-blue-600 mr-3\" />\r\n            AI Learning Assistant\r\n          </h1>\r\n          <p className=\"mt-2 text-gray-600\">\r\n            Your personalized AI tutor for English learning. Practice conversations, exercises, and get instant feedback.\r\n          </p>\r\n        </div>\r\n\r\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\r\n          {/* Main AI Chat Area */}\r\n          <div className=\"lg:col-span-2\">\r\n            <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\r\n              {/* Session Header */}\r\n              <div className=\"p-6 border-b border-gray-200\">\r\n                {activeSession ? (\r\n                  <div className=\"flex items-center justify-between\">\r\n                    <div>\r\n                      <h3 className=\"text-lg font-semibold text-gray-900\">\r\n                        {activeSession.topic}\r\n                      </h3>\r\n                      <p className=\"text-sm text-gray-500\">\r\n                        {activeSession.sessionType} • {activeSession.difficulty} level\r\n                      </p>\r\n                    </div>\r\n                    <button\r\n                      onClick={() => setActiveSession(null)}\r\n                      className=\"text-gray-400 hover:text-gray-600\"\r\n                    >\r\n                      ✕\r\n                    </button>\r\n                  </div>\r\n                ) : (\r\n                  <div>\r\n                    <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">\r\n                      Start a New Session\r\n                    </h3>\r\n                    <div className=\"space-y-4\">\r\n                      <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                          Session Type\r\n                        </label>\r\n                        <select\r\n                          value={sessionType}\r\n                          onChange={(e) => setSessionType(e.target.value as any)}\r\n                          className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                        >\r\n                          <option value=\"conversation\">Conversation Practice</option>\r\n                          <option value=\"exercise\">Exercise</option>\r\n                          <option value=\"recommendation\">Recommendation</option>\r\n                          <option value=\"feedback\">Feedback</option>\r\n                        </select>\r\n                      </div>\r\n                      <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                          Topic\r\n                        </label>\r\n                        <input\r\n                          type=\"text\"\r\n                          value={topic}\r\n                          onChange={(e) => setTopic(e.target.value)}\r\n                          placeholder=\"e.g., Business English, Travel Vocabulary, Grammar Practice\"\r\n                          className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                        />\r\n                      </div>\r\n                      <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                          Difficulty Level\r\n                        </label>\r\n                        <select\r\n                          value={difficulty}\r\n                          onChange={(e) => setDifficulty(e.target.value as any)}\r\n                          className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                        >\r\n                          <option value=\"beginner\">Beginner</option>\r\n                          <option value=\"intermediate\">Intermediate</option>\r\n                          <option value=\"advanced\">Advanced</option>\r\n                        </select>\r\n                      </div>\r\n                      <button\r\n                        onClick={createNewSession}\r\n                        className=\"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition-colors flex items-center justify-center\"\r\n                      >\r\n                        <PlusIcon className=\"h-5 w-5 mr-2\" />\r\n                        Start Session\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n\r\n              {/* Chat Area */}\r\n              {activeSession && (\r\n                <div className=\"p-6\">\r\n                  <div className=\"space-y-4 mb-4 max-h-96 overflow-y-auto\">\r\n                    {activeSession.content.aiResponse && (\r\n                      <div className=\"flex items-start space-x-3\">\r\n                        <div className=\"flex-shrink-0\">\r\n                          <div className=\"h-8 w-8 bg-blue-100 rounded-full flex items-center justify-center\">\r\n                            <ChatBubbleLeftRightIcon className=\"h-5 w-5 text-blue-600\" />\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"flex-1 bg-blue-50 rounded-lg p-3\">\r\n                          <p className=\"text-gray-900\">{activeSession.content.aiResponse}</p>\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                    {isTyping && (\r\n                      <div className=\"flex items-start space-x-3\">\r\n                        <div className=\"flex-shrink-0\">\r\n                          <div className=\"h-8 w-8 bg-blue-100 rounded-full flex items-center justify-center\">\r\n                            <ChatBubbleLeftRightIcon className=\"h-5 w-5 text-blue-600\" />\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"flex-1 bg-blue-50 rounded-lg p-3\">\r\n                          <div className=\"flex space-x-1\">\r\n                            <div className=\"w-2 h-2 bg-blue-400 rounded-full animate-bounce\"></div>\r\n                            <div className=\"w-2 h-2 bg-blue-400 rounded-full animate-bounce\" style={{ animationDelay: '0.1s' }}></div>\r\n                            <div className=\"w-2 h-2 bg-blue-400 rounded-full animate-bounce\" style={{ animationDelay: '0.2s' }}></div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n\r\n                  <div className=\"flex space-x-3\">\r\n                    <input\r\n                      type=\"text\"\r\n                      value={userInput}\r\n                      onChange={(e) => setUserInput(e.target.value)}\r\n                      onKeyPress={(e) => e.key === 'Enter' && sendMessage()}\r\n                      placeholder=\"Type your message or question...\"\r\n                      className=\"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                    />\r\n                    <button\r\n                      onClick={sendMessage}\r\n                      disabled={!userInput.trim() || isTyping}\r\n                      className=\"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                    >\r\n                      Send\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Sidebar */}\r\n          <div className=\"space-y-6\">\r\n            {/* Recommendations */}\r\n            <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\r\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-4 flex items-center\">\r\n                <LightBulbIcon className=\"h-5 w-5 text-yellow-500 mr-2\" />\r\n                AI Recommendations\r\n              </h3>\r\n              <div className=\"space-y-3\">\r\n                {recommendations.map((recommendation, index) => (\r\n                  <div key={index} className=\"border border-gray-200 rounded-lg p-3 hover:border-blue-300 transition-colors\">\r\n                    <h4 className=\"font-medium text-gray-900 text-sm\">{recommendation.title}</h4>\r\n                    <p className=\"text-gray-600 text-xs mt-1\">{recommendation.description}</p>\r\n                    <div className=\"flex items-center justify-between mt-2\">\r\n                      <span className=\"text-xs text-gray-500\">\r\n                        {recommendation.estimatedDuration} min • {recommendation.difficulty}\r\n                      </span>\r\n                      <button\r\n                        onClick={() => startRecommendation(recommendation)}\r\n                        className=\"text-blue-600 hover:text-blue-700 text-xs flex items-center\"\r\n                      >\r\n                        <PlayIcon className=\"h-3 w-3 mr-1\" />\r\n                        Start\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Recent Sessions */}\r\n            <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\r\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-4 flex items-center\">\r\n                <ClockIcon className=\"h-5 w-5 text-gray-500 mr-2\" />\r\n                Recent Sessions\r\n              </h3>\r\n              <div className=\"space-y-3\">\r\n                {sessions.slice(0, 5).map((session) => (\r\n                  <div key={session._id} className=\"border border-gray-200 rounded-lg p-3 hover:border-blue-300 transition-colors cursor-pointer\">\r\n                    <h4 className=\"font-medium text-gray-900 text-sm\">{session.topic}</h4>\r\n                    <p className=\"text-gray-600 text-xs mt-1\">\r\n                      {session.sessionType} • {session.difficulty}\r\n                    </p>\r\n                    <div className=\"flex items-center justify-between mt-2\">\r\n                      <span className=\"text-xs text-gray-500\">\r\n                        {new Date(session.createdAt).toLocaleDateString()}\r\n                      </span>\r\n                      <div className=\"flex items-center text-xs text-gray-500\">\r\n                        <StarIcon className=\"h-3 w-3 mr-1\" />\r\n                        {session.metadata.sessionRating || 'No rating'}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Quick Stats */}\r\n            <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\r\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-4 flex items-center\">\r\n                <ChartBarIcon className=\"h-5 w-5 text-green-500 mr-2\" />\r\n                Your Progress\r\n              </h3>\r\n              <div className=\"space-y-3\">\r\n                <div className=\"flex justify-between\">\r\n                  <span className=\"text-sm text-gray-600\">Total Sessions</span>\r\n                  <span className=\"text-sm font-medium\">{sessions.length}</span>\r\n                </div>\r\n                <div className=\"flex justify-between\">\r\n                  <span className=\"text-sm text-gray-600\">Average Rating</span>\r\n                  <span className=\"text-sm font-medium\">\r\n                    {sessions.length > 0 \r\n                      ? (sessions.reduce((acc, s) => acc + (s.metadata.sessionRating || 0), 0) / sessions.length).toFixed(1)\r\n                      : 'N/A'\r\n                    }\r\n                  </span>\r\n                </div>\r\n                <div className=\"flex justify-between\">\r\n                  <span className=\"text-sm text-gray-600\">Total Time</span>\r\n                  <span className=\"text-sm font-medium\">\r\n                    {sessions.reduce((acc, s) => acc + s.metadata.duration, 0)} min\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AILearningPage; "],"names":["window","__NEXT_P","push","__webpack_require__","__webpack_exports__","user","useAuth","sessions","setSessions","useState","recommendations","setRecommendations","loading","setLoading","activeSession","setActiveSession","userInput","setUserInput","aiResponse","setAiResponse","isTyping","setIsTyping","sessionType","setSessionType","topic","setTopic","difficulty","setDifficulty","useEffect","loadData","sessionsRes","recommendationsRes","Promise","all","aiLearningAPI","getSessions","limit","generateRecommendations","error","console","toast","createNewSession","trim","sessionData","learningObjectives","response","createSession","session","success","sendMessage","responseData","sessionId","_id","context","content","getAIResponse","prev","startRecommendation","recommendation","type","title","description","concat","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","jsx","div","className","jsxs","p","h1","ChatBubbleLeftRightIcon","h3","button","onClick","label","select","value","onChange","e","target","option","input","placeholder","PlusIcon","style","animationDelay","onKeyPress","key","disabled","LightBulbIcon","map","index","h4","span","estimatedDuration","PlayIcon","ClockIcon","slice","Date","createdAt","toLocaleDateString","StarIcon","metadata","sessionRating","ChartBarIcon","length","reduce","acc","s","toFixed","duration"],"sourceRoot":""}