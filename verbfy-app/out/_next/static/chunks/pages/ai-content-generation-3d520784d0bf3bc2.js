(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3534],{17813:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/ai-content-generation",function(){return s(30717)}])},30717:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return u}});var n=s(85893),l=s(67294),a=s(9008),r=s.n(a),i=s(11163),c=s(32798),d=s(36197);let o=e=>{let{userRole:t}=e;(0,i.useRouter)();let{user:s}=(0,d.Eu)(),[a,r]=(0,l.useState)([]),[o,u]=(0,l.useState)(!1),[x,m]=(0,l.useState)(!1),[g,h]=(0,l.useState)(null),[b,p]=(0,l.useState)(!1),[j,y]=(0,l.useState)({type:"lesson",title:"",description:"",cefrLevel:"A1",difficulty:"Beginner",category:"",subcategory:"",learningObjectives:[""],estimatedDuration:30,tags:[],customPrompt:"",includeExercises:!0,includeVocabulary:!0,includeGrammar:!0,includeAudio:!1,includeImages:!1});(0,l.useEffect)(()=>{v()},[]);let v=async()=>{try{u(!0);let e=await c.qV.getGeneratedContent({page:1,limit:20});r(e.content)}catch(e){}finally{u(!1)}},f=(e,t)=>{y(s=>({...s,[e]:t}))},N=(e,t)=>{let s=[...j.learningObjectives];s[e]=t,y(e=>({...e,learningObjectives:s}))},w=e=>{if(j.learningObjectives.length>1){let t=j.learningObjectives.filter((t,s)=>s!==e);y(e=>({...e,learningObjectives:t}))}},C=e=>{let t=e.split(",").map(e=>e.trim()).filter(e=>e);y(e=>({...e,tags:t}))},k=async()=>{try{m(!0);let e=await c.qV.generateContent(j);r(t=>[e.content,...t]),y({type:"lesson",title:"",description:"",cefrLevel:"A1",difficulty:"Beginner",category:"",subcategory:"",learningObjectives:[""],estimatedDuration:30,tags:[],customPrompt:"",includeExercises:!0,includeVocabulary:!0,includeGrammar:!0,includeAudio:!1,includeImages:!1}),alert("Content generated successfully!")}catch(e){alert("Error generating content. Please try again.")}finally{m(!1)}},D=async(e,t,s)=>{try{await c.qV.reviewContent(e,{status:t,notes:s}),v()}catch(e){}},A=e=>({lesson:"\uD83D\uDCDA",exercise:"✏️",story:"\uD83D\uDCD6",dialogue:"\uD83D\uDCAC",quiz:"❓",material:"\uD83D\uDCC4"})[e]||"\uD83D\uDCCA",E=e=>({pending:"bg-yellow-100 text-yellow-800",approved:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800",needs_revision:"bg-orange-100 text-orange-800"})[e]||"bg-gray-100 text-gray-800",I=e=>({A1:"bg-red-100 text-red-800",A2:"bg-orange-100 text-orange-800",B1:"bg-yellow-100 text-yellow-800",B2:"bg-green-100 text-green-800",C1:"bg-blue-100 text-blue-800",C2:"bg-purple-100 text-purple-800"})[e]||"bg-gray-100 text-gray-800";return o?(0,n.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,n.jsx)("p",{className:"text-gray-600",children:"Loading content generation tools..."})]})}):(0,n.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,n.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,n.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"AI Content Generation"}),(0,n.jsx)("p",{className:"text-gray-600 mt-1",children:"Generate high-quality learning content using AI"})]}),(0,n.jsx)("div",{className:"text-sm text-gray-500",children:"AI Model: GPT-4 | Version: 1.0"})]})}),(0,n.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,n.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,n.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Generate New Content"}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Content Type"}),(0,n.jsxs)("select",{value:j.type,onChange:e=>f("type",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,n.jsx)("option",{value:"lesson",children:"Lesson"}),(0,n.jsx)("option",{value:"exercise",children:"Exercise"}),(0,n.jsx)("option",{value:"story",children:"Story"}),(0,n.jsx)("option",{value:"dialogue",children:"Dialogue"}),(0,n.jsx)("option",{value:"quiz",children:"Quiz"}),(0,n.jsx)("option",{value:"material",children:"Material"})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title"}),(0,n.jsx)("input",{type:"text",value:j.title,onChange:e=>f("title",e.target.value),placeholder:"Enter content title...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),(0,n.jsx)("textarea",{value:j.description,onChange:e=>f("description",e.target.value),placeholder:"Describe the content...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CEFR Level"}),(0,n.jsxs)("select",{value:j.cefrLevel,onChange:e=>f("cefrLevel",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,n.jsx)("option",{value:"A1",children:"A1 - Beginner"}),(0,n.jsx)("option",{value:"A2",children:"A2 - Elementary"}),(0,n.jsx)("option",{value:"B1",children:"B1 - Intermediate"}),(0,n.jsx)("option",{value:"B2",children:"B2 - Upper Intermediate"}),(0,n.jsx)("option",{value:"C1",children:"C1 - Advanced"}),(0,n.jsx)("option",{value:"C2",children:"C2 - Proficient"})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Difficulty"}),(0,n.jsxs)("select",{value:j.difficulty,onChange:e=>f("difficulty",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,n.jsx)("option",{value:"Beginner",children:"Beginner"}),(0,n.jsx)("option",{value:"Intermediate",children:"Intermediate"}),(0,n.jsx)("option",{value:"Advanced",children:"Advanced"})]})]})]}),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),(0,n.jsx)("input",{type:"text",value:j.category,onChange:e=>f("category",e.target.value),placeholder:"e.g., Grammar, Vocabulary",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subcategory"}),(0,n.jsx)("input",{type:"text",value:j.subcategory,onChange:e=>f("subcategory",e.target.value),placeholder:"e.g., Present Perfect",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Learning Objectives"}),j.learningObjectives.map((e,t)=>(0,n.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,n.jsx)("input",{type:"text",value:e,onChange:e=>N(t,e.target.value),placeholder:"Learning objective ".concat(t+1),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),j.learningObjectives.length>1&&(0,n.jsx)("button",{onClick:()=>w(t),className:"px-2 py-2 text-red-600 hover:bg-red-50 rounded-md",children:"✕"})]},t)),(0,n.jsx)("button",{onClick:()=>{y(e=>({...e,learningObjectives:[...e.learningObjectives,""]}))},className:"text-sm text-blue-600 hover:text-blue-700",children:"+ Add Learning Objective"})]}),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estimated Duration (minutes)"}),(0,n.jsx)("input",{type:"number",value:j.estimatedDuration,onChange:e=>f("estimatedDuration",parseInt(e.target.value)),min:"5",max:"180",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tags (comma-separated)"}),(0,n.jsx)("input",{type:"text",value:j.tags.join(", "),onChange:e=>C(e.target.value),placeholder:"e.g., grammar, present perfect, exercises",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Custom Prompt (Optional)"}),(0,n.jsx)("textarea",{value:j.customPrompt,onChange:e=>f("customPrompt",e.target.value),placeholder:"Add specific instructions for the AI...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Content Options"}),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,n.jsxs)("label",{className:"flex items-center",children:[(0,n.jsx)("input",{type:"checkbox",checked:j.includeExercises,onChange:e=>f("includeExercises",e.target.checked),className:"mr-2"}),"Include Exercises"]}),(0,n.jsxs)("label",{className:"flex items-center",children:[(0,n.jsx)("input",{type:"checkbox",checked:j.includeVocabulary,onChange:e=>f("includeVocabulary",e.target.checked),className:"mr-2"}),"Include Vocabulary"]}),(0,n.jsxs)("label",{className:"flex items-center",children:[(0,n.jsx)("input",{type:"checkbox",checked:j.includeGrammar,onChange:e=>f("includeGrammar",e.target.checked),className:"mr-2"}),"Include Grammar"]}),(0,n.jsxs)("label",{className:"flex items-center",children:[(0,n.jsx)("input",{type:"checkbox",checked:j.includeAudio,onChange:e=>f("includeAudio",e.target.checked),className:"mr-2"}),"Include Audio"]})]})]}),(0,n.jsx)("button",{onClick:k,disabled:x||!j.title||!j.description,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-4 rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:x?"Generating...":"Generate Content"})]})]}),(0,n.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,n.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Generated Content"}),(0,n.jsxs)("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:[a.map(e=>(0,n.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[(0,n.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)("div",{className:"text-xl",children:A(e.type)}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"font-medium text-gray-900 line-clamp-1",children:e.title}),(0,n.jsx)("p",{className:"text-sm text-gray-500",children:e.category})]})]}),(0,n.jsxs)("div",{className:"flex space-x-2",children:[(0,n.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat(I(e.cefrLevel)),children:e.cefrLevel}),(0,n.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat(E(e.reviewStatus)),children:e.reviewStatus})]})]}),(0,n.jsx)("p",{className:"text-sm text-gray-600 line-clamp-2 mb-3",children:e.description}),(0,n.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-500 mb-3",children:[(0,n.jsxs)("span",{children:["Duration: ",e.estimatedDuration," min"]}),(0,n.jsxs)("span",{children:["Quality: ",e.qualityScore,"/10"]})]}),(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[(0,n.jsxs)("span",{children:["\uD83D\uDC41️ ",e.usageCount]}),(0,n.jsxs)("span",{children:["⭐ ",e.averageRating.toFixed(1)]})]}),(0,n.jsxs)("div",{className:"flex space-x-2",children:[(0,n.jsx)("button",{onClick:()=>{h(e),p(!0)},className:"px-3 py-1 bg-blue-600 text-white text-xs rounded-md hover:bg-blue-700",children:"Preview"}),"pending"===e.reviewStatus&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("button",{onClick:()=>D(e._id,"approved"),className:"px-3 py-1 bg-green-600 text-white text-xs rounded-md hover:bg-green-700",children:"Approve"}),(0,n.jsx)("button",{onClick:()=>D(e._id,"rejected"),className:"px-3 py-1 bg-red-600 text-white text-xs rounded-md hover:bg-red-700",children:"Reject"})]})]})]})]},e._id)),0===a.length&&(0,n.jsxs)("div",{className:"text-center py-8",children:[(0,n.jsx)("div",{className:"text-gray-400 text-4xl mb-4",children:"\uD83E\uDD16"}),(0,n.jsx)("p",{className:"text-gray-500",children:"No generated content yet"})]})]})]})]}),b&&g&&(0,n.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,n.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,n.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Content Preview"}),(0,n.jsx)("button",{onClick:()=>p(!1),className:"text-gray-400 hover:text-gray-600",children:"✕"})]}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:g.title}),(0,n.jsx)("p",{className:"text-gray-600",children:g.description})]}),g.content.text&&(0,n.jsxs)("div",{children:[(0,n.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Content"}),(0,n.jsx)("div",{className:"prose max-w-none text-sm",children:g.content.text})]}),g.content.exercises&&g.content.exercises.length>0&&(0,n.jsxs)("div",{children:[(0,n.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Exercises"}),(0,n.jsx)("div",{className:"space-y-3",children:g.content.exercises.map((e,t)=>(0,n.jsxs)("div",{className:"border border-gray-200 rounded-lg p-3",children:[(0,n.jsx)("p",{className:"font-medium mb-2",children:e.question}),e.options&&(0,n.jsx)("ul",{className:"list-disc list-inside text-sm text-gray-600",children:e.options.map((e,t)=>(0,n.jsx)("li",{children:e},t))})]},t))})]}),g.content.vocabulary&&g.content.vocabulary.length>0&&(0,n.jsxs)("div",{children:[(0,n.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Vocabulary"}),(0,n.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:g.content.vocabulary.map((e,t)=>(0,n.jsxs)("div",{className:"border border-gray-200 rounded-lg p-3",children:[(0,n.jsx)("div",{className:"font-medium",children:e.word}),(0,n.jsx)("div",{className:"text-sm text-gray-600",children:e.definition}),(0,n.jsx)("div",{className:"text-sm text-gray-500 italic",children:e.example})]},t))})]})]})]})})]})})};function u(){let{user:e,loading:t}=(0,d.Eu)(),s=(0,i.useRouter)();return((0,l.useEffect)(()=>{t||e||s.push("/login")},[e,t,s]),t)?(0,n.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,n.jsx)("p",{className:"text-gray-600",children:"Loading..."})]})}):e?"teacher"!==e.role&&"admin"!==e.role?(s.push("/unauthorized"),null):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(r(),{children:[(0,n.jsx)("title",{children:"AI Content Generation - Verbfy"}),(0,n.jsx)("meta",{name:"description",content:"Generate high-quality learning content using AI"})]}),(0,n.jsx)(o,{userRole:e.role})]}):null}}},function(e){e.O(0,[2138,9226,9496,8484,437,1883,7,747,3365,8638,9806,7093,8510,8424,8639,7855,7446,2169,8308,1408,6259,4657,8212,5522,1493,2888,5514,179],function(){return e(e.s=17813)}),_N_E=e.O()}]);