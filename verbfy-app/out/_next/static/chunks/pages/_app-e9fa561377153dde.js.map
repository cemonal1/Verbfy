{"version":3,"file":"static/chunks/pages/_app-e9fa561377153dde.js","mappings":"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","sources":["webpack://_N_E/","webpack://_N_E/./sentry.client.config.ts","webpack://_N_E/./pages/_app.tsx","webpack://_N_E/./src/components/common/Toast.tsx","webpack://_N_E/./src/context/AdminContext.tsx","webpack://_N_E/./src/context/AuthContext.tsx","webpack://_N_E/./src/context/ChatContext.tsx","webpack://_N_E/./src/context/NotificationContext.tsx","webpack://_N_E/./src/lib/api.ts","webpack://_N_E/./src/lib/i18n.tsx","webpack://_N_E/./src/utils/secureStorage.ts","webpack://_N_E/./src/styles/globals.css"],"sourcesContent":["\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/_app\",\n      function () {\n        return require(\"private-next-pages/_app.tsx\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/_app\"])\n      });\n    }\n  ","var _sentryCollisionFreeGlobalObject = typeof window != \"undefined\" ? window : typeof global != \"undefined\" ? global : typeof self != \"undefined\" ? self : {};\n_sentryCollisionFreeGlobalObject[\"__sentryRewritesTunnelPath__\"] = undefined;\n_sentryCollisionFreeGlobalObject[\"SENTRY_RELEASE\"] = {\"id\":\"Ax4vYry7KG-ro8rMf-YOx\"};\n_sentryCollisionFreeGlobalObject[\"__sentryBasePath\"] = undefined;\n_sentryCollisionFreeGlobalObject[\"__rewriteFramesAssetPrefixPath__\"] = \"\";\n\nimport * as Sentry from '@sentry/nextjs';\r\n\r\nconst dsn = process.env.NEXT_PUBLIC_SENTRY_DSN;\r\nif (dsn && dsn !== 'your-sentry-dsn') {\r\n  Sentry.init({\r\n    dsn,\r\n    tracesSampleRate: 0.0,\r\n    replaysOnErrorSampleRate: 0.0,\r\n    replaysSessionSampleRate: 0.0,\r\n  });\r\n}\r\n\r\n\r\n","import type { AppProps } from 'next/app';\r\nimport { AuthProvider } from '@/context/AuthContext';\r\nimport { ToastProvider } from '@/components/common/Toast';\r\nimport { ChatProvider } from '@/context/ChatContext';\r\nimport { NotificationProvider } from '@/context/NotificationContext';\r\nimport { AdminProvider } from '@/context/AdminContext';\r\nimport '@/styles/globals.css';\r\nimport { I18nProvider } from '@/lib/i18n';\r\n\r\nexport default function App({ Component, pageProps }: AppProps) {\r\n  return (\r\n    <I18nProvider>\r\n      <AuthProvider>\r\n        <ToastProvider>\r\n          <ChatProvider>\r\n            <NotificationProvider>\r\n              <AdminProvider>\r\n                <Component {...pageProps} />\r\n              </AdminProvider>\r\n            </NotificationProvider>\r\n          </ChatProvider>\r\n        </ToastProvider>\r\n      </AuthProvider>\r\n    </I18nProvider>\r\n  );\r\n} ","import React, { createContext, useContext, useState, ReactNode } from 'react';\r\n\r\n// Toast types\r\nexport type ToastType = 'success' | 'error' | 'warning' | 'info';\r\n\r\n// Toast interface\r\ninterface Toast {\r\n  id: string;\r\n  type: ToastType;\r\n  message: string;\r\n  duration?: number;\r\n}\r\n\r\n// Toast context interface\r\ninterface ToastContextType {\r\n  toasts: Toast[];\r\n  showToast: (type: ToastType, message: string, duration?: number) => void;\r\n  removeToast: (id: string) => void;\r\n  success: (message: string, duration?: number) => void;\r\n  error: (message: string, duration?: number) => void;\r\n  warning: (message: string, duration?: number) => void;\r\n  info: (message: string, duration?: number) => void;\r\n}\r\n\r\n// Create context\r\nconst ToastContext = createContext<ToastContextType | undefined>(undefined);\r\n\r\n// Provider component\r\ninterface ToastProviderProps {\r\n  children: ReactNode;\r\n}\r\n\r\nexport function ToastProvider({ children }: ToastProviderProps) {\r\n  const [toasts, setToasts] = useState<Toast[]>([]);\r\n\r\n  // Show toast\r\n  const showToast = (type: ToastType, message: string, duration = 5000) => {\r\n    const id = Math.random().toString(36).substring(2, 9);\r\n    const newToast: Toast = { id, type, message, duration };\r\n    \r\n    setToasts(prev => [...prev, newToast]);\r\n\r\n    // Auto remove after duration\r\n    if (duration > 0) {\r\n      setTimeout(() => {\r\n        removeToast(id);\r\n      }, duration);\r\n    }\r\n  };\r\n\r\n  // Remove toast\r\n  const removeToast = (id: string) => {\r\n    setToasts(prev => prev.filter(toast => toast.id !== id));\r\n  };\r\n\r\n  // Convenience methods\r\n  const success = (message: string, duration?: number) => showToast('success', message, duration);\r\n  const error = (message: string, duration?: number) => showToast('error', message, duration);\r\n  const warning = (message: string, duration?: number) => showToast('warning', message, duration);\r\n  const info = (message: string, duration?: number) => showToast('info', message, duration);\r\n\r\n  const value: ToastContextType = {\r\n    toasts,\r\n    showToast,\r\n    removeToast,\r\n    success,\r\n    error,\r\n    warning,\r\n    info,\r\n  };\r\n\r\n  return (\r\n    <ToastContext.Provider value={value}>\r\n      {children}\r\n      <ToastContainer />\r\n    </ToastContext.Provider>\r\n  );\r\n}\r\n\r\n// Custom hook to use toast context\r\nexport function useToast() {\r\n  const context = useContext(ToastContext);\r\n  \r\n  if (context === undefined) {\r\n    throw new Error('useToast must be used within a ToastProvider');\r\n  }\r\n  \r\n  return context;\r\n}\r\n\r\n// Toast container component\r\nfunction ToastContainer() {\r\n  const { toasts, removeToast } = useToast();\r\n\r\n  if (toasts.length === 0) return null;\r\n\r\n  return (\r\n    <div className=\"fixed top-4 right-4 z-50 space-y-2\">\r\n      {toasts.map((toast) => (\r\n        <ToastItem key={toast.id} toast={toast} onRemove={removeToast} />\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\n// Individual toast item component\r\ninterface ToastItemProps {\r\n  toast: Toast;\r\n  onRemove: (id: string) => void;\r\n}\r\n\r\nfunction ToastItem({ toast, onRemove }: ToastItemProps) {\r\n  const { type, message, id } = toast;\r\n\r\n  // Get icon and colors based on type\r\n  const getToastStyles = (type: ToastType) => {\r\n    switch (type) {\r\n      case 'success':\r\n        return {\r\n          icon: '',\r\n          bgColor: 'bg-green-50 dark:bg-green-900/20',\r\n          borderColor: 'border-green-200 dark:border-green-800',\r\n          textColor: 'text-green-800 dark:text-green-200',\r\n          iconColor: 'text-green-400',\r\n        };\r\n      case 'error':\r\n        return {\r\n          icon: '',\r\n          bgColor: 'bg-red-50 dark:bg-red-900/20',\r\n          borderColor: 'border-red-200 dark:border-red-800',\r\n          textColor: 'text-red-800 dark:text-red-200',\r\n          iconColor: 'text-red-400',\r\n        };\r\n      case 'warning':\r\n        return {\r\n          icon: '',\r\n          bgColor: 'bg-yellow-50 dark:bg-yellow-900/20',\r\n          borderColor: 'border-yellow-200 dark:border-yellow-800',\r\n          textColor: 'text-yellow-800 dark:text-yellow-200',\r\n          iconColor: 'text-yellow-400',\r\n        };\r\n      case 'info':\r\n        return {\r\n          icon: '',\r\n          bgColor: 'bg-blue-50 dark:bg-blue-900/20',\r\n          borderColor: 'border-blue-200 dark:border-blue-800',\r\n          textColor: 'text-blue-800 dark:text-blue-200',\r\n          iconColor: 'text-blue-400',\r\n        };\r\n      default:\r\n        return {\r\n          icon: '',\r\n          bgColor: 'bg-gray-50 dark:bg-gray-900/20',\r\n          borderColor: 'border-gray-200 dark:border-gray-800',\r\n          textColor: 'text-gray-800 dark:text-gray-200',\r\n          iconColor: 'text-gray-400',\r\n        };\r\n    }\r\n  };\r\n\r\n  const styles = getToastStyles(type);\r\n\r\n  return (\r\n    <div\r\n      className={`\r\n        max-w-sm w-full ${styles.bgColor} border ${styles.borderColor} rounded-lg shadow-lg\r\n        p-4 flex items-start space-x-3 transform transition-all duration-300 ease-in-out\r\n        hover:scale-105\r\n      `}\r\n      role=\"alert\"\r\n      aria-live=\"assertive\"\r\n    >\r\n      {/* Icon */}\r\n      <div className={`flex-shrink-0 text-lg ${styles.iconColor}`}>\r\n        {styles.icon}\r\n      </div>\r\n\r\n      {/* Message */}\r\n      <div className=\"flex-1 min-w-0\">\r\n        <p className={`text-sm font-medium ${styles.textColor}`}>\r\n          {message}\r\n        </p>\r\n      </div>\r\n\r\n      {/* Close button */}\r\n      <button\r\n        onClick={() => onRemove(id)}\r\n        className={`\r\n          flex-shrink-0 ml-2 p-1 rounded-md ${styles.textColor} hover:bg-black/10\r\n          focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-transparent\r\n          focus:ring-current transition-colors duration-200\r\n        `}\r\n        aria-label=\"Close notification\"\r\n      >\r\n        <svg className=\"w-4 h-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n        </svg>\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\n// Global toast functions (for use outside of React components)\r\nlet toastContext: ToastContextType | null = null;\r\n\r\nexport const setToastContext = (context: ToastContextType) => {\r\n  toastContext = context;\r\n};\r\n\r\nexport const toast = {\r\n  success: (message: string, duration?: number) => {\r\n    if (toastContext) {\r\n      toastContext.success(message, duration);\r\n    } else {\r\n      console.warn('Toast context not available');\r\n    }\r\n  },\r\n  error: (message: string, duration?: number) => {\r\n    if (toastContext) {\r\n      toastContext.error(message, duration);\r\n    } else {\r\n      console.warn('Toast context not available');\r\n    }\r\n  },\r\n  warning: (message: string, duration?: number) => {\r\n    if (toastContext) {\r\n      toastContext.warning(message, duration);\r\n    } else {\r\n      console.warn('Toast context not available');\r\n    }\r\n  },\r\n  info: (message: string, duration?: number) => {\r\n    if (toastContext) {\r\n      toastContext.info(message, duration);\r\n    } else {\r\n      console.warn('Toast context not available');\r\n    }\r\n  },\r\n}; ","import React, { createContext, useContext, useReducer, ReactNode } from 'react';\r\nimport { toast } from 'react-hot-toast';\r\nimport { adminAPI } from '../lib/api';\r\nimport {\r\n  AdminUser,\r\n  AdminMaterial,\r\n  AdminPayment,\r\n  AdminLog,\r\n  AdminOverview,\r\n  UserFilters,\r\n  MaterialFilters,\r\n  PaymentFilters,\r\n  LogFilters,\r\n  UpdateUserRoleData,\r\n  UpdateUserStatusData,\r\n  ApproveMaterialData,\r\n  RefundPaymentData\r\n} from '../types/admin';\r\n\r\n// State interface\r\ninterface AdminState {\r\n  // Overview data\r\n  overview: AdminOverview | null;\r\n  overviewLoading: boolean;\r\n  \r\n  // Users\r\n  users: AdminUser[];\r\n  usersLoading: boolean;\r\n  usersPagination: {\r\n    page: number;\r\n    limit: number;\r\n    total: number;\r\n    pages: number;\r\n  } | null;\r\n  selectedUser: AdminUser | null;\r\n  \r\n  // Materials\r\n  materials: AdminMaterial[];\r\n  materialsLoading: boolean;\r\n  materialsPagination: {\r\n    page: number;\r\n    limit: number;\r\n    total: number;\r\n    pages: number;\r\n  } | null;\r\n  selectedMaterial: AdminMaterial | null;\r\n  \r\n  // Payments\r\n  payments: AdminPayment[];\r\n  paymentsLoading: boolean;\r\n  paymentsPagination: {\r\n    page: number;\r\n    limit: number;\r\n    total: number;\r\n    pages: number;\r\n  } | null;\r\n  selectedPayment: AdminPayment | null;\r\n  \r\n  // Logs\r\n  logs: AdminLog[];\r\n  logsLoading: boolean;\r\n  logsPagination: {\r\n    page: number;\r\n    limit: number;\r\n    total: number;\r\n    pages: number;\r\n  } | null;\r\n  \r\n  // Filters\r\n  userFilters: UserFilters;\r\n  materialFilters: MaterialFilters;\r\n  paymentFilters: PaymentFilters;\r\n  logFilters: LogFilters;\r\n}\r\n\r\n// Action types\r\ntype AdminAction =\r\n  | { type: 'SET_OVERVIEW'; payload: AdminOverview }\r\n  | { type: 'SET_OVERVIEW_LOADING'; payload: boolean }\r\n  | { type: 'SET_USERS'; payload: { users: AdminUser[]; pagination: any } }\r\n  | { type: 'SET_USERS_LOADING'; payload: boolean }\r\n  | { type: 'SET_SELECTED_USER'; payload: AdminUser | null }\r\n  | { type: 'SET_MATERIALS'; payload: { materials: AdminMaterial[]; pagination: any } }\r\n  | { type: 'SET_MATERIALS_LOADING'; payload: boolean }\r\n  | { type: 'SET_SELECTED_MATERIAL'; payload: AdminMaterial | null }\r\n  | { type: 'SET_PAYMENTS'; payload: { payments: AdminPayment[]; pagination: any } }\r\n  | { type: 'SET_PAYMENTS_LOADING'; payload: boolean }\r\n  | { type: 'SET_SELECTED_PAYMENT'; payload: AdminPayment | null }\r\n  | { type: 'SET_LOGS'; payload: { logs: AdminLog[]; pagination: any } }\r\n  | { type: 'SET_LOGS_LOADING'; payload: boolean }\r\n  | { type: 'SET_USER_FILTERS'; payload: UserFilters }\r\n  | { type: 'SET_MATERIAL_FILTERS'; payload: MaterialFilters }\r\n  | { type: 'SET_PAYMENT_FILTERS'; payload: PaymentFilters }\r\n  | { type: 'SET_LOG_FILTERS'; payload: LogFilters }\r\n  | { type: 'UPDATE_USER'; payload: AdminUser }\r\n  | { type: 'UPDATE_MATERIAL'; payload: AdminMaterial }\r\n  | { type: 'UPDATE_PAYMENT'; payload: AdminPayment }\r\n  | { type: 'REMOVE_USER'; payload: string }\r\n  | { type: 'REMOVE_MATERIAL'; payload: string };\r\n\r\n// Initial state\r\nconst initialState: AdminState = {\r\n  overview: null,\r\n  overviewLoading: false,\r\n  users: [],\r\n  usersLoading: false,\r\n  usersPagination: null,\r\n  selectedUser: null,\r\n  materials: [],\r\n  materialsLoading: false,\r\n  materialsPagination: null,\r\n  selectedMaterial: null,\r\n  payments: [],\r\n  paymentsLoading: false,\r\n  paymentsPagination: null,\r\n  selectedPayment: null,\r\n  logs: [],\r\n  logsLoading: false,\r\n  logsPagination: null,\r\n  userFilters: {},\r\n  materialFilters: {},\r\n  paymentFilters: {},\r\n  logFilters: {}\r\n};\r\n\r\n// Reducer\r\nfunction adminReducer(state: AdminState, action: AdminAction): AdminState {\r\n  switch (action.type) {\r\n    case 'SET_OVERVIEW':\r\n      return { ...state, overview: action.payload };\r\n    case 'SET_OVERVIEW_LOADING':\r\n      return { ...state, overviewLoading: action.payload };\r\n    case 'SET_USERS':\r\n      return { \r\n        ...state, \r\n        users: action.payload.users, \r\n        usersPagination: action.payload.pagination \r\n      };\r\n    case 'SET_USERS_LOADING':\r\n      return { ...state, usersLoading: action.payload };\r\n    case 'SET_SELECTED_USER':\r\n      return { ...state, selectedUser: action.payload };\r\n    case 'SET_MATERIALS':\r\n      return { \r\n        ...state, \r\n        materials: action.payload.materials, \r\n        materialsPagination: action.payload.pagination \r\n      };\r\n    case 'SET_MATERIALS_LOADING':\r\n      return { ...state, materialsLoading: action.payload };\r\n    case 'SET_SELECTED_MATERIAL':\r\n      return { ...state, selectedMaterial: action.payload };\r\n    case 'SET_PAYMENTS':\r\n      return { \r\n        ...state, \r\n        payments: action.payload.payments, \r\n        paymentsPagination: action.payload.pagination \r\n      };\r\n    case 'SET_PAYMENTS_LOADING':\r\n      return { ...state, paymentsLoading: action.payload };\r\n    case 'SET_SELECTED_PAYMENT':\r\n      return { ...state, selectedPayment: action.payload };\r\n    case 'SET_LOGS':\r\n      return { \r\n        ...state, \r\n        logs: action.payload.logs, \r\n        logsPagination: action.payload.pagination \r\n      };\r\n    case 'SET_LOGS_LOADING':\r\n      return { ...state, logsLoading: action.payload };\r\n    case 'SET_USER_FILTERS':\r\n      return { ...state, userFilters: action.payload };\r\n    case 'SET_MATERIAL_FILTERS':\r\n      return { ...state, materialFilters: action.payload };\r\n    case 'SET_PAYMENT_FILTERS':\r\n      return { ...state, paymentFilters: action.payload };\r\n    case 'SET_LOG_FILTERS':\r\n      return { ...state, logFilters: action.payload };\r\n    case 'UPDATE_USER':\r\n      return {\r\n        ...state,\r\n        users: state.users.map(user => \r\n          user._id === action.payload._id ? action.payload : user\r\n        ),\r\n        selectedUser: state.selectedUser?._id === action.payload._id \r\n          ? action.payload \r\n          : state.selectedUser\r\n      };\r\n    case 'UPDATE_MATERIAL':\r\n      return {\r\n        ...state,\r\n        materials: state.materials.map(material => \r\n          material._id === action.payload._id ? action.payload : material\r\n        ),\r\n        selectedMaterial: state.selectedMaterial?._id === action.payload._id \r\n          ? action.payload \r\n          : state.selectedMaterial\r\n      };\r\n    case 'UPDATE_PAYMENT':\r\n      return {\r\n        ...state,\r\n        payments: state.payments.map(payment => \r\n          payment._id === action.payload._id ? action.payload : payment\r\n        ),\r\n        selectedPayment: state.selectedPayment?._id === action.payload._id \r\n          ? action.payload \r\n          : state.selectedPayment\r\n      };\r\n    case 'REMOVE_USER':\r\n      return {\r\n        ...state,\r\n        users: state.users.filter(user => user._id !== action.payload),\r\n        selectedUser: state.selectedUser?._id === action.payload ? null : state.selectedUser\r\n      };\r\n    case 'REMOVE_MATERIAL':\r\n      return {\r\n        ...state,\r\n        materials: state.materials.filter(material => material._id !== action.payload),\r\n        selectedMaterial: state.selectedMaterial?._id === action.payload ? null : state.selectedMaterial\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\n// Context interface\r\ninterface AdminContextType {\r\n  state: AdminState;\r\n  \r\n  // Overview actions\r\n  loadOverview: () => Promise<void>;\r\n  \r\n  // User actions\r\n  loadUsers: (page?: number, filters?: UserFilters) => Promise<void>;\r\n  loadUserById: (id: string) => Promise<AdminUser | null>;\r\n  updateUserRole: (id: string, data: UpdateUserRoleData) => Promise<void>;\r\n  updateUserStatus: (id: string, data: UpdateUserStatusData) => Promise<void>;\r\n  deleteUser: (id: string) => Promise<void>;\r\n  setSelectedUser: (user: AdminUser | null) => void;\r\n  setUserFilters: (filters: UserFilters) => void;\r\n  \r\n  // Material actions\r\n  loadMaterials: (page?: number, filters?: MaterialFilters) => Promise<void>;\r\n  approveMaterial: (id: string, data: ApproveMaterialData) => Promise<void>;\r\n  deleteMaterial: (id: string) => Promise<void>;\r\n  setSelectedMaterial: (material: AdminMaterial | null) => void;\r\n  setMaterialFilters: (filters: MaterialFilters) => void;\r\n  \r\n  // Payment actions\r\n  loadPayments: (page?: number, filters?: PaymentFilters) => Promise<void>;\r\n  refundPayment: (id: string, data: RefundPaymentData) => Promise<void>;\r\n  setSelectedPayment: (payment: AdminPayment | null) => void;\r\n  setPaymentFilters: (filters: PaymentFilters) => void;\r\n  \r\n  // Log actions\r\n  loadLogs: (page?: number, filters?: LogFilters) => Promise<void>;\r\n  setLogFilters: (filters: LogFilters) => void;\r\n}\r\n\r\n// Create context\r\nconst AdminContext = createContext<AdminContextType | undefined>(undefined);\r\n\r\n// Provider component\r\ninterface AdminProviderProps {\r\n  children: ReactNode;\r\n}\r\n\r\nexport const AdminProvider: React.FC<AdminProviderProps> = ({ children }) => {\r\n  const [state, dispatch] = useReducer(adminReducer, initialState);\r\n\r\n  // Overview actions\r\n  const loadOverview = async () => {\r\n    try {\r\n      dispatch({ type: 'SET_OVERVIEW_LOADING', payload: true });\r\n      const response = await adminAPI.getOverview();\r\n      if (response.data.success) {\r\n        dispatch({ type: 'SET_OVERVIEW', payload: response.data.data });\r\n      }\r\n    } catch (error) {\r\n      console.error('Error loading overview:', error);\r\n      toast.error('Failed to load overview data');\r\n    } finally {\r\n      dispatch({ type: 'SET_OVERVIEW_LOADING', payload: false });\r\n    }\r\n  };\r\n\r\n  // User actions\r\n  const loadUsers = async (page = 1, filters = {}) => {\r\n    try {\r\n      dispatch({ type: 'SET_USERS_LOADING', payload: true });\r\n      const params = { page, limit: 20, ...filters };\r\n      const response = await adminAPI.getUsers(params);\r\n      if (response.data.success) {\r\n        dispatch({ \r\n          type: 'SET_USERS', \r\n          payload: { \r\n            users: response.data.data.users, \r\n            pagination: response.data.data.pagination \r\n          } \r\n        });\r\n      }\r\n    } catch (error) {\r\n      console.error('Error loading users:', error);\r\n      toast.error('Failed to load users');\r\n    } finally {\r\n      dispatch({ type: 'SET_USERS_LOADING', payload: false });\r\n    }\r\n  };\r\n\r\n  const loadUserById = async (id: string): Promise<AdminUser | null> => {\r\n    try {\r\n      const response = await adminAPI.getUserById(id);\r\n      if (response.data.success) {\r\n        return response.data.data;\r\n      }\r\n      return null;\r\n    } catch (error) {\r\n      console.error('Error loading user:', error);\r\n      toast.error('Failed to load user details');\r\n      return null;\r\n    }\r\n  };\r\n\r\n  const updateUserRole = async (id: string, data: UpdateUserRoleData) => {\r\n    try {\r\n      const response = await adminAPI.updateUserRole(id, data.role);\r\n      if (response.data.success) {\r\n        dispatch({ type: 'UPDATE_USER', payload: response.data.data });\r\n        toast.success('User role updated successfully');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error updating user role:', error);\r\n      toast.error('Failed to update user role');\r\n    }\r\n  };\r\n\r\n  const updateUserStatus = async (id: string, data: UpdateUserStatusData) => {\r\n    try {\r\n      const response = await adminAPI.updateUserStatus(id, data.status);\r\n      if (response.data.success) {\r\n        dispatch({ type: 'UPDATE_USER', payload: response.data.data });\r\n        toast.success('User status updated successfully');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error updating user status:', error);\r\n      toast.error('Failed to update user status');\r\n    }\r\n  };\r\n\r\n  const deleteUser = async (id: string) => {\r\n    try {\r\n      const response = await adminAPI.deleteUser(id);\r\n      if (response.data.success) {\r\n        dispatch({ type: 'REMOVE_USER', payload: id });\r\n        toast.success('User deleted successfully');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error deleting user:', error);\r\n      toast.error('Failed to delete user');\r\n    }\r\n  };\r\n\r\n  const setSelectedUser = (user: AdminUser | null) => {\r\n    dispatch({ type: 'SET_SELECTED_USER', payload: user });\r\n  };\r\n\r\n  const setUserFilters = (filters: UserFilters) => {\r\n    dispatch({ type: 'SET_USER_FILTERS', payload: filters });\r\n  };\r\n\r\n  // Material actions\r\n  const loadMaterials = async (page = 1, filters = {}) => {\r\n    try {\r\n      dispatch({ type: 'SET_MATERIALS_LOADING', payload: true });\r\n      const params = { page, limit: 20, ...filters };\r\n      const response = await adminAPI.getMaterials(params);\r\n      if (response.data.success) {\r\n        dispatch({ \r\n          type: 'SET_MATERIALS', \r\n          payload: { \r\n            materials: response.data.data.materials, \r\n            pagination: response.data.data.pagination \r\n          } \r\n        });\r\n      }\r\n    } catch (error) {\r\n      console.error('Error loading materials:', error);\r\n      toast.error('Failed to load materials');\r\n    } finally {\r\n      dispatch({ type: 'SET_MATERIALS_LOADING', payload: false });\r\n    }\r\n  };\r\n\r\n  const approveMaterial = async (id: string, data: ApproveMaterialData) => {\r\n    try {\r\n      const response = await adminAPI.approveMaterial(id, data);\r\n      if (response.data.success) {\r\n        dispatch({ type: 'UPDATE_MATERIAL', payload: response.data.data });\r\n        toast.success(`Material ${data.approved ? 'approved' : 'rejected'} successfully`);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error approving material:', error);\r\n      toast.error('Failed to update material status');\r\n    }\r\n  };\r\n\r\n  const deleteMaterial = async (id: string) => {\r\n    try {\r\n      const response = await adminAPI.deleteMaterial(id);\r\n      if (response.data.success) {\r\n        dispatch({ type: 'REMOVE_MATERIAL', payload: id });\r\n        toast.success('Material deleted successfully');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error deleting material:', error);\r\n      toast.error('Failed to delete material');\r\n    }\r\n  };\r\n\r\n  const setSelectedMaterial = (material: AdminMaterial | null) => {\r\n    dispatch({ type: 'SET_SELECTED_MATERIAL', payload: material });\r\n  };\r\n\r\n  const setMaterialFilters = (filters: MaterialFilters) => {\r\n    dispatch({ type: 'SET_MATERIAL_FILTERS', payload: filters });\r\n  };\r\n\r\n  // Payment actions\r\n  const loadPayments = async (page = 1, filters = {}) => {\r\n    try {\r\n      dispatch({ type: 'SET_PAYMENTS_LOADING', payload: true });\r\n      const params = { page, limit: 20, ...filters };\r\n      const response = await adminAPI.getPayments(params);\r\n      if (response.data.success) {\r\n        dispatch({ \r\n          type: 'SET_PAYMENTS', \r\n          payload: { \r\n            payments: response.data.data.payments, \r\n            pagination: response.data.data.pagination \r\n          } \r\n        });\r\n      }\r\n    } catch (error) {\r\n      console.error('Error loading payments:', error);\r\n      toast.error('Failed to load payments');\r\n    } finally {\r\n      dispatch({ type: 'SET_PAYMENTS_LOADING', payload: false });\r\n    }\r\n  };\r\n\r\n  const refundPayment = async (id: string, data: RefundPaymentData) => {\r\n    try {\r\n      const response = await adminAPI.refundPayment(id, data);\r\n      if (response.data.success) {\r\n        dispatch({ type: 'UPDATE_PAYMENT', payload: response.data.data });\r\n        toast.success('Payment refunded successfully');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error refunding payment:', error);\r\n      toast.error('Failed to refund payment');\r\n    }\r\n  };\r\n\r\n  const setSelectedPayment = (payment: AdminPayment | null) => {\r\n    dispatch({ type: 'SET_SELECTED_PAYMENT', payload: payment });\r\n  };\r\n\r\n  const setPaymentFilters = (filters: PaymentFilters) => {\r\n    dispatch({ type: 'SET_PAYMENT_FILTERS', payload: filters });\r\n  };\r\n\r\n  // Log actions\r\n  const loadLogs = async (page = 1, filters = {}) => {\r\n    try {\r\n      dispatch({ type: 'SET_LOGS_LOADING', payload: true });\r\n      const params = { page, limit: 50, ...filters };\r\n      const response = await adminAPI.getLogs(params);\r\n      if (response.data.success) {\r\n        dispatch({ \r\n          type: 'SET_LOGS', \r\n          payload: { \r\n            logs: response.data.data.logs, \r\n            pagination: response.data.data.pagination \r\n          } \r\n        });\r\n      }\r\n    } catch (error) {\r\n      console.error('Error loading logs:', error);\r\n      toast.error('Failed to load logs');\r\n    } finally {\r\n      dispatch({ type: 'SET_LOGS_LOADING', payload: false });\r\n    }\r\n  };\r\n\r\n  const setLogFilters = (filters: LogFilters) => {\r\n    dispatch({ type: 'SET_LOG_FILTERS', payload: filters });\r\n  };\r\n\r\n  const value: AdminContextType = {\r\n    state,\r\n    loadOverview,\r\n    loadUsers,\r\n    loadUserById,\r\n    updateUserRole,\r\n    updateUserStatus,\r\n    deleteUser,\r\n    setSelectedUser,\r\n    setUserFilters,\r\n    loadMaterials,\r\n    approveMaterial,\r\n    deleteMaterial,\r\n    setSelectedMaterial,\r\n    setMaterialFilters,\r\n    loadPayments,\r\n    refundPayment,\r\n    setSelectedPayment,\r\n    setPaymentFilters,\r\n    loadLogs,\r\n    setLogFilters\r\n  };\r\n\r\n  return (\r\n    <AdminContext.Provider value={value}>\r\n      {children}\r\n    </AdminContext.Provider>\r\n  );\r\n};\r\n\r\n// Hook to use admin context\r\nexport const useAdmin = () => {\r\n  const context = useContext(AdminContext);\r\n  if (context === undefined) {\r\n    throw new Error('useAdmin must be used within an AdminProvider');\r\n  }\r\n  return context;\r\n}; ","import React, { createContext, useContext, useEffect, useState, ReactNode } from 'react';\r\nimport { useRouter } from 'next/router';\r\nimport api, { authAPI } from '../lib/api';\r\nimport { tokenStorage } from '../utils/secureStorage';\r\n\r\n// User interface\r\nexport interface User {\r\n  _id: string;\r\n  id: string; // Alias for backward compatibility\r\n  name: string;\r\n  email: string;\r\n  role: 'student' | 'teacher' | 'admin';\r\n  avatar?: string;\r\n  profileImage?: string;\r\n  bio?: string;\r\n  phone?: string;\r\n  emailVerified?: boolean;\r\n  isApproved?: boolean;\r\n  approvalStatus?: 'pending' | 'approved' | 'rejected';\r\n  // Learning progress fields\r\n  cefrLevel?: string;\r\n  overallProgress?: number;\r\n  currentStreak?: number;\r\n  longestStreak?: number;\r\n  totalStudyTime?: number;\r\n  achievements?: string[];\r\n  // Subscription fields\r\n  subscriptionStatus?: 'active' | 'inactive' | 'expired';\r\n  subscriptionType?: string;\r\n  subscriptionExpiry?: string;\r\n  // Lesson tokens\r\n  lessonTokens?: number;\r\n  createdAt: string;\r\n  updatedAt: string;\r\n}\r\n\r\n// Auth context interface\r\ninterface AuthContextType {\r\n  user: User | null;\r\n  isAuthenticated: boolean;\r\n  isLoading: boolean;\r\n  loading: boolean; // Alias for backward compatibility\r\n  login: (email: string, password: string) => Promise<boolean>;\r\n  register: (userData: RegisterData) => Promise<boolean>;\r\n  logout: () => void;\r\n  refreshUser: () => Promise<void>;\r\n  setUser: (user: User | null) => void; // For backward compatibility\r\n  setAccessToken: (token: string) => void; // For backward compatibility\r\n}\r\n\r\n// Register data interface\r\ninterface RegisterData {\r\n  name: string;\r\n  email: string;\r\n  password: string;\r\n  role: 'student' | 'teacher';\r\n}\r\n\r\n// Create context\r\nexport const AuthContext = createContext<AuthContextType | undefined>(undefined);\r\n\r\n// Provider component\r\ninterface AuthProviderProps {\r\n  children: ReactNode;\r\n}\r\n\r\nexport function AuthProvider({ children }: AuthProviderProps) {\r\n  const [user, setUser] = useState<User | null>(null);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const router = useRouter();\r\n\r\n  // Check if user is authenticated\r\n  const isAuthenticated = !!user;\r\n\r\n  // Load user on mount and when route changes\r\n  useEffect(() => {\r\n    const publicAuthPages = ['/login', '/register', '/forgot-password', '/reset-password', '/landing'];\r\n    if (publicAuthPages.includes(router.pathname)) {\r\n      setIsLoading(false);\r\n      return;\r\n    }\r\n    loadUser();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [router.pathname]);\r\n\r\n  // Load user from token\r\n  const loadUser = async () => {\r\n    try {\r\n      const token = tokenStorage.getToken();\r\n      if (!token) {\r\n        setIsLoading(false);\r\n        return;\r\n      }\r\n\r\n      console.log('Loading user with token: Token exists');\r\n      const response = await authAPI.getCurrentUser();\r\n      \r\n      console.log('Auth response:', response);\r\n      console.log('Response structure:', response);\r\n      console.log('Response.data:', response.data);\r\n      console.log('Response.data.success:', response.data?.success);\r\n      console.log('Response.data.user:', response.data?.user);\r\n\r\n      if (response.data?.success && response.data?.user) {\r\n        setUser(response.data.user);\r\n        console.log('Setting user:', response.data.user);\r\n      } else {\r\n        console.warn('Unexpected auth response structure:', response);\r\n        tokenStorage.clear();\r\n      }\r\n    } catch (error: any) {\r\n      console.error('Error loading user:', error);\r\n      \r\n      // Handle rate limiting specifically\r\n      if (error.response?.status === 429) {\r\n        const retryAfter = error.response?.data?.retryAfter || 15;\r\n        console.warn(` Rate limited while loading user. Retry after ${retryAfter} minutes.`);\r\n        // Don't redirect to login for rate limiting, just show message\r\n        return;\r\n      }\r\n      \r\n      // For other errors, redirect to login\r\n      console.log('Error loading user, redirecting to login');\r\n      tokenStorage.clear();\r\n      if (typeof window !== 'undefined' && !window.location.pathname.includes('/login')) {\r\n        window.location.href = '/login';\r\n      }\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  // Login function\r\n  const login = async (email: string, password: string): Promise<boolean> => {\r\n    try {\r\n      setIsLoading(true);\r\n      const response = await authAPI.login({ email, password });\r\n      if (response.success) {\r\n        const { accessToken, user: userData, token } = response;\r\n        const userWithId = { ...userData, id: userData._id } as User;\r\n        const provided = accessToken || token;\r\n        if (provided) tokenStorage.setToken(provided);\r\n        tokenStorage.setUser(userWithId);\r\n        setUser(userWithId);\r\n        return true;\r\n      }\r\n      return false;\r\n    } catch (_error) {\r\n      return false;\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  // Register function\r\n  const register = async (userData: RegisterData): Promise<boolean> => {\r\n    try {\r\n      setIsLoading(true);\r\n      const response = await authAPI.register(userData);\r\n      if (response.success) {\r\n        const { accessToken, user: newUser, token } = response;\r\n        const userWithId = { ...newUser, id: newUser._id } as User;\r\n        tokenStorage.setUser(userWithId);\r\n        setUser(userWithId);\r\n        return true;\r\n      }\r\n      return false;\r\n    } catch (_error) {\r\n      return false;\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  // Logout function\r\n  const logout = async () => {\r\n    try {\r\n      // Call logout API\r\n      await authAPI.logout();\r\n    } catch (error) {\r\n      console.error('Logout API error:', error);\r\n    } finally {\r\n      // Clear secure storage\r\n      tokenStorage.clear();\r\n      \r\n      // Clear user state\r\n      setUser(null);\r\n      \r\n      // Redirect to login\r\n      router.push('/login');\r\n    }\r\n  };\r\n\r\n  // Set user function for backward compatibility\r\n  const setUserFunction = (newUser: User | null) => {\r\n    setUser(newUser);\r\n  };\r\n\r\n  // Refresh user data\r\n  const refreshUser = async () => {\r\n    try {\r\n      const response = await authAPI.getCurrentUser();\r\n      \r\n      if (response.data.success) {\r\n        const updatedUser = response.data.user;\r\n        \r\n        // Add id alias for backward compatibility\r\n        const userWithId = {\r\n          ...updatedUser,\r\n          id: updatedUser._id\r\n        };\r\n        \r\n        setUser(userWithId);\r\n        tokenStorage.setUser(userWithId);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error refreshing user:', error);\r\n      // If refresh fails, logout\r\n      logout();\r\n    }\r\n  };\r\n\r\n  // Context value\r\n  const value: AuthContextType = {\r\n    user,\r\n    isAuthenticated,\r\n    isLoading,\r\n    loading: isLoading, // Alias for backward compatibility\r\n    login,\r\n    register,\r\n    logout,\r\n    refreshUser,\r\n    setUser: setUserFunction, // For backward compatibility\r\n    setAccessToken: (token: string) => {\r\n      tokenStorage.setToken(token);\r\n    }, // For backward compatibility\r\n  };\r\n\r\n  return (\r\n    <AuthContext.Provider value={value}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n}\r\n\r\n// Custom hook to use auth context\r\nexport function useAuth() {\r\n  const context = useContext(AuthContext);\r\n  \r\n  if (context === undefined) {\r\n    throw new Error('useAuth must be used within an AuthProvider');\r\n  }\r\n  \r\n  return context;\r\n}\r\n\r\n// Alias for backward compatibility\r\nexport const useAuthContext = useAuth;\r\n\r\n// Role guard hook\r\nexport function useRoleGuard(allowedRoles: ('student' | 'teacher' | 'admin')[]) {\r\n  const { user, isAuthenticated, isLoading } = useAuth();\r\n  const router = useRouter();\r\n\r\n  useEffect(() => {\r\n    if (!isLoading) {\r\n      if (!isAuthenticated) {\r\n        router.push('/login');\r\n        return;\r\n      }\r\n\r\n      if (user && !allowedRoles.includes(user.role)) {\r\n        // Redirect to appropriate dashboard based on user role\r\n        switch (user.role) {\r\n          case 'student':\r\n            router.push('/dashboard/student');\r\n            break;\r\n          case 'teacher':\r\n            router.push('/dashboard/teacher');\r\n            break;\r\n          case 'admin':\r\n            router.push('/dashboard/admin');\r\n            break;\r\n          default:\r\n            router.push('/login');\r\n        }\r\n      }\r\n    }\r\n  }, [user, isAuthenticated, isLoading, allowedRoles, router]);\r\n\r\n  return {\r\n    hasAccess: user ? allowedRoles.includes(user.role) : false,\r\n    isLoading,\r\n    user,\r\n  };\r\n} ","import React, { createContext, useContext, useEffect, useReducer, useRef, ReactNode } from 'react';\r\nimport { io, Socket } from 'socket.io-client';\r\nimport { tokenStorage } from '../utils/secureStorage';\r\nimport { useAuth } from './AuthContext';\r\nimport { useToast } from '../components/common/Toast';\r\nimport api from '../lib/api';\r\nimport {\r\n  ChatState,\r\n  ChatContextType,\r\n  Conversation,\r\n  Message,\r\n  SendMessageData,\r\n  SocketMessage,\r\n  TypingData,\r\n  UserTypingData\r\n} from '../types/chat';\r\n\r\n// Initial state\r\nconst initialState: ChatState = {\r\n  conversations: [],\r\n  currentConversation: null,\r\n  messages: [],\r\n  loading: false,\r\n  error: null,\r\n  unreadCount: 0,\r\n  typingUsers: new Set()\r\n};\r\n\r\n// Action types\r\ntype ChatAction =\r\n  | { type: 'SET_LOADING'; payload: boolean }\r\n  | { type: 'SET_ERROR'; payload: string | null }\r\n  | { type: 'SET_CONVERSATIONS'; payload: Conversation[] }\r\n  | { type: 'SET_CURRENT_CONVERSATION'; payload: Conversation | null }\r\n  | { type: 'SET_MESSAGES'; payload: Message[] }\r\n  | { type: 'ADD_MESSAGE'; payload: Message }\r\n  | { type: 'UPDATE_CONVERSATION_LAST_MESSAGE'; payload: { conversationId: string; message: Message } }\r\n  | { type: 'SET_UNREAD_COUNT'; payload: number }\r\n  | { type: 'SET_TYPING_USER'; payload: { userId: string; isTyping: boolean } }\r\n  | { type: 'CLEAR_TYPING_USERS' };\r\n\r\n// Reducer\r\nfunction chatReducer(state: ChatState, action: ChatAction): ChatState {\r\n  switch (action.type) {\r\n    case 'SET_LOADING':\r\n      return { ...state, loading: action.payload };\r\n    \r\n    case 'SET_ERROR':\r\n      return { ...state, error: action.payload };\r\n    \r\n    case 'SET_CONVERSATIONS':\r\n      return { ...state, conversations: action.payload };\r\n    \r\n    case 'SET_CURRENT_CONVERSATION':\r\n      return { ...state, currentConversation: action.payload };\r\n    \r\n    case 'SET_MESSAGES':\r\n      return { ...state, messages: action.payload };\r\n    \r\n    case 'ADD_MESSAGE':\r\n      return {\r\n        ...state,\r\n        messages: [...state.messages, action.payload]\r\n      };\r\n    \r\n    case 'UPDATE_CONVERSATION_LAST_MESSAGE':\r\n      return {\r\n        ...state,\r\n        conversations: state.conversations.map(conv =>\r\n          conv._id === action.payload.conversationId\r\n            ? {\r\n                ...conv,\r\n                lastMessage: {\r\n                  content: action.payload.message.content,\r\n                  sender: action.payload.message.sender._id,\r\n                  timestamp: action.payload.message.createdAt\r\n                },\r\n                updatedAt: action.payload.message.createdAt\r\n              }\r\n            : conv\r\n        )\r\n      };\r\n    \r\n    case 'SET_UNREAD_COUNT':\r\n      return { ...state, unreadCount: action.payload };\r\n    \r\n    case 'SET_TYPING_USER':\r\n      const newTypingUsers = new Set(state.typingUsers);\r\n      if (action.payload.isTyping) {\r\n        newTypingUsers.add(action.payload.userId);\r\n      } else {\r\n        newTypingUsers.delete(action.payload.userId);\r\n      }\r\n      return { ...state, typingUsers: newTypingUsers };\r\n    \r\n    case 'CLEAR_TYPING_USERS':\r\n      return { ...state, typingUsers: new Set() };\r\n    \r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\n// Create context\r\nconst ChatContext = createContext<ChatContextType | undefined>(undefined);\r\n\r\n// Provider component\r\ninterface ChatProviderProps {\r\n  children: ReactNode;\r\n}\r\n\r\nexport function ChatProvider({ children }: ChatProviderProps) {\r\n  const [state, dispatch] = useReducer(chatReducer, initialState);\r\n  const { user, isAuthenticated } = useAuth();\r\n  const { error: showError, success: showSuccess } = useToast();\r\n  const socketRef = useRef<Socket | null>(null);\r\n  const typingTimeoutRef = useRef<NodeJS.Timeout | null>(null);\r\n\r\n  // Initialize Socket.IO connection\r\n  useEffect(() => {\r\n    if (isAuthenticated && user) {\r\n      const base = (process.env.NEXT_PUBLIC_API_BASE_URL || 'https://api.verbfy.com').replace(/\\/$/, '');\r\n      const socket = io(base, {\r\n        path: '/socket.io/',\r\n        transports: ['websocket', 'polling'],\r\n        withCredentials: true,\r\n        auth: {\r\n          token: tokenStorage.getToken() || undefined\r\n        }\r\n      });\r\n\r\n      socketRef.current = socket;\r\n\r\n      // Socket event listeners\r\n      socket.on('connect', () => {\r\n        console.log(' Connected to chat server');\r\n      });\r\n\r\n      socket.on('disconnect', () => {\r\n        console.log(' Disconnected from chat server');\r\n      });\r\n\r\n      socket.on('receiveMessage', (message: Message) => {\r\n        dispatch({ type: 'ADD_MESSAGE', payload: message });\r\n        dispatch({\r\n          type: 'UPDATE_CONVERSATION_LAST_MESSAGE',\r\n          payload: { conversationId: message.conversationId, message }\r\n        });\r\n      });\r\n\r\n      socket.on('userTyping', (data: UserTypingData) => {\r\n        dispatch({\r\n          type: 'SET_TYPING_USER',\r\n          payload: { userId: data.userId, isTyping: data.isTyping }\r\n        });\r\n      });\r\n\r\n      socket.on('connect_error', (error: any) => {\r\n        console.error('Socket connection error:', error?.message || error);\r\n        showError('Failed to connect to chat server');\r\n      });\r\n\r\n      return () => {\r\n        socket.disconnect();\r\n      };\r\n    }\r\n  }, [isAuthenticated, user, showError]);\r\n\r\n  // Load conversations\r\n  const loadConversations = async () => {\r\n    // Only load if user is authenticated\r\n    if (!isAuthenticated || !user) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      dispatch({ type: 'SET_LOADING', payload: true });\r\n      dispatch({ type: 'SET_ERROR', payload: null });\r\n\r\n      const response = await api.get('/api/chat/conversations');\r\n      \r\n      if (response.data.success) {\r\n        dispatch({ type: 'SET_CONVERSATIONS', payload: response.data.data });\r\n      }\r\n    } catch (error: any) {\r\n      console.error('Error loading conversations:', error);\r\n      const errorMessage = error.response?.data?.message || 'Failed to load conversations';\r\n      dispatch({ type: 'SET_ERROR', payload: errorMessage });\r\n      showError(errorMessage);\r\n    } finally {\r\n      dispatch({ type: 'SET_LOADING', payload: false });\r\n    }\r\n  };\r\n\r\n  // Load messages for a conversation\r\n  const loadMessages = async (conversationId: string, page = 1) => {\r\n    // Only load if user is authenticated\r\n    if (!isAuthenticated || !user) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      dispatch({ type: 'SET_LOADING', payload: true });\r\n      dispatch({ type: 'SET_ERROR', payload: null });\r\n\r\n      const response = await api.get(`/chat/conversations/${conversationId}/messages?page=${page}&limit=50`);\r\n      \r\n      if (response.data.success) {\r\n        if (page === 1) {\r\n          dispatch({ type: 'SET_MESSAGES', payload: response.data.data.messages });\r\n        } else {\r\n          // For pagination, prepend older messages\r\n          dispatch({ type: 'SET_MESSAGES', payload: [...response.data.data.messages, ...state.messages] });\r\n        }\r\n      }\r\n    } catch (error: any) {\r\n      console.error('Error loading messages:', error);\r\n      const errorMessage = error.response?.data?.message || 'Failed to load messages';\r\n      dispatch({ type: 'SET_ERROR', payload: errorMessage });\r\n      showError(errorMessage);\r\n    } finally {\r\n      dispatch({ type: 'SET_LOADING', payload: false });\r\n    }\r\n  };\r\n\r\n  // Send a message\r\n  const sendMessage = async (data: SendMessageData) => {\r\n    // Only send if user is authenticated\r\n    if (!isAuthenticated || !user) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      dispatch({ type: 'SET_ERROR', payload: null });\r\n\r\n      const response = await api.post('/api/chat/messages', data);\r\n      \r\n      if (response.data.success) {\r\n        const message = response.data.data;\r\n        \r\n        // Add message to local state\r\n        dispatch({ type: 'ADD_MESSAGE', payload: message });\r\n        \r\n        // Update conversation's last message\r\n        dispatch({\r\n          type: 'UPDATE_CONVERSATION_LAST_MESSAGE',\r\n          payload: { conversationId: data.conversationId, message }\r\n        });\r\n\r\n        // Emit message via Socket.IO\r\n        if (socketRef.current) {\r\n          socketRef.current.emit('sendMessage', {\r\n            conversationId: data.conversationId,\r\n            message\r\n          });\r\n        }\r\n\r\n        showSuccess('Message sent');\r\n      }\r\n    } catch (error: any) {\r\n      console.error('Error sending message:', error);\r\n      const errorMessage = error.response?.data?.message || 'Failed to send message';\r\n      dispatch({ type: 'SET_ERROR', payload: errorMessage });\r\n      showError(errorMessage);\r\n    }\r\n  };\r\n\r\n  // Mark messages as read\r\n  const markAsRead = async (conversationId: string) => {\r\n    // Only mark as read if user is authenticated\r\n    if (!isAuthenticated || !user) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      await api.patch(`/api/chat/conversations/${conversationId}/read`);\r\n    } catch (error: any) {\r\n      console.error('Error marking messages as read:', error);\r\n    }\r\n  };\r\n\r\n  // Join a conversation room\r\n  const joinConversation = (conversationId: string) => {\r\n    if (socketRef.current) {\r\n      socketRef.current.emit('joinRoom', conversationId);\r\n    }\r\n  };\r\n\r\n  // Leave a conversation room\r\n  const leaveConversation = (conversationId: string) => {\r\n    if (socketRef.current) {\r\n      socketRef.current.emit('leaveRoom', conversationId);\r\n    }\r\n    dispatch({ type: 'CLEAR_TYPING_USERS' });\r\n  };\r\n\r\n  // Set typing indicator\r\n  const setTyping = (conversationId: string, isTyping: boolean) => {\r\n    if (socketRef.current && user) {\r\n      socketRef.current.emit('typing', {\r\n        conversationId,\r\n        userId: user._id,\r\n        isTyping\r\n      });\r\n\r\n      // Clear typing indicator after 3 seconds\r\n      if (typingTimeoutRef.current) {\r\n        clearTimeout(typingTimeoutRef.current);\r\n      }\r\n\r\n      if (isTyping) {\r\n        typingTimeoutRef.current = setTimeout(() => {\r\n          setTyping(conversationId, false);\r\n        }, 3000);\r\n      }\r\n    }\r\n  };\r\n\r\n  // Load unread count\r\n  const loadUnreadCount = async () => {\r\n    // Only load if user is authenticated\r\n    if (!isAuthenticated || !user) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const response = await api.get('/api/chat/unread-count');\r\n      \r\n      if (response.data.success) {\r\n        dispatch({ type: 'SET_UNREAD_COUNT', payload: response.data.data.unreadCount });\r\n      }\r\n    } catch (error: any) {\r\n      console.error('Error loading unread count:', error);\r\n    }\r\n  };\r\n\r\n  // Load initial data\r\n  useEffect(() => {\r\n    if (isAuthenticated && user) {\r\n      loadConversations();\r\n      loadUnreadCount();\r\n    }\r\n  }, [isAuthenticated, user]);\r\n\r\n  // Cleanup typing timeout on unmount\r\n  useEffect(() => {\r\n    return () => {\r\n      if (typingTimeoutRef.current) {\r\n        clearTimeout(typingTimeoutRef.current);\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  const value: ChatContextType = {\r\n    state,\r\n    actions: {\r\n      loadConversations,\r\n      loadMessages,\r\n      sendMessage,\r\n      markAsRead,\r\n      joinConversation,\r\n      leaveConversation,\r\n      setTyping,\r\n      loadUnreadCount\r\n    }\r\n  };\r\n\r\n  return (\r\n    <ChatContext.Provider value={value}>\r\n      {children}\r\n    </ChatContext.Provider>\r\n  );\r\n}\r\n\r\n// Custom hook to use chat context\r\nexport function useChat() {\r\n  const context = useContext(ChatContext);\r\n  \r\n  if (context === undefined) {\r\n    throw new Error('useChat must be used within a ChatProvider');\r\n  }\r\n  \r\n  return context;\r\n} ","import React, { createContext, useContext, useReducer, useEffect, ReactNode, useRef, useCallback } from 'react';\r\nimport { toast } from 'react-hot-toast';\r\nimport { io, Socket } from 'socket.io-client';\r\nimport { tokenStorage } from '../utils/secureStorage';\r\nimport api from '../lib/api';\r\nimport { authAPI } from '../lib/api';\r\nimport { useAuth } from './AuthContext';\r\nimport {\r\n  Notification,\r\n  NotificationState,\r\n  NotificationAction,\r\n  NotificationContextType,\r\n  NotificationFilters\r\n} from '../types/notifications';\r\n\r\n// Initial state\r\nconst initialState: NotificationState = {\r\n  notifications: [],\r\n  unreadCount: 0,\r\n  loading: false,\r\n  error: null,\r\n  pagination: {\r\n    page: 1,\r\n    limit: 20,\r\n    total: 0,\r\n    pages: 0\r\n  }\r\n};\r\n\r\n// Reducer\r\nfunction notificationReducer(state: NotificationState, action: NotificationAction): NotificationState {\r\n  switch (action.type) {\r\n    case 'SET_LOADING':\r\n      return { ...state, loading: action.payload };\r\n    \r\n    case 'SET_ERROR':\r\n      return { ...state, error: action.payload, loading: false };\r\n    \r\n    case 'SET_NOTIFICATIONS':\r\n      return {\r\n        ...state,\r\n        notifications: action.payload.notifications,\r\n        pagination: action.payload.pagination,\r\n        unreadCount: action.payload.unreadCount,\r\n        loading: false,\r\n        error: null\r\n      };\r\n    \r\n    case 'ADD_NOTIFICATION':\r\n      return {\r\n        ...state,\r\n        notifications: [action.payload, ...state.notifications],\r\n        unreadCount: state.unreadCount + 1\r\n      };\r\n    \r\n    case 'UPDATE_NOTIFICATION':\r\n      return {\r\n        ...state,\r\n        notifications: state.notifications.map(notification =>\r\n          notification._id === action.payload._id ? action.payload : notification\r\n        )\r\n      };\r\n    \r\n    case 'DELETE_NOTIFICATION':\r\n      return {\r\n        ...state,\r\n        notifications: state.notifications.filter(notification =>\r\n          notification._id !== action.payload\r\n        )\r\n      };\r\n    \r\n    case 'MARK_AS_READ':\r\n      return {\r\n        ...state,\r\n        notifications: state.notifications.map(notification =>\r\n          notification._id === action.payload._id\r\n            ? { ...notification, isRead: true, readAt: new Date().toISOString() }\r\n            : notification\r\n        ),\r\n        unreadCount: Math.max(0, state.unreadCount - 1)\r\n      };\r\n    \r\n    case 'MARK_ALL_AS_READ':\r\n      return {\r\n        ...state,\r\n        notifications: state.notifications.map(notification => ({\r\n          ...notification,\r\n          isRead: true,\r\n          readAt: new Date().toISOString()\r\n        })),\r\n        unreadCount: 0\r\n      };\r\n    \r\n    case 'SET_UNREAD_COUNT':\r\n      return { ...state, unreadCount: action.payload };\r\n    \r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\n// Create context\r\nconst NotificationContext = createContext<NotificationContextType | undefined>(undefined);\r\n\r\n// Provider component\r\ninterface NotificationProviderProps {\r\n  children: ReactNode;\r\n}\r\n\r\nexport function NotificationProvider({ children }: NotificationProviderProps) {\r\n  const [state, dispatch] = useReducer(notificationReducer, initialState);\r\n  const { user, isAuthenticated } = useAuth();\r\n  const socketRef = useRef<Socket | null>(null);\r\n\r\n  // Create socket with optimized settings to avoid WebSocket warnings\r\n  const createSocket = useCallback((tok: string | null) => {\r\n    if (!tok) {\r\n      console.log(' No token available, skipping socket creation');\r\n      return null;\r\n    }\r\n\r\n    console.log(' Creating socket with token');\r\n    \r\n    const base = (process.env.NEXT_PUBLIC_API_BASE_URL || 'https://api.verbfy.com').replace(/\\/$/, '');\r\n    \r\n    const createdSocket = io(base, {\r\n      path: '/socket.io/',\r\n      transports: ['polling'], // Start with polling only to avoid websocket warnings\r\n      withCredentials: true,\r\n      auth: { token: tok },\r\n      autoConnect: false,\r\n      reconnection: true,\r\n      reconnectionAttempts: 15,\r\n      reconnectionDelay: 1000,\r\n      reconnectionDelayMax: 10000,\r\n      timeout: 30000,\r\n      forceNew: true,\r\n      upgrade: true,\r\n      rememberUpgrade: true\r\n    });\r\n\r\n    // Connection event handlers\r\n    createdSocket.on('connect', () => {\r\n      console.log(' Socket connected successfully via polling');\r\n      \r\n      // After successful connection, try to upgrade to websocket silently\r\n      setTimeout(() => {\r\n        try {\r\n          console.log(' Socket connected and ready for real-time communication');\r\n        } catch (e) {\r\n          console.log('Socket setup completed');\r\n        }\r\n      }, 1000);\r\n      \r\n      // Join user's notification room\r\n      if (user?._id) {\r\n        createdSocket.emit('joinNotificationRoom', user._id);\r\n      }\r\n    });\r\n\r\n    createdSocket.on('connect_error', (error) => {\r\n      console.log(' Socket connection error (expected during initial setup):', error.message);\r\n      // Don't show error to user, this is normal during connection setup\r\n    });\r\n\r\n    createdSocket.on('disconnect', (reason) => {\r\n      console.log(' Socket disconnected:', reason);\r\n      if (reason === 'io server disconnect') {\r\n        console.log(' Server disconnected, attempting reconnect...');\r\n        setTimeout(() => {\r\n          createdSocket.connect();\r\n        }, 1000);\r\n      }\r\n    });\r\n\r\n    createdSocket.on('reconnect', (attemptNumber) => {\r\n      console.log(' Socket reconnected after', attemptNumber, 'attempts');\r\n      if (user?._id) {\r\n        createdSocket.emit('joinNotificationRoom', user._id);\r\n      }\r\n    });\r\n\r\n    createdSocket.on('reconnect_error', (error) => {\r\n      console.log(' Socket reconnection attempt failed:', error.message);\r\n    });\r\n\r\n    createdSocket.on('reconnect_failed', () => {\r\n      console.log(' Socket reconnection failed after all attempts');\r\n      // Try to create a new socket\r\n      setTimeout(() => {\r\n        if (tok) {\r\n          const newSocket = createSocket(tok);\r\n          if (newSocket) {\r\n            // setSocket(newSocket); // This line was removed as per the new_code, as the variable 'setSocket' is not defined.\r\n          }\r\n        }\r\n      }, 5000);\r\n    });\r\n\r\n    // Listen for new notifications\r\n    createdSocket.on('notification:new', (data: { notification: Notification }) => {\r\n      addNotification(data.notification);\r\n    });\r\n\r\n    // Listen for notification updates\r\n    createdSocket.on('notification:updated', (data: { notification: Notification }) => {\r\n      dispatch({\r\n        type: 'UPDATE_NOTIFICATION',\r\n        payload: data.notification\r\n      });\r\n    });\r\n\r\n    // Listen for notification deletions\r\n    createdSocket.on('notification:deleted', (data: { id: string }) => {\r\n      dispatch({\r\n        type: 'DELETE_NOTIFICATION',\r\n        payload: data.id\r\n      });\r\n    });\r\n\r\n    // Connect with delay to ensure token is fully processed\r\n    setTimeout(() => {\r\n      console.log(' Initiating socket connection...');\r\n      createdSocket.connect();\r\n    }, 500);\r\n    \r\n    return createdSocket;\r\n  }, [user?._id]);\r\n\r\n  // Fetch notifications from API\r\n  const fetchNotifications = async (filters: NotificationFilters = {}) => {\r\n    // Only fetch if user is authenticated\r\n    if (!isAuthenticated || !user) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      dispatch({ type: 'SET_LOADING', payload: true });\r\n\r\n      const params = new URLSearchParams();\r\n      Object.entries(filters).forEach(([key, value]) => {\r\n        if (value !== undefined && value !== null) {\r\n          params.append(key, value.toString());\r\n        }\r\n      });\r\n\r\n      const response = await api.get(`/api/notifications?${params.toString()}`);\r\n      \r\n      if (response.data.success) {\r\n        dispatch({\r\n          type: 'SET_NOTIFICATIONS',\r\n          payload: response.data.data\r\n        });\r\n      }\r\n    } catch (error: any) {\r\n      console.error('Error fetching notifications:', error);\r\n      const errorMessage = error.response?.data?.message || 'Failed to load notifications';\r\n      dispatch({ type: 'SET_ERROR', payload: errorMessage });\r\n      toast.error(errorMessage);\r\n    }\r\n  };\r\n\r\n  // Mark notification as read\r\n  const markAsRead = async (id: string) => {\r\n    // Only mark as read if user is authenticated\r\n    if (!isAuthenticated || !user) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const response = await api.patch(`/api/notifications/${id}/read`);\r\n      \r\n      if (response.data.success) {\r\n        dispatch({\r\n          type: 'MARK_AS_READ',\r\n          payload: response.data.data.notification\r\n        });\r\n      }\r\n    } catch (error: any) {\r\n      console.error('Error marking notification as read:', error);\r\n      const errorMessage = error.response?.data?.message || 'Failed to mark notification as read';\r\n      toast.error(errorMessage);\r\n    }\r\n  };\r\n\r\n  // Mark all notifications as read\r\n  const markAllAsRead = async () => {\r\n    // Only mark all as read if user is authenticated\r\n    if (!isAuthenticated || !user) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const response = await api.patch('/api/notifications/read-all');\r\n      \r\n      if (response.data.success) {\r\n        dispatch({ type: 'MARK_ALL_AS_READ' });\r\n        toast.success('All notifications marked as read');\r\n      }\r\n    } catch (error: any) {\r\n      console.error('Error marking all notifications as read:', error);\r\n      const errorMessage = error.response?.data?.message || 'Failed to mark all notifications as read';\r\n      toast.error(errorMessage);\r\n    }\r\n  };\r\n\r\n  // Delete notification\r\n  const deleteNotification = async (id: string) => {\r\n    // Only delete if user is authenticated\r\n    if (!isAuthenticated || !user) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const response = await api.delete(`/api/notifications/${id}`);\r\n      \r\n      if (response.data.success) {\r\n        dispatch({ type: 'DELETE_NOTIFICATION', payload: id });\r\n        toast.success('Notification deleted');\r\n      }\r\n    } catch (error: any) {\r\n      console.error('Error deleting notification:', error);\r\n      const errorMessage = error.response?.data?.message || 'Failed to delete notification';\r\n      toast.error(errorMessage);\r\n    }\r\n  };\r\n\r\n  // Add notification to state (for real-time updates)\r\n  const addNotification = (notification: Notification) => {\r\n    dispatch({ type: 'ADD_NOTIFICATION', payload: notification });\r\n    \r\n    // Show toast for new notifications\r\n    const config = getNotificationConfig(notification.type);\r\n    toast.success(\r\n      <div>\r\n        <div className=\"font-semibold\">{notification.title}</div>\r\n        <div className=\"text-sm opacity-90\">{notification.body}</div>\r\n      </div>,\r\n      {\r\n        duration: 5000,\r\n        icon: config.icon,\r\n        style: {\r\n          background: '#363636',\r\n          color: '#fff',\r\n        }\r\n      }\r\n    );\r\n  };\r\n\r\n  const getUnreadCount = async () => {\r\n    // Only get unread count if user is authenticated\r\n    if (!isAuthenticated || !user) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const response = await api.get('/api/notifications/unread-count');\r\n      \r\n      if (response.data.success) {\r\n        dispatch({\r\n          type: 'SET_UNREAD_COUNT',\r\n          payload: response.data.data.unreadCount\r\n        });\r\n      }\r\n    } catch (error: any) {\r\n      console.error('Error getting unread count:', error);\r\n    }\r\n  };\r\n\r\n  // Socket.IO connection and event listeners for real-time notifications\r\n  useEffect(() => {\r\n    if (!isAuthenticated || !user) return;\r\n\r\n    let isActive = true;\r\n    let localSocket: Socket | null = null;\r\n\r\n    (async () => {\r\n      let tok = tokenStorage.getToken();\r\n      if (!tok) {\r\n        try {\r\n          const r = await authAPI.refreshToken();\r\n          const access = r?.data?.accessToken;\r\n          if (access) { \r\n            tokenStorage.setToken(access); \r\n            tok = access; \r\n          }\r\n        } catch (_) {\r\n          console.warn('Could not refresh token for socket connection');\r\n          return;\r\n        }\r\n      }\r\n\r\n      if (!isActive) return;\r\n\r\n      const socket = createSocket(tok);\r\n      if (socket) {\r\n        localSocket = socket;\r\n        socketRef.current = socket;\r\n      }\r\n    })();\r\n\r\n    return () => {\r\n      isActive = false;\r\n      const socket = socketRef.current || localSocket;\r\n      if (socket) {\r\n        socket.off('connect');\r\n        socket.off('connect_error');\r\n        socket.off('disconnect');\r\n        socket.off('reconnect');\r\n        socket.off('reconnect_error');\r\n        socket.off('reconnect_failed');\r\n        socket.off('notification:new');\r\n        socket.off('notification:updated');\r\n        socket.off('notification:deleted');\r\n        socket.disconnect();\r\n      }\r\n      socketRef.current = null;\r\n    };\r\n  }, [isAuthenticated, user, createSocket]);\r\n\r\n  // Initial load - only when user is authenticated\r\n  useEffect(() => {\r\n    if (isAuthenticated && user) {\r\n      fetchNotifications();\r\n      getUnreadCount();\r\n    }\r\n  }, [isAuthenticated, user]);\r\n\r\n  // Poll for unread count every 30 seconds as fallback - only when authenticated\r\n  useEffect(() => {\r\n    if (!isAuthenticated || !user) return;\r\n\r\n    const interval = setInterval(() => {\r\n      getUnreadCount();\r\n    }, 30000);\r\n\r\n    return () => clearInterval(interval);\r\n  }, [isAuthenticated, user]);\r\n\r\n  const value: NotificationContextType = {\r\n    state,\r\n    fetchNotifications,\r\n    markAsRead,\r\n    markAllAsRead,\r\n    deleteNotification,\r\n    addNotification,\r\n    getUnreadCount\r\n  };\r\n\r\n  return (\r\n    <NotificationContext.Provider value={value}>\r\n      {children}\r\n    </NotificationContext.Provider>\r\n  );\r\n}\r\n\r\n// Custom hook to use notification context\r\nexport function useNotifications() {\r\n  const context = useContext(NotificationContext);\r\n  \r\n  if (context === undefined) {\r\n    throw new Error('useNotifications must be used within a NotificationProvider');\r\n  }\r\n  \r\n  return context;\r\n}\r\n\r\n// Helper function to get notification config\r\nfunction getNotificationConfig(type: Notification['type']) {\r\n  const configs = {\r\n    message: { icon: '' },\r\n    reservation: { icon: '' },\r\n    material: { icon: '' },\r\n    admin: { icon: '' },\r\n    lesson: { icon: '' },\r\n    payment: { icon: '' },\r\n    system: { icon: '' }\r\n  };\r\n  \r\n  return configs[type] || configs.system;\r\n} ","import axios from 'axios';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport { RoomFilters, RoomsResponse, CreateRoomData, RoomResponse, JoinRoomData } from '@/types/verbfyTalk';\r\nimport { MaterialFilters, MaterialsResponse, FreeMaterial, UploadMaterialData } from '@/types/freeMaterials';\r\nimport { LessonFilters, LessonResponse, StartLessonResponse, SubmitLessonRequest, SubmitLessonResponse, LessonStats, VerbfyLesson } from '@/types/verbfyLessons';\r\nimport { TestFilters, TestResponse, StartTestResponse, SubmitTestRequest, SubmitTestResponse, PlacementRecommendation, TestStats, CEFRTest, TestAttempt } from '@/types/cefrTests';\r\nimport { PersonalizedCurriculum, CreateCurriculumRequest, UpdateProgressRequest, UpdateStudyScheduleRequest, CurriculumAnalytics, CurriculumRecommendation } from '@/types/personalizedCurriculum';\r\nimport { AchievementsData } from '@/types/achievements';\r\nimport { StudyGroupsData, CreateStudyGroupData, StudyGroupFilters } from '@/types/studyGroups';\r\nimport { AILearningSession, CreateAISessionData, AIResponseData, AIResponse, SessionProgressData, AISessionsResponse, Recommendation, GenerateRecommendationsData, AISessionAnalytics, AISessionAnalyticsFilters } from '@/types/aiLearning';\r\nimport { AdaptivePath, CreateAdaptivePathData, UpdateModuleProgressData, AdaptivePathFilters, AdaptivePathResponse, AdaptivePathsResponse, AdaptivePathAnalytics, AdaptiveRecommendation } from '@/types/adaptiveLearning';\r\nimport { TeacherAnalytics, GenerateAnalyticsData, StudentPerformanceData, LessonAnalyticsData, EngagementMetricsData, AnalyticsFilters, TeacherAnalyticsResponse, StudentPerformanceResponse, LessonAnalyticsResponse, EngagementMetricsResponse } from '@/types/teacherAnalytics';\r\nimport { AITutoringSession, AITutoringMessage, AIContentGeneration, AIContentGenerationRequest, AIContentGenerationResponse, AIAnalytics, AIUserProgress, AIRecommendation, AISessionFilters, AIContentFilters, AIAnalyticsFilters, AISessionResponse, AIContentResponse, AIAnalyticsResponse } from '@/types/aiFeatures';\r\nimport { tokenStorage } from '../utils/secureStorage';\r\n\r\n// Create axios instance with fallback for test environment\r\nlet api: any;\r\ntry {\r\n  // Build base URL so that all calls hit /api/*\r\n  // If NEXT_PUBLIC_API_BASE_URL is not set (Cloudflare Pages), use same-origin and rely on _redirects\r\n  // Otherwise allow pointing directly to backend like https://api.verbfy.com\r\n  api = (axios as any).create?.({\r\n    baseURL: (() => {\r\n      const raw = process.env.NEXT_PUBLIC_API_BASE_URL || '';\r\n      const trimmed = raw.replace(/\\/$/, '');\r\n      \r\n      // Check if we're in production (verbfy.com domain)\r\n      if (typeof window !== 'undefined') {\r\n        const hostname = window.location.hostname;\r\n        if (hostname === 'verbfy.com' || hostname === 'www.verbfy.com') {\r\n          return 'https://api.verbfy.com';\r\n        }\r\n      }\r\n      \r\n      // If no env is provided, default to production API domain\r\n      if (!trimmed) return 'https://api.verbfy.com';\r\n      return trimmed;\r\n    })(),\r\n    timeout: 30000,\r\n    withCredentials: true,\r\n    headers: { \r\n      'Content-Type': 'application/json'\r\n    },\r\n  });\r\n} catch {\r\n  api = undefined;\r\n}\r\nif (!api || !api.get || !api.post) {\r\n  api = axios as any;\r\n}\r\n\r\n// Add CORS test function\r\nexport const corsTestAPI = {\r\n  testCORS: () => {\r\n    return api.get('/api/cors-test');\r\n  }\r\n};\r\n\r\n// Request interceptor to add auth token\r\nif ((api as any)?.interceptors?.request) {\r\n  api.interceptors.request.use(\r\n    (config: any) => {\r\n      const token = tokenStorage.getToken();\r\n      if (token) {\r\n        config.headers = config.headers || {};\r\n        config.headers.Authorization = `Bearer ${token}`;\r\n      }\r\n      try {\r\n        const isWrite = ['post', 'put', 'patch', 'delete'].includes((config.method || 'get').toLowerCase());\r\n        if (isWrite && typeof document !== 'undefined') {\r\n          const match = document.cookie.match(/(?:^|; )XSRF-TOKEN=([^;]+)/);\r\n          const csrf = match ? decodeURIComponent(match[1]) : undefined;\r\n          if (csrf) {\r\n            (config.headers as any)['X-CSRF-Token'] = csrf;\r\n          }\r\n          (config.headers as any)['Idempotency-Key'] = uuidv4();\r\n        }\r\n      } catch {}\r\n      return config;\r\n    },\r\n    (error: any) => Promise.reject(error)\r\n  );\r\n}\r\n\r\n// Response interceptor for error handling\r\nif ((api as any)?.interceptors?.response) {\r\n  api.interceptors.response.use(\r\n    (response: any) => response,\r\n    (error: any) => {\r\n      // Handle rate limiting\r\n      if (error.response?.status === 429) {\r\n        const retryAfter = error.response?.data?.retryAfter || 15;\r\n        console.warn(` Rate limited (429). Retry after ${retryAfter} minutes.`);\r\n        \r\n        // Show user-friendly message\r\n        if (typeof window !== 'undefined') {\r\n          // Use toast if available, otherwise alert\r\n          try {\r\n            const { toast } = require('react-hot-toast');\r\n            toast.error(`Too many requests. Please wait ${retryAfter} minutes before trying again.`);\r\n          } catch {\r\n            alert(`Too many requests. Please wait ${retryAfter} minutes before trying again.`);\r\n          }\r\n        }\r\n        \r\n        // Don't redirect to login for rate limiting\r\n        return Promise.reject(error);\r\n      }\r\n      \r\n      if (error.response?.status === 401) {\r\n        tokenStorage.clear();\r\n        if (typeof window !== 'undefined' && !window.location.pathname.includes('/login')) {\r\n          window.location.href = '/login';\r\n        }\r\n      }\r\n      if (!error.response) {\r\n        console.error('Network error:', error.message);\r\n      }\r\n      return Promise.reject(error);\r\n    }\r\n  );\r\n}\r\n\r\n// API helper functions\r\nexport const materialsAPI = {\r\n  // Get all materials with filters\r\n  getMaterials: (filters: any = {}) => {\r\n    const params = new URLSearchParams();\r\n    Object.entries(filters).forEach(([key, value]) => {\r\n      if (value) params.append(key, (value as any).toString());\r\n    });\r\n    return api.get(`/api/materials?${params.toString()}`).then((r: any) => r.data);\r\n  },\r\n\r\n  // Get material by ID\r\n  getMaterial: (id: string) => {\r\n    return api.get(`/api/materials/${id}`).then((r: any) => r.data);\r\n  },\r\n\r\n  // Upload material\r\n  uploadMaterial: (formData: FormData) => {\r\n    return api.post('/api/materials/upload', formData, {\r\n      headers: {\r\n        'Content-Type': 'multipart/form-data',\r\n      },\r\n    }).then((r: any) => r.data);\r\n  },\r\n\r\n  // Update material\r\n  updateMaterial: (id: string, data: any) => {\r\n    return api.put(`/api/materials/${id}`, data).then((r: any) => r.data);\r\n  },\r\n\r\n  // Delete material\r\n  deleteMaterial: (id: string) => {\r\n    return api.delete(`/api/materials/${id}`).then((r: any) => r.data);\r\n  },\r\n\r\n  // Preview material\r\n  previewMaterial: (id: string) => {\r\n    return api.get(`/api/materials/${id}/preview`).then((r: any) => r.data);\r\n  },\r\n\r\n  // Download material\r\n  downloadMaterial: (id: string) => {\r\n    return api.get(`/api/materials/${id}/download`, { responseType: 'blob' }).then((r: any) => r.data);\r\n  },\r\n};\r\n\r\nexport const authAPI = {\r\n  // Login\r\n  login: (credentials: { email: string; password: string }) => {\r\n    return api.post('/api/auth/login', credentials).then((r: any) => r.data);\r\n  },\r\n\r\n  // Register\r\n  register: (userData: { name: string; email: string; password: string; role: string }) => {\r\n    return api.post('/api/auth/register', userData).then((r: any) => r.data);\r\n  },\r\n\r\n  // Logout\r\n  logout: () => {\r\n    return api.post('/api/auth/logout').then((r: any) => r.data);\r\n  },\r\n\r\n  // Get current user\r\n  getCurrentUser: () => {\r\n    return api.get('/api/auth/me');\r\n  },\r\n\r\n  // Refresh token\r\n  refreshToken: () => {\r\n    return api.post('/api/auth/refresh').then((r: any) => r.data);\r\n  },\r\n};\r\n\r\nexport const userAPI = {\r\n  // Get user profile\r\n  getProfile: () => {\r\n    return api.get('/api/users/profile').then((r: any) => r.data);\r\n  },\r\n\r\n  // Update user profile\r\n  updateProfile: (data: any) => {\r\n    return api.put('/api/users/profile', data).then((r: any) => r.data);\r\n  },\r\n\r\n  // Upload avatar\r\n  uploadAvatar: (file: File) => {\r\n    const form = new FormData();\r\n    form.append('avatar', file);\r\n    return api.post('/api/users/profile/avatar', form, {\r\n      headers: { 'Content-Type': 'multipart/form-data' },\r\n    }).then((r: any) => r.data);\r\n  },\r\n\r\n  // Get S3 presigned upload URL\r\n  getPresignedUploadUrl: (key: string, contentType: string) => {\r\n    return api.get(`/api/users/uploads/presign`, { params: { key, contentType } }).then((r: any) => r.data);\r\n  },\r\n};\r\n\r\nexport const reservationAPI = {\r\n  // Get reservations\r\n  getReservations: (filters: any = {}) => {\r\n    const params = new URLSearchParams();\r\n    Object.entries(filters).forEach(([key, value]) => {\r\n      if (value) params.append(key, value.toString());\r\n    });\r\n    return api.get(`/api/reservations?${params.toString()}`);\r\n  },\r\n\r\n  // Create reservation\r\n  createReservation: (data: any) => {\r\n    return api.post('/api/reservations', data);\r\n  },\r\n\r\n  // Update reservation\r\n  updateReservation: (id: string, data: any) => {\r\n    return api.put(`/api/reservations/${id}`, data);\r\n  },\r\n\r\n  // Delete reservation\r\n  deleteReservation: (id: string) => {\r\n    return api.delete(`/api/reservations/${id}`);\r\n  },\r\n};\r\n\r\nexport const availabilityAPI = {\r\n  // Get availability\r\n  getAvailability: (teacherId: string) => {\r\n    return api.get(`/api/availability/${teacherId}`);\r\n  },\r\n\r\n  // Set availability\r\n  setAvailability: (data: any) => {\r\n    return api.post('/api/availability', data);\r\n  },\r\n\r\n  // Update availability\r\n  updateAvailability: (id: string, data: any) => {\r\n    return api.put(`/api/availability/${id}`, data);\r\n  },\r\n\r\n  // Delete availability\r\n  deleteAvailability: (id: string) => {\r\n    return api.delete(`/api/availability/${id}`);\r\n  },\r\n};\r\n\r\nexport const notificationAPI = {\r\n  // Get notifications\r\n  getNotifications: () => {\r\n    return api.get('/api/notifications');\r\n  },\r\n\r\n  // Mark notification as read\r\n  markAsRead: (id: string) => {\r\n    return api.patch(`/api/notifications/${id}/read`);\r\n  },\r\n\r\n  // Mark all notifications as read\r\n  markAllAsRead: () => {\r\n    return api.patch('/api/notifications/read-all');\r\n  },\r\n};\r\n\r\nexport const messagesAPI = {\r\n  // Get conversations\r\n  getConversations: () => {\r\n    return api.get('/api/messages/conversations');\r\n  },\r\n\r\n  // Get messages for conversation\r\n  getMessages: (conversationId: string) => {\r\n    return api.get(`/api/messages/conversations/${conversationId}`);\r\n  },\r\n\r\n  // Send message\r\n  sendMessage: (conversationId: string, data: { content: string; type?: string }) => {\r\n    return api.post(`/api/messages/conversations/${conversationId}`, data);\r\n  },\r\n\r\n  // Create conversation\r\n  createConversation: (data: { participantId: string; initialMessage?: string }) => {\r\n    return api.post('/api/messages/conversations', data);\r\n  },\r\n\r\n  // Mark messages as read\r\n  markAsRead: (conversationId: string) => {\r\n    return api.patch(`/api/messages/conversations/${conversationId}/read`);\r\n  },\r\n};\r\n\r\nexport const analyticsAPI = {\r\n  // Get teacher analytics\r\n  getTeacherAnalytics: () => {\r\n    return api.get('/api/analytics/teacher');\r\n  },\r\n\r\n  // Get student analytics\r\n  getStudentAnalytics: () => {\r\n    return api.get('/api/analytics/student');\r\n  },\r\n\r\n  // Get admin analytics\r\n  getAdminAnalytics: () => {\r\n    return api.get('/api/analytics/admin');\r\n  },\r\n\r\n  // Get earnings report\r\n  getEarningsReport: (period = 'month', startDate?: string, endDate?: string) => {\r\n    const params = new URLSearchParams({ period });\r\n    if (startDate) params.append('startDate', startDate);\r\n    if (endDate) params.append('endDate', endDate);\r\n    return api.get(`/api/analytics/earnings?${params.toString()}`);\r\n  },\r\n\r\n  // Get progress report\r\n  getProgressReport: (skill?: string, period = 'month') => {\r\n    const params = new URLSearchParams({ period });\r\n    if (skill) params.append('skill', skill);\r\n    return api.get(`/api/analytics/progress?${params.toString()}`);\r\n  },\r\n};\r\n\r\nexport const paymentAPI = {\r\n  // Create checkout session\r\n  createCheckoutSession: (data: { productId: string; couponCode?: string }) => {\r\n    return api.post('/api/payments/create-session', data);\r\n  },\r\n\r\n  // Get payment history\r\n  getPaymentHistory: (params?: any) => {\r\n    return api.get('/api/payments/history', { params });\r\n  },\r\n\r\n  // Get available products\r\n  getProducts: (params?: any) => {\r\n    return api.get('/api/payments/products', { params });\r\n  },\r\n\r\n  // Get payment statistics\r\n  getPaymentStats: () => {\r\n    return api.get('/api/payments/stats');\r\n  },\r\n\r\n  // Refund payment (admin only)\r\n  refundPayment: (paymentId: string, data: { reason?: string }) => {\r\n    return api.post(`/api/payments/${paymentId}/refund`, data);\r\n  },\r\n};\r\n\r\nexport const adminAPI = {\r\n  // Overview & Analytics\r\n  getOverview: () => {\r\n    return api.get('/api/admin/overview');\r\n  },\r\n\r\n  // Get admin stats (legacy)\r\n  getStats: () => {\r\n    return api.get('/api/admin/stats');\r\n  },\r\n\r\n  // Get recent activities (legacy)\r\n  getActivities: () => {\r\n    return api.get('/api/admin/activities');\r\n  },\r\n\r\n  // User Management\r\n  getUsers: (params?: any) => {\r\n    return api.get('/api/admin/users', { params });\r\n  },\r\n\r\n  getUserById: (id: string) => {\r\n    return api.get(`/api/admin/users/${id}`);\r\n  },\r\n\r\n  updateUserRole: (id: string, role: string) => {\r\n    return api.patch(`/api/admin/users/${id}/role`, { role });\r\n  },\r\n\r\n  updateUserStatus: (userId: string, status: string) => {\r\n    return api.patch(`/api/admin/users/${userId}/status`, { status });\r\n  },\r\n\r\n  deleteUser: (id: string) => {\r\n    return api.delete(`/api/admin/users/${id}`);\r\n  },\r\n\r\n  // Material Moderation\r\n  getMaterials: (params?: any) => {\r\n    return api.get('/api/admin/materials', { params });\r\n  },\r\n\r\n  approveMaterial: (id: string, data: { approved: boolean; reason?: string }) => {\r\n    return api.patch(`/api/admin/materials/${id}/approve`, data);\r\n  },\r\n\r\n  deleteMaterial: (id: string) => {\r\n    return api.delete(`/api/admin/materials/${id}`);\r\n  },\r\n\r\n  // Payment Management\r\n  getPayments: (params?: any) => {\r\n    return api.get('/api/admin/payments', { params });\r\n  },\r\n\r\n  refundPayment: (id: string, data: { reason?: string }) => {\r\n    return api.patch(`/api/admin/payments/${id}/refund`, data);\r\n  },\r\n\r\n  // Logs & Activity\r\n  getLogs: (params?: any) => {\r\n    return api.get('/api/admin/logs', { params });\r\n  },\r\n};\r\n\r\n// VerbfyTalk API functions\r\nexport const verbfyTalkAPI = {\r\n  // Get all available rooms\r\n  getRooms: async (filters?: RoomFilters): Promise<RoomsResponse> => {\r\n    const params = new URLSearchParams();\r\n    if (filters?.level) params.append('level', filters.level);\r\n    if (filters?.isPrivate !== undefined) params.append('isPrivate', filters.isPrivate.toString());\r\n    if (filters?.page) params.append('page', filters.page.toString());\r\n    if (filters?.limit) params.append('limit', filters.limit.toString());\r\n\r\n    const response = await api.get(`/api/verbfy-talk?${params.toString()}`);\r\n    return response.data;\r\n  },\r\n\r\n  // Get user's rooms\r\n  getUserRooms: async (page = 1, limit = 10): Promise<RoomsResponse> => {\r\n    const response = await api.get(`/api/verbfy-talk/my-rooms?page=${page}&limit=${limit}`);\r\n    return response.data;\r\n  },\r\n\r\n  // Create a new room\r\n  createRoom: async (roomData: CreateRoomData): Promise<RoomResponse> => {\r\n    const response = await api.post('/api/verbfy-talk', roomData);\r\n    return response.data;\r\n  },\r\n\r\n  // Get room details\r\n  getRoomDetails: async (roomId: string): Promise<RoomResponse> => {\r\n    const response = await api.get(`/api/verbfy-talk/${roomId}`);\r\n    return response.data;\r\n  },\r\n\r\n  // Join a room\r\n  joinRoom: async (roomId: string, joinData?: JoinRoomData): Promise<RoomResponse> => {\r\n    const response = await api.post(`/api/verbfy-talk/${roomId}/join`, joinData || {});\r\n    return response.data;\r\n  },\r\n\r\n  // Leave a room\r\n  leaveRoom: async (roomId: string): Promise<{ success: boolean; message: string }> => {\r\n    const response = await api.post(`/api/verbfy-talk/${roomId}/leave`);\r\n    return response.data;\r\n  },\r\n\r\n  // Update room\r\n  updateRoom: async (roomId: string, roomData: Partial<CreateRoomData>): Promise<RoomResponse> => {\r\n    const response = await api.put(`/api/verbfy-talk/${roomId}`, roomData);\r\n    return response.data;\r\n  },\r\n\r\n  // Delete room\r\n  deleteRoom: async (roomId: string): Promise<{ success: boolean; message: string }> => {\r\n    const response = await api.delete(`/api/verbfy-talk/${roomId}`);\r\n    return response.data;\r\n  }\r\n};\r\n\r\n// Free Materials API functions\r\nexport const freeMaterialsAPI = {\r\n  // Get all materials\r\n  getMaterials: async (filters?: MaterialFilters): Promise<MaterialsResponse> => {\r\n    const params = new URLSearchParams();\r\n    if (filters?.category) params.append('category', filters.category);\r\n    if (filters?.level) params.append('level', filters.level);\r\n    if (filters?.search) params.append('search', filters.search);\r\n    if (filters?.sortBy) params.append('sortBy', filters.sortBy);\r\n    if (filters?.sortOrder) params.append('sortOrder', filters.sortOrder);\r\n    if (filters?.page) params.append('page', filters.page.toString());\r\n    if (filters?.limit) params.append('limit', filters.limit.toString());\r\n    if (filters?.featured) params.append('featured', filters.featured.toString());\r\n\r\n    const response = await api.get(`/api/free-materials?${params.toString()}`);\r\n    return response.data;\r\n  },\r\n\r\n  // Get featured materials\r\n  getFeaturedMaterials: async (): Promise<{ success: boolean; data: FreeMaterial[] }> => {\r\n    const response = await api.get('/api/free-materials/featured');\r\n    return response.data;\r\n  },\r\n\r\n  // Get material categories\r\n  getCategories: async (): Promise<{ success: boolean; data: string[] }> => {\r\n    const response = await api.get('/api/free-materials/categories');\r\n    return response.data;\r\n  },\r\n\r\n  // Get material levels\r\n  getLevels: async (): Promise<{ success: boolean; data: string[] }> => {\r\n    const response = await api.get('/api/free-materials/levels');\r\n    return response.data;\r\n  },\r\n\r\n  // Get material by ID\r\n  getMaterial: async (id: string): Promise<{ success: boolean; data: FreeMaterial }> => {\r\n    const response = await api.get(`/api/free-materials/${id}`);\r\n    return response.data;\r\n  },\r\n\r\n  // Upload material\r\n  uploadMaterial: async (materialData: UploadMaterialData): Promise<{ success: boolean; data: FreeMaterial }> => {\r\n    const formData = new FormData();\r\n    formData.append('title', materialData.title);\r\n    formData.append('description', materialData.description);\r\n    formData.append('category', materialData.category);\r\n    formData.append('level', materialData.level);\r\n    if (materialData.tags) formData.append('tags', materialData.tags);\r\n    if (materialData.isFeatured) formData.append('isFeatured', materialData.isFeatured.toString());\r\n    formData.append('file', materialData.file);\r\n\r\n    const response = await api.post('/api/free-materials', formData, {\r\n      headers: {\r\n        'Content-Type': 'multipart/form-data'\r\n      }\r\n    });\r\n    return response.data;\r\n  },\r\n\r\n  // Rate material\r\n  rateMaterial: async (id: string, rating: number): Promise<{ success: boolean; message: string }> => {\r\n    const response = await api.post(`/api/free-materials/${id}/rate`, { rating });\r\n    return response.data;\r\n  },\r\n\r\n  // Update material\r\n  updateMaterial: async (id: string, materialData: Partial<UploadMaterialData>): Promise<{ success: boolean; data: FreeMaterial }> => {\r\n    const response = await api.put(`/api/free-materials/${id}`, materialData);\r\n    return response.data;\r\n  },\r\n\r\n  // Delete material\r\n  deleteMaterial: async (id: string): Promise<{ success: boolean; message: string }> => {\r\n    const response = await api.delete(`/api/free-materials/${id}`);\r\n    return response.data;\r\n  },\r\n\r\n  // Download material\r\n  downloadMaterial: async (id: string): Promise<Blob> => {\r\n    const response = await api.get(`/api/free-materials/${id}/download`, {\r\n      responseType: 'blob'\r\n    });\r\n    return response.data;\r\n  }\r\n};\r\n\r\n// Student Lessons API\r\nexport const lessonAPI = {\r\n  // Get student's lessons\r\n  getStudentLessons: async (filters?: any): Promise<any> => {\r\n    const params = new URLSearchParams();\r\n    Object.entries(filters || {}).forEach(([key, value]) => {\r\n      if (value && value !== 'all') params.append(key, value.toString());\r\n    });\r\n    const response = await api.get(`/api/lessons/student?${params.toString()}`);\r\n    return response.data;\r\n  },\r\n\r\n  // Get lesson details\r\n  getLesson: async (id: string): Promise<any> => {\r\n    const response = await api.get(`/api/lessons/${id}`);\r\n    return response.data;\r\n  },\r\n\r\n  // Join lesson\r\n  joinLesson: async (lessonId: string): Promise<any> => {\r\n    const response = await api.post(`/api/lessons/${lessonId}/join`);\r\n    return response.data;\r\n  },\r\n\r\n  // Leave lesson\r\n  leaveLesson: async (lessonId: string): Promise<any> => {\r\n    const response = await api.post(`/api/lessons/${lessonId}/leave`);\r\n    return response.data;\r\n  }\r\n};\r\n\r\n// Verbfy Lessons API\r\nexport const verbfyLessonsAPI = {\r\n  // Get all lessons with filters\r\n  getLessons: async (filters?: any): Promise<any> => {\r\n    const params = new URLSearchParams();\r\n    Object.entries(filters || {}).forEach(([key, value]) => {\r\n      if (value) params.append(key, value.toString());\r\n    });\r\n    const response = await api.get(`/api/verbfy-lessons?${params.toString()}`);\r\n    return response.data;\r\n  },\r\n\r\n  // Get lesson by ID\r\n  getLesson: async (id: string): Promise<any> => {\r\n    const response = await api.get(`/api/verbfy-lessons/${id}`);\r\n    return response.data;\r\n  },\r\n\r\n  // Create lesson (admin/teacher only)\r\n  createLesson: async (data: any): Promise<any> => {\r\n    const response = await api.post('/api/verbfy-lessons', data);\r\n    return response.data;\r\n  },\r\n\r\n  // Update lesson (admin/teacher only)\r\n  updateLesson: async (id: string, data: any): Promise<any> => {\r\n    const response = await api.put(`/api/verbfy-lessons/${id}`, data);\r\n    return response.data;\r\n  },\r\n\r\n  // Delete lesson (admin/teacher only)\r\n  deleteLesson: async (id: string): Promise<any> => {\r\n    const response = await api.delete(`/api/verbfy-lessons/${id}`);\r\n    return response.data;\r\n  },\r\n\r\n  // Start lesson attempt\r\n  startLesson: async (lessonId: string): Promise<any> => {\r\n    const response = await api.post(`/api/verbfy-lessons/${lessonId}/start`);\r\n    return response.data;\r\n  },\r\n\r\n  // Submit lesson attempt\r\n  submitLesson: async (attemptId: string, data: any): Promise<any> => {\r\n    const response = await api.post(`/api/verbfy-lessons/attempt/${attemptId}/submit`, data);\r\n    return response.data;\r\n  },\r\n\r\n  // Get lesson categories\r\n  getCategories: async (): Promise<any> => {\r\n    const response = await api.get('/api/verbfy-lessons/categories');\r\n    return response.data;\r\n  },\r\n\r\n  // Get lesson statistics\r\n  getStats: async (lessonId: string): Promise<any> => {\r\n    const response = await api.get(`/api/verbfy-lessons/${lessonId}/stats`);\r\n    return response.data;\r\n  },\r\n};\r\n\r\n// CEFR Tests API\r\nexport const cefrTestsAPI = {\r\n  // Get all tests with filters\r\n  getTests: async (filters: any = {}): Promise<TestResponse> => {\r\n    const params = new URLSearchParams();\r\n    Object.entries(filters).forEach(([key, value]) => {\r\n      if (value !== undefined && value !== null) params.append(key, value.toString());\r\n    });\r\n    const response = await api.get(`/api/cefr-tests?${params.toString()}`);\r\n    return response.data;\r\n  },\r\n\r\n  // Get test by ID\r\n  getTest: async (testId: string): Promise<CEFRTest> => {\r\n    const response = await api.get(`/api/cefr-tests/${testId}`);\r\n    return response.data;\r\n  },\r\n\r\n  // Start test\r\n  startTest: async (testId: string): Promise<StartTestResponse> => {\r\n    const response = await api.post(`/api/cefr-tests/${testId}/start`);\r\n    return response.data;\r\n  },\r\n\r\n  // Submit test\r\n  submitTest: async (attemptId: string, data: SubmitTestRequest): Promise<SubmitTestResponse> => {\r\n    const response = await api.post(`/api/cefr-tests/attempt/${attemptId}/submit`, data);\r\n    return response.data;\r\n  },\r\n\r\n  // Get test attempt details (may not be available on all backends)\r\n  getTestAttempt: async (attemptId: string): Promise<TestAttempt> => {\r\n    const response = await api.get(`/api/cefr-tests/attempt/${attemptId}`);\r\n    return response.data;\r\n  },\r\n\r\n  // Get test statistics\r\n  getTestStats: async (testId: string): Promise<TestStats> => {\r\n    const response = await api.get(`/api/cefr-tests/${testId}/stats`);\r\n    return response.data;\r\n  },\r\n\r\n  // Get placement recommendation\r\n  getPlacementRecommendation: async (): Promise<PlacementRecommendation> => {\r\n    const response = await api.get('/api/cefr-tests/placement/recommendation');\r\n    return response.data;\r\n  },\r\n\r\n  // Seed 50Q Global Placement (admin only)\r\n  seedGlobalPlacement: async () => {\r\n    const response = await api.post('/api/cefr-tests/seed/global-placement');\r\n    return response.data;\r\n  },\r\n  // Seed Kids A1B1 (admin only)\r\n  seedKidsA1B1: async () => {\r\n    const response = await api.post('/api/cefr-tests/seed/kids-a1-b1');\r\n    return response.data;\r\n  },\r\n  // Seed Adults A1B2 (admin only)\r\n  seedAdultsA1B2: async () => {\r\n    const response = await api.post('/api/cefr-tests/seed/adults-a1-b2');\r\n    return response.data;\r\n  },\r\n  // Seed Advanced B1C2 (admin only)\r\n  seedAdvancedB1C2: async () => {\r\n    return api.post('/api/cefr-tests/seed/advanced-b1-c2');\r\n  },\r\n};\r\n\r\n// Personalized Curriculum API\r\nexport const personalizedCurriculumAPI = {\r\n  // Create curriculum\r\n  createCurriculum: async (data: CreateCurriculumRequest): Promise<{ curriculum: PersonalizedCurriculum }> => {\r\n    const response = await api.post('/api/personalized-curriculum', data);\r\n    return response.data;\r\n  },\r\n\r\n  // Get user's curriculum\r\n  getCurriculum: async (): Promise<PersonalizedCurriculum> => {\r\n    const response = await api.get('/api/personalized-curriculum');\r\n    return response.data;\r\n  },\r\n\r\n  // Update curriculum progress\r\n  updateProgress: async (data: UpdateProgressRequest): Promise<{ message: string }> => {\r\n    const response = await api.put('/api/personalized-curriculum/progress', data);\r\n    return response.data;\r\n  },\r\n\r\n  // Update study schedule\r\n  updateStudySchedule: async (data: UpdateStudyScheduleRequest): Promise<{ message: string }> => {\r\n    const response = await api.put('/api/personalized-curriculum/schedule', data);\r\n    return response.data;\r\n  },\r\n\r\n  // Get curriculum analytics\r\n  getAnalytics: async (): Promise<{ analytics: CurriculumAnalytics }> => {\r\n    const response = await api.get('/api/personalized-curriculum/analytics');\r\n    return response.data;\r\n  },\r\n\r\n  // Get recommendations\r\n  getRecommendations: async (): Promise<{ recommendations: CurriculumRecommendation[] }> => {\r\n    const response = await api.get('/api/personalized-curriculum/recommendations');\r\n    return response.data;\r\n  },\r\n\r\n  // Complete recommendation\r\n  completeRecommendation: async (recommendationId: string): Promise<{ message: string }> => {\r\n    const response = await api.post(`/api/personalized-curriculum/recommendations/${recommendationId}/complete`);\r\n    return response.data;\r\n  },\r\n\r\n  // Get study schedule\r\n  getStudySchedule: async (): Promise<any> => {\r\n    const response = await api.get('/api/personalized-curriculum/schedule');\r\n    return response.data;\r\n  },\r\n\r\n  // Add study session\r\n  addStudySession: async (data: any): Promise<any> => {\r\n    const response = await api.post('/api/personalized-curriculum/schedule/sessions', data);\r\n    return response.data;\r\n  },\r\n\r\n  // Complete study session\r\n  completeStudySession: async (sessionId: number): Promise<any> => {\r\n    const response = await api.post(`/api/personalized-curriculum/schedule/sessions/${sessionId}/complete`);\r\n    return response.data;\r\n  },\r\n};\r\n\r\n// Function to set API access token (for backward compatibility)\r\nexport const setApiAccessToken = (token: string) => {\r\n  localStorage.setItem('verbfy_token', token);\r\n};\r\n\r\n// Achievements API\r\nexport const achievementsAPI = {\r\n  // Get user achievements\r\n  getAchievements: async (): Promise<any> => {\r\n    const response = await api.get('/api/achievements');\r\n    return response.data;\r\n  },\r\n\r\n  // Get achievement progress\r\n  getProgress: async (achievementId: number): Promise<any> => {\r\n    const response = await api.get(`/api/achievements/${achievementId}/progress`);\r\n    return response.data;\r\n  },\r\n\r\n  // Get leaderboard\r\n  getLeaderboard: async (): Promise<any> => {\r\n    const response = await api.get('/api/achievements/leaderboard');\r\n    return response.data;\r\n  },\r\n\r\n  // Unlock achievement\r\n  unlockAchievement: async (achievementId: number): Promise<any> => {\r\n    const response = await api.post(`/api/achievements/${achievementId}/unlock`);\r\n    return response.data;\r\n  },\r\n};\r\n\r\n// Games API\r\nexport const gamesAPI = {\r\n  list: async (params?: any) => {\r\n    return api.get('/api/games', { params });\r\n  },\r\n  create: async (data: { title: string; description?: string; category?: string; level?: string; thumbnailUrl?: string; gameUrl: string }) => {\r\n    return api.post('/api/games', data);\r\n  },\r\n  delete: async (id: string) => {\r\n    return api.delete(`/api/games/${id}`);\r\n  },\r\n};\r\n\r\n// Study Groups API\r\nexport const studyGroupsAPI = {\r\n  // Get user's study groups\r\n  getMyGroups: async (): Promise<any> => {\r\n    const response = await api.get('/api/study-groups/my');\r\n    return response.data;\r\n  },\r\n\r\n  // Get discoverable groups\r\n  getDiscoverGroups: async (filters?: any): Promise<any> => {\r\n    const response = await api.get('/api/study-groups/discover', { params: filters });\r\n    return response.data;\r\n  },\r\n\r\n  // Create study group\r\n  createGroup: async (data: any): Promise<any> => {\r\n    const response = await api.post('/api/study-groups', data);\r\n    return response.data;\r\n  },\r\n\r\n  // Join study group\r\n  joinGroup: async (groupId: number, password?: string): Promise<any> => {\r\n    const response = await api.post(`/api/study-groups/${groupId}/join`, { password });\r\n    return response.data;\r\n  },\r\n\r\n  // Leave study group\r\n  leaveGroup: async (groupId: number): Promise<any> => {\r\n    const response = await api.post(`/api/study-groups/${groupId}/leave`);\r\n    return response.data;\r\n  },\r\n\r\n  // Get group details\r\n  getGroupDetails: async (groupId: number): Promise<any> => {\r\n    const response = await api.get(`/api/study-groups/${groupId}`);\r\n    return response.data;\r\n  },\r\n\r\n  // Send message to group\r\n  sendMessage: async (groupId: number, message: string): Promise<any> => {\r\n    const response = await api.post(`/api/study-groups/${groupId}/messages`, { message });\r\n    return response.data;\r\n  },\r\n\r\n  // Get group messages\r\n  getMessages: async (groupId: number): Promise<any> => {\r\n    const response = await api.get(`/api/study-groups/${groupId}/messages`);\r\n    return response.data;\r\n  },\r\n};\r\n\r\n// AI Learning API\r\nexport const aiLearningAPI = {\r\n  // Create AI learning session\r\n  createSession: async (data: CreateAISessionData): Promise<{ session: AILearningSession }> => {\r\n    const response = await api.post('/api/ai-learning/sessions', data);\r\n    return response.data;\r\n  },\r\n\r\n  // Get AI response\r\n  getAIResponse: async (data: AIResponseData): Promise<AIResponse> => {\r\n    const response = await api.post('/api/ai-learning/response', data);\r\n    return response.data;\r\n  },\r\n\r\n  // Get user sessions\r\n  getSessions: async (filters?: AISessionFilters): Promise<AISessionsResponse> => {\r\n    const params = new URLSearchParams();\r\n    Object.entries(filters || {}).forEach(([key, value]) => {\r\n      if (value) params.append(key, value.toString());\r\n    });\r\n    const response = await api.get(`/api/ai-learning/sessions?${params.toString()}`);\r\n    return response.data;\r\n  },\r\n\r\n  // Update session progress\r\n  updateSessionProgress: async (sessionId: string, data: SessionProgressData): Promise<{ message: string }> => {\r\n    const response = await api.put(`/api/ai-learning/sessions/${sessionId}/progress`, data);\r\n    return response.data;\r\n  },\r\n\r\n  // Generate recommendations\r\n  generateRecommendations: async (data: GenerateRecommendationsData): Promise<{ recommendations: Recommendation[] }> => {\r\n    const response = await api.post('/api/ai-learning/recommendations', data);\r\n    return response.data;\r\n  },\r\n\r\n  // Get session analytics\r\n  getSessionAnalytics: async (filters?: AISessionAnalyticsFilters): Promise<{ analytics: AISessionAnalytics }> => {\r\n    const params = new URLSearchParams();\r\n    Object.entries(filters || {}).forEach(([key, value]) => {\r\n      if (value) params.append(key, value.toString());\r\n    });\r\n    const response = await api.get(`/api/ai-learning/sessions/analytics?${params.toString()}`);\r\n    return response.data;\r\n  },\r\n};\r\n\r\n// Adaptive Learning API\r\nexport const adaptiveLearningAPI = {\r\n  // Create adaptive path\r\n  createPath: async (data: CreateAdaptivePathData): Promise<AdaptivePathResponse> => {\r\n    const response = await api.post('/api/adaptive-learning/paths', data);\r\n    return response.data;\r\n  },\r\n\r\n  // Get user's adaptive paths\r\n  getPaths: async (filters?: AdaptivePathFilters): Promise<AdaptivePathsResponse> => {\r\n    const params = new URLSearchParams();\r\n    Object.entries(filters || {}).forEach(([key, value]) => {\r\n      if (value) params.append(key, value.toString());\r\n    });\r\n    const response = await api.get(`/api/adaptive-learning/paths?${params.toString()}`);\r\n    return response.data;\r\n  },\r\n\r\n  // Get adaptive path by ID\r\n  getPath: async (pathId: string): Promise<AdaptivePathResponse> => {\r\n    const response = await api.get(`/api/adaptive-learning/paths/${pathId}`);\r\n    return response.data;\r\n  },\r\n\r\n  // Update module progress\r\n  updateModuleProgress: async (data: UpdateModuleProgressData): Promise<{ message: string }> => {\r\n    const response = await api.put('/api/adaptive-learning/paths/progress', data);\r\n    return response.data;\r\n  },\r\n\r\n  // Get adaptive recommendations\r\n  getRecommendations: async (pathId: string): Promise<{ recommendations: AdaptiveRecommendation[] }> => {\r\n    const response = await api.get(`/api/adaptive-learning/paths/${pathId}/recommendations`);\r\n    return response.data;\r\n  },\r\n\r\n  // Get path analytics\r\n  getPathAnalytics: async (pathId: string): Promise<{ analytics: AdaptivePathAnalytics }> => {\r\n    const response = await api.get(`/api/adaptive-learning/paths/${pathId}/analytics`);\r\n    return response.data;\r\n  },\r\n};\r\n\r\n// Teacher Analytics API\r\nexport const teacherAnalyticsAPI = {\r\n  // Generate analytics\r\n  generateAnalytics: async (data: GenerateAnalyticsData): Promise<TeacherAnalyticsResponse> => {\r\n    const response = await api.post('/api/teacher-analytics/generate', data);\r\n    return response.data;\r\n  },\r\n\r\n  // Get teacher analytics\r\n  getAnalytics: async (filters?: AnalyticsFilters): Promise<TeacherAnalyticsResponse> => {\r\n    const params = new URLSearchParams();\r\n    Object.entries(filters || {}).forEach(([key, value]) => {\r\n      if (value) params.append(key, value.toString());\r\n    });\r\n    const response = await api.get(`/api/teacher-analytics?${params.toString()}`);\r\n    return response.data;\r\n  },\r\n\r\n  // Get student performance\r\n  getStudentPerformance: async (filters?: AnalyticsFilters): Promise<StudentPerformanceResponse> => {\r\n    const params = new URLSearchParams();\r\n    Object.entries(filters || {}).forEach(([key, value]) => {\r\n      if (value) params.append(key, value.toString());\r\n    });\r\n    const response = await api.get(`/api/teacher-analytics/student-performance?${params.toString()}`);\r\n    return response.data;\r\n  },\r\n\r\n  // Get lesson analytics\r\n  getLessonAnalytics: async (filters?: AnalyticsFilters): Promise<LessonAnalyticsResponse> => {\r\n    const params = new URLSearchParams();\r\n    Object.entries(filters || {}).forEach(([key, value]) => {\r\n      if (value) params.append(key, value.toString());\r\n    });\r\n    const response = await api.get(`/api/teacher-analytics/lesson-analytics?${params.toString()}`);\r\n    return response.data;\r\n  },\r\n\r\n  // Get engagement metrics\r\n  getEngagementMetrics: async (filters?: AnalyticsFilters): Promise<EngagementMetricsResponse> => {\r\n    const params = new URLSearchParams();\r\n    Object.entries(filters || {}).forEach(([key, value]) => {\r\n      if (value) params.append(key, value.toString());\r\n    });\r\n    const response = await api.get(`/api/teacher-analytics/engagement?${params.toString()}`);\r\n    return response.data;\r\n  },\r\n};\r\n\r\n// AI Features API\r\nexport const aiFeaturesAPI = {\r\n  // AI Tutoring Sessions\r\n  startTutoringSession: async (data: { sessionType: string; cefrLevel: string }): Promise<AITutoringSession> => {\r\n    const response = await api.post('/api/ai-features/tutoring/sessions', data);\r\n    return response.data;\r\n  },\r\n\r\n  sendTutoringMessage: async (sessionId: string, data: { content: string; messageType: string }): Promise<{ message: AITutoringMessage; session?: AITutoringSession }> => {\r\n    const response = await api.post(`/api/ai-features/tutoring/sessions/${sessionId}/messages`, data);\r\n    return response.data;\r\n  },\r\n\r\n  endTutoringSession: async (sessionId: string): Promise<AITutoringSession> => {\r\n    const response = await api.put(`/api/ai-features/tutoring/sessions/${sessionId}/end`);\r\n    return response.data;\r\n  },\r\n\r\n  getTutoringSessions: async (filters?: AISessionFilters): Promise<AISessionResponse> => {\r\n    const params = new URLSearchParams();\r\n    Object.entries(filters || {}).forEach(([key, value]) => {\r\n      if (value) params.append(key, value.toString());\r\n    });\r\n    const response = await api.get(`/api/ai-features/tutoring/sessions?${params.toString()}`);\r\n    return response.data;\r\n  },\r\n\r\n  getTutoringSession: async (sessionId: string): Promise<AITutoringSession> => {\r\n    const response = await api.get(`/api/ai-features/tutoring/sessions/${sessionId}`);\r\n    return response.data;\r\n  },\r\n\r\n  // AI Content Generation\r\n  generateContent: async (data: AIContentGenerationRequest): Promise<AIContentGenerationResponse> => {\r\n    const response = await api.post('/api/ai-features/content/generate', data);\r\n    return response.data;\r\n  },\r\n\r\n  getGeneratedContent: async (filters?: AIContentFilters): Promise<AIContentResponse> => {\r\n    const params = new URLSearchParams();\r\n    Object.entries(filters || {}).forEach(([key, value]) => {\r\n      if (value) params.append(key, value.toString());\r\n    });\r\n    const response = await api.get(`/api/ai-features/content?${params.toString()}`);\r\n    return response.data;\r\n  },\r\n\r\n  getContent: async (contentId: string): Promise<AIContentGeneration> => {\r\n    const response = await api.get(`/api/ai-features/content/${contentId}`);\r\n    return response.data;\r\n  },\r\n\r\n  reviewContent: async (contentId: string, data: { status: string; notes?: string }): Promise<{ message: string }> => {\r\n    const response = await api.put(`/api/ai-features/content/${contentId}/review`, data);\r\n    return response.data;\r\n  },\r\n\r\n  updateContent: async (contentId: string, data: Partial<AIContentGeneration>): Promise<AIContentGeneration> => {\r\n    const response = await api.put(`/api/ai-features/content/${contentId}`, data);\r\n    return response.data;\r\n  },\r\n\r\n  deleteContent: async (contentId: string): Promise<{ message: string }> => {\r\n    const response = await api.delete(`/api/ai-features/content/${contentId}`);\r\n    return response.data;\r\n  },\r\n\r\n  // AI Analytics\r\n  getAnalytics: async (filters?: AIAnalyticsFilters): Promise<{ analytics: AIAnalytics }> => {\r\n    const params = new URLSearchParams();\r\n    Object.entries(filters || {}).forEach(([key, value]) => {\r\n      if (value) params.append(key, value.toString());\r\n    });\r\n    const response = await api.get(`/api/ai-features/analytics?${params.toString()}`);\r\n    return response.data;\r\n  },\r\n\r\n  getUserProgress: async (filters?: AIAnalyticsFilters): Promise<AIUserProgress> => {\r\n    const params = new URLSearchParams();\r\n    Object.entries(filters || {}).forEach(([key, value]) => {\r\n      if (value) params.append(key, value.toString());\r\n    });\r\n    const response = await api.get(`/api/ai-features/user-progress?${params.toString()}`);\r\n    return response.data;\r\n  },\r\n\r\n  // AI Recommendations\r\n  getRecommendations: async (): Promise<{ recommendations: AIRecommendation[] }> => {\r\n    const response = await api.get('/api/ai-features/recommendations');\r\n    return response.data;\r\n  },\r\n\r\n  completeRecommendation: async (recommendationId: string): Promise<{ message: string }> => {\r\n    const response = await api.post(`/api/ai-features/recommendations/${recommendationId}/complete`);\r\n    return response.data;\r\n  },\r\n\r\n  // AI Model Management\r\n  getModelInfo: async (): Promise<{ model: string; version: string; status: string }> => {\r\n    const response = await api.get('/api/ai-features/model-info');\r\n    return response.data;\r\n  },\r\n\r\n  updateModelSettings: async (data: { model: string; settings: any }): Promise<{ message: string }> => {\r\n    const response = await api.put('/api/ai-features/model-settings', data);\r\n    return response.data;\r\n  },\r\n};\r\n\r\nexport default api; ","import { createContext, useContext, useEffect, useMemo, useState } from 'react';\r\n\r\ntype Locale = 'en' | 'tr';\r\n\r\ntype Messages = Record<string, string>;\r\n\r\ninterface I18nContextValue {\r\n  locale: Locale;\r\n  t: (key: string, fallback?: string) => string;\r\n  setLocale: (loc: Locale) => void;\r\n}\r\n\r\nconst I18nContext = createContext<I18nContextValue | undefined>(undefined);\r\n\r\nconst en: Messages = {\r\n  'auth.login.title': 'Sign in',\r\n  'auth.login.email': 'Email',\r\n  'auth.login.password': 'Password',\r\n  'auth.login.submit': 'Sign in',\r\n  'auth.login.welcome': 'Welcome back to your learning journey',\r\n  'auth.login.emailPlaceholder': 'Enter your email',\r\n  'auth.login.passwordPlaceholder': 'Enter your password',\r\n  'auth.login.remember': 'Remember me',\r\n  'auth.login.forgot': 'Forgot your password?',\r\n  'auth.login.signingin': 'Signing in...',\r\n  'auth.login.or': 'Or continue with',\r\n  'auth.login.google': 'Sign in with Google',\r\n  'auth.login.outlook': 'Sign in with Outlook',\r\n  'auth.login.apple': 'Sign in with Apple',\r\n  'auth.login.new': 'New to Verbfy?',\r\n  'auth.login.join': 'Join Now',\r\n\r\n  'auth.register.title': 'Create account',\r\n  'auth.register.tagline': 'Join the learning revolution',\r\n  'auth.register.name': 'Full Name',\r\n  'auth.register.namePlaceholder': 'Enter your full name',\r\n  'auth.register.email': 'Email Address',\r\n  'auth.register.emailPlaceholder': 'Enter your email',\r\n  'auth.register.password': 'Password',\r\n  'auth.register.passwordPlaceholder': 'Create a strong password',\r\n  'auth.register.role': 'I want to join as',\r\n  'auth.register.role.student': 'Student - Learn English',\r\n  'auth.register.role.teacher': 'Teacher - Teach English (requires admin approval)',\r\n  'auth.register.creating': 'Creating account...',\r\n  'auth.register.submit': 'Create account',\r\n  'auth.register.or': 'Or sign up with',\r\n  'auth.register.google': 'Continue with Google',\r\n  'auth.register.outlook': 'Continue with Outlook',\r\n  'auth.register.apple': 'Continue with Apple',\r\n  'auth.register.have': 'Already have an account?',\r\n  'auth.register.signin': 'Sign in here',\r\n\r\n  'nav.profile': 'Profile',\r\n  'nav.dashboard': 'Dashboard',\r\n  'nav.verbfytalk': 'VerbfyTalk',\r\n  'nav.freeMaterials': 'Free Materials',\r\n  'nav.verbfyLessons': 'Verbfy Lessons',\r\n  'nav.cefrTests': 'CEFR Tests',\r\n  'nav.curriculum': 'Personalized Curriculum',\r\n  'nav.aiLearning': 'AI Learning Assistant',\r\n  'nav.adaptive': 'Adaptive Learning',\r\n  'nav.aiContent': 'AI Content Generation',\r\n  'nav.chat': 'Chat',\r\n  'nav.materials': 'Materials',\r\n  'nav.payments': 'Payments',\r\n\r\n  'profile.save': 'Save Changes',\r\n  'profile.resendVerification': 'Resend verification',\r\n  'profile.emailVerified': 'Your email is verified.',\r\n  'profile.emailNotVerified': 'Your email is not verified.',\r\n  'profile.name': 'Name',\r\n  'profile.email': 'Email',\r\n  'profile.bio': 'Bio',\r\n\r\n  'forgot.title': 'Forgot Password',\r\n  'forgot.email': 'Email',\r\n  'forgot.submit': 'Send Reset Link',\r\n\r\n  'reset.title': 'Reset Password',\r\n  'reset.new': 'New Password (min 8 chars)',\r\n  'reset.confirm': 'Confirm Password',\r\n  'reset.submit': 'Reset Password',\r\n\r\n  'verify.title': 'Verify Email',\r\n  'verify.success': 'Email verified. You can close this page or go to dashboard.',\r\n  'verify.goDashboard': 'Go to dashboard',\r\n\r\n  'footer.privacy': 'Privacy Policy',\r\n  'footer.terms': 'Terms of Service',\r\n  'footer.help': 'Help Center',\r\n  'footer.rights': 'All rights reserved.',\r\n\r\n  // Landing\r\n  'landing.nav.features': 'Features',\r\n  'landing.nav.how': 'How it Works',\r\n  'landing.nav.teachers': 'Teachers',\r\n  'landing.nav.pricing': 'Pricing',\r\n  'landing.nav.levelTest': 'Free Level Test',\r\n  'landing.nav.signIn': 'Sign In',\r\n  'landing.nav.getStarted': 'Get Started',\r\n  'landing.nav.goDashboard': 'Go to Dashboard',\r\n\r\n  'landing.hero.title1': 'Master English with',\r\n  'landing.hero.title2': 'Expert Teachers',\r\n  'landing.hero.subtitle': 'Join thousands of learners worldwide and transform your English skills with live video lessons, personalized learning, and proven methodologies.',\r\n  'landing.hero.start': 'Start Learning Free',\r\n  'landing.hero.demo': 'Watch Demo',\r\n\r\n  'landing.features.title': 'Why Choose Verbfy?',\r\n  'landing.features.subtitle': 'Our platform combines cutting-edge technology with proven teaching methods to deliver exceptional results.',\r\n  'landing.feature.liveTalk.title': 'Live VerbfyTalk Rooms',\r\n  'landing.feature.liveTalk.desc': 'Real-time conversation practice powered by LiveKit with low-latency audio/video.',\r\n  'landing.feature.aiLearning.title': 'AI Learning Assistant',\r\n  'landing.feature.aiLearning.desc': 'Personalized recommendations, feedback and adaptive sessions.',\r\n  'landing.feature.lessons.title': 'Verbfy Lessons',\r\n  'landing.feature.lessons.desc': 'Curated lesson flows aligned with CEFR and real-world scenarios.',\r\n  'landing.feature.freeMaterials.title': 'Free Materials',\r\n  'landing.feature.freeMaterials.desc': 'Carefully designed materials, exercises and downloads.',\r\n  'landing.feature.cefr.title': 'CEFR Tests',\r\n  'landing.feature.cefr.desc': 'Placement and practice tests to track your progress accurately.',\r\n  'landing.feature.analytics.title': 'Progress Analytics',\r\n  'landing.feature.analytics.desc': 'Track skills, streaks and achievements with clear dashboards.',\r\n\r\n  // Featured materials\r\n  'landing.featuredMaterials.title': 'Featured Materials',\r\n  'landing.featuredMaterials.subtitle': 'Hand-picked free resources to boost your skills',\r\n  'landing.featuredMaterials.viewAll': 'View all',\r\n\r\n  'landing.how.title': 'How It Works',\r\n  'landing.how.subtitle': 'Get started with Verbfy in just four simple steps.',\r\n  'landing.how.step1.title': 'Sign Up',\r\n  'landing.how.step1.desc': 'Create your free account and complete your profile.',\r\n  'landing.how.step2.title': 'Choose Your Teacher',\r\n  'landing.how.step2.desc': 'Find the right teacher for your goals and schedule.',\r\n  'landing.how.step3.title': 'Book Your Lesson',\r\n  'landing.how.step3.desc': 'Pick a time that works and reserve instantly.',\r\n  'landing.how.step4.title': 'Start Learning',\r\n  'landing.how.step4.desc': 'Join live sessions and follow your adaptive path.',\r\n\r\n  'landing.teachers.title': 'Meet Our Expert Teachers',\r\n  'landing.teachers.subtitle': 'Certified teachers with strong track records of student success.',\r\n  'landing.teachers.book': 'Book Lesson',\r\n\r\n  'landing.pricing.title': 'Choose Your Plan',\r\n  'landing.pricing.subtitle': 'Flexible pricing designed to fit your goals and budget.',\r\n  'landing.pricing.popular': 'Most Popular',\r\n  'landing.pricing.cta': 'Get Started',\r\n\r\n  // Pricing details\r\n  'pricing.monthly.name': 'Monthly Membership',\r\n  'pricing.monthly.badge': '1 Token Gift',\r\n  'pricing.monthly.f1': 'Unlimited platform access',\r\n  'pricing.monthly.f2': 'All free materials',\r\n  'pricing.monthly.f3': 'Community features',\r\n  'pricing.monthly.f4': 'Includes 1 VerbfyToken (25 min 1:1 lesson)',\r\n  'pricing.yearly.name': 'Yearly Membership',\r\n  'pricing.yearly.badge': 'Best Value  12 Tokens Gift',\r\n  'pricing.yearly.f1': 'Everything in Monthly',\r\n  'pricing.yearly.f2': 'Priority support',\r\n  'pricing.yearly.f3': 'Includes 12 VerbfyTokens (1225 min 1:1 lessons)',\r\n  'pricing.token.name': 'VerbfyToken (Add-on)',\r\n  'pricing.token.title': '1 Token = 25 min One-to-one Private Lesson',\r\n  'pricing.token.f1': 'Spend 1 token per 25-minute 1:1 lesson',\r\n  'pricing.token.f2': 'Token bundles available to active subscribers',\r\n  'pricing.token.f3': 'Purchase after subscription',\r\n\r\n  'landing.cta.title': 'Ready to Start Your English Journey?',\r\n  'landing.cta.subtitle': 'Join thousands of learners who already trust Verbfy.',\r\n  'landing.cta.start': 'Start Learning Free',\r\n  'landing.cta.learnMore': 'Learn More',\r\n\r\n  // Testimonials & FAQ\r\n  'landing.testimonials.title': 'What learners say',\r\n  'landing.testimonials.q1': 'Verbfy helped me gain confidence to speak at work meetings.',\r\n  'landing.testimonials.a1': 'Aylin, Product Manager',\r\n  'landing.testimonials.q2': 'The AI recommendations kept me consistent and improving.',\r\n  'landing.testimonials.a2': 'Deniz, University Student',\r\n  'landing.testimonials.q3': 'Live lessons were super engaging and practical.',\r\n  'landing.testimonials.a3': 'Emre, Software Engineer',\r\n  'landing.faq.title': 'Frequently asked questions',\r\n  'landing.faq.q1': 'How do live lessons work?',\r\n  'landing.faq.a1': 'Join scheduled sessions with teachers via VerbfyTalk powered by LiveKit.',\r\n  'landing.faq.q2': 'Can I learn for free?',\r\n  'landing.faq.a2': 'Yes, explore hundreds of free materials and community sessions.',\r\n  'landing.faq.q3': 'Is Verbfy for beginners?',\r\n  'landing.faq.a3': 'Absolutely. Our CEFR-aligned modules cover A1 to C2.',\r\n  'landing.faq.q4': 'Do you offer certificates?',\r\n  'landing.faq.a4': 'Yes, complete paths award shareable certificates.',\r\n\r\n  // Stats labels\r\n  'landing.stats.learners': 'Active learners',\r\n  'landing.stats.lessons': 'Live lessons delivered',\r\n  'landing.stats.teachers': 'Expert teachers',\r\n  'landing.stats.rating': 'Average rating',\r\n\r\n  // Footer blocks\r\n  'footer.blurb': 'Empowering learners worldwide to master English through innovative technology and expert instruction.',\r\n  'footer.product': 'Product',\r\n  'footer.company': 'Company',\r\n  'footer.support': 'Support',\r\n  'footer.links.features': 'Features',\r\n  'footer.links.pricing': 'Pricing',\r\n  'footer.links.teachers': 'Teachers',\r\n  'footer.links.materials': 'Materials',\r\n  'footer.links.about': 'About',\r\n  'footer.links.careers': 'Careers',\r\n  'footer.links.blog': 'Blog',\r\n  'footer.links.contact': 'Contact',\r\n  'footer.cookie': 'Cookie Policy',\r\n\r\n  // Verbfy suite descriptions\r\n  'suite.title': 'Learn the language in all dimensions.',\r\n  'suite.subtitle': 'Modules specially designed for speaking, listening, writing, reading, grammar and exam preparation.',\r\n  'suite.more': 'More',\r\n  'suite.talk': 'Improve your fluency with live conversation rooms, natural dialogues and instant feedback.',\r\n  'suite.listen': 'Practice real-life listening with podcasts, daily conversations and accent diversity.',\r\n  'suite.write': 'Write more effectively with writing tasks, templates and AI-powered feedback.',\r\n  'suite.read': 'Develop reading with level-appropriate texts, vocabulary work and comprehension questions.',\r\n  'suite.grammar': 'Learn grammar systematically with topic explanations, interactive exercises and reinforcement tests.',\r\n  'suite.exam': 'Prepare for your target score with CEFR-aligned mock exams, timed tests and detailed performance analysis.',\r\n\r\n  // Common\r\n  'common.loading': 'Loading...',\r\n  'common.delete': 'Delete',\r\n  'common.save': 'Save',\r\n  'common.cancel': 'Cancel',\r\n  'common.preview': 'Preview',\r\n  'common.submitting': 'Submitting...',\r\n\r\n  // Home\r\n  'home.title': 'Home',\r\n  'home.stats.unread': 'Unread notifications',\r\n  'home.stats.upcoming': 'Upcoming lessons',\r\n  'home.stats.rooms': 'Open talk rooms',\r\n  'home.stats.materials': 'Featured materials',\r\n  'home.shortcut.teachers': 'Find Teachers',\r\n  'home.shortcut.talk': 'Join VerbfyTalk',\r\n  'home.shortcut.materials': 'Free Materials',\r\n  'home.shortcut.cefr': 'CEFR Tests',\r\n  'home.upcoming': 'Your upcoming lessons',\r\n  'home.viewAll': 'View all',\r\n  'home.upcomingEmpty': 'No upcoming lessons yet',\r\n  'home.materialsEmpty': 'No featured materials yet',\r\n  'home.rooms': 'Open VerbfyTalk rooms',\r\n  'home.roomsEmpty': 'No rooms available right now',\r\n  'home.lesson': 'Lesson',\r\n  'home.manage': 'Manage',\r\n  'home.room': 'Room',\r\n  'home.private': 'Private',\r\n  'home.public': 'Public',\r\n\r\n  // Teachers\r\n  'teachers.title': 'Find Teachers',\r\n  'teachers.search': 'Search teachers',\r\n  'teachers.empty': 'No teachers found',\r\n  'teachers.detail': 'Teacher',\r\n  'teachers.availability': 'Availability (next 7 days)',\r\n  'teachers.noSlots': 'No slots',\r\n  'teachers.selected': 'Selected',\r\n  'teachers.book': 'Book Lesson',\r\n  'teachers.booked': 'Reservation created',\r\n  'teachers.bookError': 'Could not create reservation',\r\n\r\n  // Teacher schedule\r\n  'tschedule.title': 'My Schedule',\r\n  'tschedule.add': 'Add available slot',\r\n  'tschedule.date': 'Date',\r\n  'tschedule.time': 'Time',\r\n  'tschedule.duration': 'Duration (min)',\r\n  'tschedule.addBtn': 'Add Slot',\r\n  'tschedule.list': 'Upcoming availability',\r\n  'tschedule.empty': 'No availability yet',\r\n\r\n  // Teacher materials\r\n  'tmaterials.title': 'My Materials',\r\n  'tmaterials.upload': 'Upload new material',\r\n  'tmaterials.titleLabel': 'Title',\r\n  'tmaterials.level': 'Level',\r\n  'tmaterials.category': 'Category',\r\n  'tmaterials.description': 'Description',\r\n  'tmaterials.file': 'File',\r\n  'tmaterials.uploadBtn': 'Upload',\r\n  'tmaterials.edit': 'Edit Material',\r\n\r\n  // Teacher students\r\n  'tstudents.title': 'My Students',\r\n  'tstudents.empty': 'No students yet',\r\n\r\n  // Teacher earnings\r\n  'tearnings.title': 'Earnings',\r\n  'tearnings.empty': 'No earnings yet',\r\n  'tearnings.total': 'Total Earnings',\r\n  'tearnings.month': 'This Month',\r\n  'tearnings.sessions': 'Paid Sessions',\r\n\r\n  // VerbfyTalk actions\r\n  'talk.join': 'Join Room',\r\n  'talk.joining': 'Joining...',\r\n\r\n  // Admin common\r\n  'admin.search': 'Search...',\r\n  'admin.all': 'All',\r\n  'admin.pending': 'Pending',\r\n  'admin.approved': 'Approved',\r\n  'admin.rejected': 'Rejected',\r\n  'admin.actions': 'Actions',\r\n  'admin.name': 'Name',\r\n  'admin.email': 'Email',\r\n  'admin.user': 'User',\r\n  'admin.created': 'Created',\r\n  'admin.delete': 'Delete',\r\n  'admin.refund': 'Refund',\r\n  'admin.prev': 'Prev',\r\n  'admin.next': 'Next',\r\n  'admin.page': 'Page',\r\n  'admin.role': 'Role',\r\n  'admin.status': 'Status',\r\n  'admin.refresh': 'Refresh',\r\n  'admin.student': 'Student',\r\n  'admin.teacher': 'Teacher',\r\n  'admin.admin': 'Admin',\r\n  'admin.approve': 'Approve',\r\n  'admin.reject': 'Reject',\r\n\r\n  // Admin pages\r\n  'admin.materials.title': 'Admin  Materials',\r\n  'admin.materials.titleCol': 'Title',\r\n  'admin.materials.level': 'Level',\r\n  'admin.materials.category': 'Category',\r\n  'admin.materials.uploader': 'Uploader',\r\n  'admin.materials.status': 'Status',\r\n  'admin.materials.approve': 'Approve',\r\n  'admin.materials.reject': 'Unapprove',\r\n  'admin.materials.empty': 'No materials',\r\n\r\n  'admin.payments.title': 'Admin  Payments',\r\n  'admin.payments.amount': 'Amount',\r\n  'admin.succeeded': 'Succeeded',\r\n  'admin.refunded': 'Refunded',\r\n  'admin.failed': 'Failed',\r\n  'admin.payments.empty': 'No payments',\r\n\r\n  'admin.logs.title': 'Admin  Logs',\r\n  'admin.logs.empty': 'No logs',\r\n\r\n  'admin.users.title': 'User Management',\r\n  'admin.users.pending': 'Pending Teacher Applications',\r\n  'admin.users.noPending': 'No pending applications',\r\n  'admin.users.all': 'All Users',\r\n  'admin.users.empty': 'No users found',\r\n\r\n  // Reservations\r\n  'reservations.title': 'My Reservations',\r\n  'reservations.empty': 'No reservations yet',\r\n\r\n  // Materials\r\n  'materials.title': 'Free Materials',\r\n  'materials.search': 'Search materials',\r\n  'materials.empty': 'No materials found',\r\n\r\n  // VerbfyTalk\r\n  'talk.title': 'VerbfyTalk Rooms',\r\n  'talk.empty': 'No rooms available',\r\n};\r\n\r\nconst tr: Messages = {\r\n  'auth.login.title': 'Giri yap',\r\n  'auth.login.email': 'E-posta',\r\n  'auth.login.password': 'ifre',\r\n  'auth.login.submit': 'Giri yap',\r\n  'auth.login.welcome': 'renme yolculuunuza yeniden ho geldiniz',\r\n  'auth.login.emailPlaceholder': 'E-postanz girin',\r\n  'auth.login.passwordPlaceholder': 'ifrenizi girin',\r\n  'auth.login.remember': 'Beni hatrla',\r\n  'auth.login.forgot': 'ifrenizi mi unuttunuz?',\r\n  'auth.login.signingin': 'Giri yaplyor...',\r\n  'auth.login.or': 'Veya ununla devam edin',\r\n  'auth.login.google': 'Google ile giri yap',\r\n  'auth.login.outlook': 'Outlook ile giri yap',\r\n  'auth.login.apple': 'Apple ile giri yap',\r\n  'auth.login.new': 'Verbfyye yeni misiniz?',\r\n  'auth.login.join': 'Hemen Katl',\r\n\r\n  'auth.register.title': 'Hesap olutur',\r\n  'auth.register.tagline': 'renme devrimine katln',\r\n  'auth.register.name': 'Ad Soyad',\r\n  'auth.register.namePlaceholder': 'Adnz ve soyadnz girin',\r\n  'auth.register.email': 'Eposta Adresi',\r\n  'auth.register.emailPlaceholder': 'Epostanz girin',\r\n  'auth.register.password': 'ifre',\r\n  'auth.register.passwordPlaceholder': 'Gl bir ifre oluturun',\r\n  'auth.register.role': 'Katlmak istediim rol',\r\n  'auth.register.role.student': 'renci  ngilizce ren',\r\n  'auth.register.role.teacher': 'retmen  ngilizce ret (admin onay gerekir)',\r\n  'auth.register.creating': 'Hesap oluturuluyor...',\r\n  'auth.register.submit': 'Hesap olutur',\r\n  'auth.register.or': 'Veya u hesapla kaydol',\r\n  'auth.register.google': 'Google ile devam et',\r\n  'auth.register.outlook': 'Outlook ile devam et',\r\n  'auth.register.apple': 'Apple ile devam et',\r\n  'auth.register.have': 'Zaten hesabn var m?',\r\n  'auth.register.signin': 'Buradan giri yap',\r\n\r\n  'nav.profile': 'Profil',\r\n  'nav.dashboard': 'Panel',\r\n  'nav.verbfytalk': 'VerbfyTalk',\r\n  'nav.freeMaterials': 'cretsiz Materyaller',\r\n  'nav.verbfyLessons': 'Verbfy Dersleri',\r\n  'nav.cefrTests': 'CEFR Testleri',\r\n  'nav.curriculum': 'Kiiselletirilmi Mfredat',\r\n  'nav.aiLearning': 'Yapay Zek renme Asistan',\r\n  'nav.adaptive': 'Uyarlanabilir renme',\r\n  'nav.aiContent': 'YZ erik retimi',\r\n  'nav.chat': 'Sohbet',\r\n  'nav.materials': 'Materyaller',\r\n  'nav.payments': 'demeler',\r\n\r\n  'profile.save': 'Deiiklikleri Kaydet',\r\n  'profile.resendVerification': 'Dorulama e-postasn tekrar gnder',\r\n  'profile.emailVerified': 'E-postanz doruland.',\r\n  'profile.emailNotVerified': 'E-postanz dorulanmad.',\r\n  'profile.name': 'Ad',\r\n  'profile.email': 'Eposta',\r\n  'profile.bio': 'Biyografi',\r\n\r\n  'forgot.title': 'ifreyi Sfrla',\r\n  'forgot.email': 'Eposta',\r\n  'forgot.submit': 'Sfrlama Balants Gnder',\r\n\r\n  'reset.title': 'ifreyi Sfrla',\r\n  'reset.new': 'Yeni ifre (en az 8 karakter)',\r\n  'reset.confirm': 'ifreyi Dorula',\r\n  'reset.submit': 'ifreyi Sfrla',\r\n\r\n  'verify.title': 'Epostay Dorula',\r\n  'verify.success': 'Eposta doruland. Bu sayfay kapatabilir veya panele gidebilirsiniz.',\r\n  'verify.goDashboard': 'Panele git',\r\n\r\n  'footer.privacy': 'Gizlilik Politikas',\r\n  'footer.terms': 'Kullanm artlar',\r\n  'footer.help': 'Yardm Merkezi',\r\n  'footer.rights': 'Tm haklar sakldr.',\r\n\r\n  // Landing\r\n  'landing.nav.features': 'zellikler',\r\n  'landing.nav.how': 'Nasl alr',\r\n  'landing.nav.teachers': 'retmenler',\r\n  'landing.nav.pricing': 'Fiyatlandrma',\r\n  'landing.nav.levelTest': 'Seviyeni cretsiz Test Et',\r\n  'landing.nav.signIn': 'Giri Yap',\r\n  'landing.nav.getStarted': 'Hemen Bala',\r\n  'landing.nav.goDashboard': 'Panele Git',\r\n\r\n  'landing.hero.title1': 'ngilizceyi',\r\n  'landing.hero.title2': 'Uzman retmenlerle renin',\r\n  'landing.hero.subtitle': 'Canl dersler, kiiselletirilmi renme ve kantlanm yntemlerle binlerce renci arasna katln.',\r\n  'landing.hero.start': 'cretsiz Bala',\r\n  'landing.hero.demo': 'Demoyu zle',\r\n\r\n  'landing.features.title': 'Neden Verbfy?',\r\n  'landing.features.subtitle': 'Platformumuz, ileri teknoloji ile kantlanm retim yntemlerini birletirir.',\r\n  'landing.feature.liveTalk.title': 'Canl VerbfyTalk Odalar',\r\n  'landing.feature.liveTalk.desc': 'LiveKit destekli dk gecikmeli ses/grnt ile gerek zamanl konuma pratii.',\r\n  'landing.feature.aiLearning.title': 'YZ renme Asistan',\r\n  'landing.feature.aiLearning.desc': 'Kiiselletirilmi neriler, geri bildirim ve uyarlanabilir oturumlar.',\r\n  'landing.feature.lessons.title': 'Verbfy Dersleri',\r\n  'landing.feature.lessons.desc': 'CEFR uyumlu, gerek yaam senaryolaryla kurgulanm ders aklar.',\r\n  'landing.feature.freeMaterials.title': 'cretsiz Materyaller',\r\n  'landing.feature.freeMaterials.desc': 'zenle hazrlanm materyaller, altrmalar ve indirmeler.',\r\n  'landing.feature.cefr.title': 'CEFR Testleri',\r\n  'landing.feature.cefr.desc': 'lerlemenizi doru izlemek iin yerletirme ve pratik testler.',\r\n  'landing.feature.analytics.title': 'lerleme Analitii',\r\n  'landing.feature.analytics.desc': 'Beceri, seri ve rozetlerinizi net panolarla takip edin.',\r\n\r\n  // Featured materials\r\n  'landing.featuredMaterials.title': 'ne kan Materyaller',\r\n  'landing.featuredMaterials.subtitle': 'Becerilerinizi gelitirecek zenle seilmi cretsiz kaynaklar',\r\n  'landing.featuredMaterials.viewAll': 'Tmn gr',\r\n\r\n  'landing.how.title': 'Nasl alr',\r\n  'landing.how.subtitle': 'Sadece drt admda Verbfy ile balayn.',\r\n  'landing.how.step1.title': 'Kayt Ol',\r\n  'landing.how.step1.desc': 'cretsiz hesabnz oluturun ve profilinizi tamamlayn.',\r\n  'landing.how.step2.title': 'retmen Se',\r\n  'landing.how.step2.desc': 'Hedeflerinize ve programnza uygun retmeni bulun.',\r\n  'landing.how.step3.title': 'Ders Ayrt',\r\n  'landing.how.step3.desc': 'Size uyan zaman sein ve annda ayrtn.',\r\n  'landing.how.step4.title': 'renmeye Bala',\r\n  'landing.how.step4.desc': 'Canl oturumlara katln ve uyarlanabilir yolunuzu izleyin.',\r\n\r\n  'landing.teachers.title': 'Uzman retmenlerimizle Tann',\r\n  'landing.teachers.subtitle': 'Baar kantl, sertifikal ngilizce retmenleri.',\r\n  'landing.teachers.book': 'Ders Ayrt',\r\n\r\n  'landing.pricing.title': 'Plann Se',\r\n  'landing.pricing.subtitle': 'Hedeflerinize ve btenize uygun esnek paketler.',\r\n  'landing.pricing.popular': 'En Popler',\r\n  'landing.pricing.cta': 'Hemen Bala',\r\n\r\n  // Pricing details (TR)\r\n  'pricing.monthly.name': 'Aylk yelik',\r\n  'pricing.monthly.badge': 'Hediye 1 Token',\r\n  'pricing.monthly.f1': 'Snrsz platform eriimi',\r\n  'pricing.monthly.f2': 'Tm cretsiz materyaller',\r\n  'pricing.monthly.f3': 'Topluluk zellikleri',\r\n  'pricing.monthly.f4': '1 VerbfyToken hediyeli (25 dk 1:1 ders)',\r\n  'pricing.yearly.name': 'Yllk yelik',\r\n  'pricing.yearly.badge': 'En yi Seim  12 Token Hediye',\r\n  'pricing.yearly.f1': 'Aylk paketteki her ey',\r\n  'pricing.yearly.f2': 'ncelikli destek',\r\n  'pricing.yearly.f3': '12 VerbfyToken hediyeli (1225 dk 1:1 ders)',\r\n  'pricing.token.name': 'VerbfyToken (Eklenti)',\r\n  'pricing.token.title': '1 Token = 25 dk Bire bir zel Ders',\r\n  'pricing.token.f1': 'Her 25 dakikalk Bire bir zel Ders iin 1 token harcanr',\r\n  'pricing.token.f2': 'Token paketleri aktif abonelere sunulur',\r\n  'pricing.token.f3': 'Satn alma abonelik sonras yaplr',\r\n\r\n  'landing.cta.title': 'ngilizce Yolculuuna Hazr msnz?',\r\n  'landing.cta.subtitle': 'Verbfye gvenen binlerce renciye katln.',\r\n  'landing.cta.start': 'cretsiz Bala',\r\n  'landing.cta.learnMore': 'Daha Fazla Bilgi',\r\n\r\n  // Testimonials & FAQ\r\n  'landing.testimonials.title': 'renciler ne diyor',\r\n  'landing.testimonials.q1': 'Verbfy i toplantlarnda konuma zgvenimi artrd.',\r\n  'landing.testimonials.a1': 'Aylin, rn Yneticisi',\r\n  'landing.testimonials.q2': 'YZ nerileri dzenli kalmama ve gelimeme yardmc oldu.',\r\n  'landing.testimonials.a2': 'Deniz, niversite rencisi',\r\n  'landing.testimonials.q3': 'Canl dersler ok etkileyici ve pratikti.',\r\n  'landing.testimonials.a3': 'Emre, Yazlm Mhendisi',\r\n  'landing.faq.title': 'Sk sorulan sorular',\r\n  'landing.faq.q1': 'Canl dersler nasl alr?',\r\n  'landing.faq.a1': 'LiveKit destekli VerbfyTalk zerinden retmenlerle planl oturumlara katln.',\r\n  'landing.faq.q2': 'cretsiz renebilir miyim?',\r\n  'landing.faq.a2': 'Evet, yzlerce cretsiz materyal ve topluluk oturumu kefedebilirsiniz.',\r\n  'landing.faq.q3': 'Verbfy yeni balayanlar iin uygun mu?',\r\n  'landing.faq.a3': 'Kesinlikle. CEFR uyumlu modllerimiz A1den C2ye kadar kapsar.',\r\n  'landing.faq.q4': 'Sertifika veriyor musunuz?',\r\n  'landing.faq.a4': 'Evet, yol haritalarn tamamladnzda paylalabilir sertifikalar verilir.',\r\n\r\n  // Stats labels\r\n  'landing.stats.learners': 'Aktif renci',\r\n  'landing.stats.lessons': 'Gerekletirilen canl ders',\r\n  'landing.stats.teachers': 'Uzman retmen',\r\n  'landing.stats.rating': 'Ortalama puan',\r\n\r\n  // Footer blocks\r\n  'footer.blurb': 'Yeniliki teknoloji ve uzman retimle dnyann drt bir yannda ngilizce renmeyi glendiriyoruz.',\r\n  'footer.product': 'rn',\r\n  'footer.company': 'irket',\r\n  'footer.support': 'Destek',\r\n  'footer.links.features': 'zellikler',\r\n  'footer.links.pricing': 'Fiyatlandrma',\r\n  'footer.links.teachers': 'retmenler',\r\n  'footer.links.materials': 'Materyaller',\r\n  'footer.links.about': 'Hakkmzda',\r\n  'footer.links.careers': 'Kariyer',\r\n  'footer.links.blog': 'Blog',\r\n  'footer.links.contact': 'letiim',\r\n  'footer.cookie': 'erez Politikas',\r\n\r\n  // Verbfy suite descriptions\r\n  'suite.title': 'Dili tm boyutlaryla renin.',\r\n  'suite.subtitle': 'Konuma, dinleme, yazma, okuma, dil bilgisi ve snav hazrl iin zel olarak tasarlanm modller.',\r\n  'suite.more': 'Detay',\r\n  'suite.talk': 'Canl konuma odalar, doal diyaloglar ve anlk geri bildirimle akclnz artrn.',\r\n  'suite.listen': 'Podcastler, gnlk diyaloglar ve aksan eitliliiyle gerek hayata yakn dinleme pratii.',\r\n  'suite.write': 'Yazma grevleri, ablonlar ve yapay zek destekli geri bildirimle daha etkili yazn.',\r\n  'suite.read': 'Seviyeye uygun metinler, kelime almalar ve anlama sorularyla okuma becerinizi gelitirin.',\r\n  'suite.grammar': 'Konu anlatm, etkileimli altrmalar ve pekitirme testleriyle dil bilgisini sistemli renin.',\r\n  'suite.exam': 'CEFR uyumlu denemeler, zamanl snavlar ve ayrntl performans analiziyle hedef puannza hazrlann.',\r\n\r\n  // Common\r\n  'common.loading': 'Ykleniyor...',\r\n  'common.delete': 'Sil',\r\n  'common.save': 'Kaydet',\r\n  'common.cancel': 'ptal',\r\n  'common.preview': 'nizleme',\r\n  'common.submitting': 'Gnderiliyor...',\r\n\r\n  // Home\r\n  'home.title': 'Ana Sayfa',\r\n  'home.stats.unread': 'Okunmam bildirim',\r\n  'home.stats.upcoming': 'Yaklaan dersler',\r\n  'home.stats.rooms': 'Ak konuma odalar',\r\n  'home.stats.materials': 'ne kan materyaller',\r\n  'home.shortcut.teachers': 'retmen Bul',\r\n  'home.shortcut.talk': 'VerbfyTalka Katl',\r\n  'home.shortcut.materials': 'cretsiz Materyaller',\r\n  'home.shortcut.cefr': 'CEFR Testleri',\r\n  'home.upcoming': 'Yaklaan derslerin',\r\n  'home.viewAll': 'Tmn gr',\r\n  'home.upcomingEmpty': 'Yaklaan ders yok',\r\n  'home.materialsEmpty': 'ne kan materyal yok',\r\n  'home.rooms': 'Ak VerbfyTalk odalar',\r\n  'home.roomsEmpty': 'u anda oda yok',\r\n  'home.lesson': 'Ders',\r\n  'home.manage': 'Ynet',\r\n  'home.room': 'Oda',\r\n  'home.private': 'zel',\r\n  'home.public': 'Genel',\r\n\r\n  // Teachers\r\n  'teachers.title': 'retmen Bul',\r\n  'teachers.search': 'retmen ara',\r\n  'teachers.empty': 'retmen bulunamad',\r\n  'teachers.detail': 'retmen',\r\n  'teachers.availability': 'Msaitlik (7 gn)',\r\n  'teachers.noSlots': 'Uygun saat yok',\r\n  'teachers.selected': 'Seilen',\r\n  'teachers.book': 'Ders Ayrt',\r\n  'teachers.booked': 'Rezervasyon oluturuldu',\r\n  'teachers.bookError': 'Rezervasyon oluturulamad',\r\n\r\n  // Teacher schedule\r\n  'tschedule.title': 'Programm',\r\n  'tschedule.add': 'Msait saat ekle',\r\n  'tschedule.date': 'Tarih',\r\n  'tschedule.time': 'Saat',\r\n  'tschedule.duration': 'Sre (dk)',\r\n  'tschedule.addBtn': 'Slot Ekle',\r\n  'tschedule.list': 'Yaklaan msaitlikler',\r\n  'tschedule.empty': 'Henz msaitlik yok',\r\n\r\n  // Teacher materials\r\n  'tmaterials.title': 'Materyallerim',\r\n  'tmaterials.upload': 'Yeni materyal ykle',\r\n  'tmaterials.titleLabel': 'Balk',\r\n  'tmaterials.level': 'Seviye',\r\n  'tmaterials.category': 'Kategori',\r\n  'tmaterials.description': 'Aklama',\r\n  'tmaterials.file': 'Dosya',\r\n  'tmaterials.uploadBtn': 'Ykle',\r\n  'tmaterials.edit': 'Materyali Dzenle',\r\n\r\n  // Teacher students\r\n  'tstudents.title': 'rencilerim',\r\n  'tstudents.empty': 'Henz renci yok',\r\n\r\n  // Teacher earnings\r\n  'tearnings.title': 'Kazanlar',\r\n  'tearnings.empty': 'Henz kazan yok',\r\n  'tearnings.total': 'Toplam Kazan',\r\n  'tearnings.month': 'Bu Ay',\r\n  'tearnings.sessions': 'cretli Oturum',\r\n\r\n  // VerbfyTalk actions\r\n  'talk.join': 'Odaya Katl',\r\n  'talk.joining': 'Katlyor...',\r\n\r\n  // Admin common\r\n  'admin.search': 'Ara...',\r\n  'admin.all': 'Tm',\r\n  'admin.pending': 'Beklemede',\r\n  'admin.approved': 'Onayl',\r\n  'admin.rejected': 'Reddedildi',\r\n  'admin.actions': 'Aksiyonlar',\r\n  'admin.name': 'Ad',\r\n  'admin.email': 'Eposta',\r\n  'admin.user': 'Kullanc',\r\n  'admin.created': 'Oluturulma',\r\n  'admin.delete': 'Sil',\r\n  'admin.refund': 'ade',\r\n  'admin.prev': 'nceki',\r\n  'admin.next': 'Sonraki',\r\n  'admin.page': 'Sayfa',\r\n  'admin.role': 'Rol',\r\n  'admin.status': 'Durum',\r\n  'admin.refresh': 'Yenile',\r\n  'admin.student': 'renci',\r\n  'admin.teacher': 'retmen',\r\n  'admin.admin': 'Admin',\r\n  'admin.approve': 'Onayla',\r\n  'admin.reject': 'Reddet',\r\n\r\n  // Admin pages\r\n  'admin.materials.title': 'Admin  Materyaller',\r\n  'admin.materials.titleCol': 'Balk',\r\n  'admin.materials.level': 'Seviye',\r\n  'admin.materials.category': 'Kategori',\r\n  'admin.materials.uploader': 'Ykleyen',\r\n  'admin.materials.status': 'Durum',\r\n  'admin.materials.approve': 'Onayla',\r\n  'admin.materials.reject': 'Onay Kaldr',\r\n  'admin.materials.empty': 'Materyal yok',\r\n\r\n  'admin.payments.title': 'Admin  demeler',\r\n  'admin.payments.amount': 'Tutar',\r\n  'admin.succeeded': 'Baarl',\r\n  'admin.refunded': 'ade Edildi',\r\n  'admin.failed': 'Baarsz',\r\n  'admin.payments.empty': 'deme yok',\r\n\r\n  'admin.logs.title': 'Admin  Loglar',\r\n  'admin.logs.empty': 'Log yok',\r\n\r\n  'admin.users.title': 'Kullanc Ynetimi',\r\n  'admin.users.pending': 'Bekleyen retmen Bavurular',\r\n  'admin.users.noPending': 'Bekleyen bavuru yok',\r\n  'admin.users.all': 'Tm Kullanclar',\r\n  'admin.users.empty': 'Kullanc bulunamad',\r\n\r\n  // Reservations\r\n  'reservations.title': 'Rezervasyonlarm',\r\n  'reservations.empty': 'Rezervasyon yok',\r\n\r\n  // Materials\r\n  'materials.title': 'cretsiz Materyaller',\r\n  'materials.search': 'Materyal ara',\r\n  'materials.empty': 'Materyal bulunamad',\r\n\r\n  // VerbfyTalk\r\n  'talk.title': 'VerbfyTalk Odalar',\r\n  'talk.empty': 'Uygun oda yok',\r\n};\r\n\r\nconst messagesByLocale: Record<Locale, Messages> = { en, tr };\r\n\r\nexport function I18nProvider({ children }: { children: React.ReactNode }) {\r\n  const [locale, setLocale] = useState<Locale>('en');\r\n\r\n  useEffect(() => {\r\n    const saved = typeof window !== 'undefined' ? (localStorage.getItem('locale') as Locale | null) : null;\r\n    if (saved && (saved === 'en' || saved === 'tr')) {\r\n      setLocale(saved);\r\n    } else if (typeof navigator !== 'undefined') {\r\n      const lang = navigator.language?.toLowerCase() || '';\r\n      if (lang.startsWith('tr')) setLocale('tr');\r\n    }\r\n  }, []);\r\n\r\n  const value = useMemo<I18nContextValue>(() => ({\r\n    locale,\r\n    setLocale: (loc: Locale) => {\r\n      setLocale(loc);\r\n      if (typeof window !== 'undefined') localStorage.setItem('locale', loc);\r\n    },\r\n    t: (key: string, fallback?: string) => messagesByLocale[locale][key] ?? fallback ?? key,\r\n  }), [locale]);\r\n\r\n  return <I18nContext.Provider value={value}>{children}</I18nContext.Provider>;\r\n}\r\n\r\nexport function useI18n() {\r\n  const ctx = useContext(I18nContext);\r\n  if (!ctx) throw new Error('useI18n must be used within I18nProvider');\r\n  return ctx;\r\n}\r\n\r\n\r\n","/**\r\n * Secure storage utility for handling sensitive data\r\n * Uses httpOnly cookies when possible, falls back to sessionStorage for client-side\r\n */\r\n\r\nconst TOKEN_KEY = 'verbfy_token';\r\nconst USER_KEY = 'verbfy_user';\r\n\r\n// Check if we're in a browser environment\r\nconst isBrowser = typeof window !== 'undefined';\r\n\r\n// Check if cookies are supported\r\nconst areCookiesSupported = (): boolean => {\r\n  if (!isBrowser) return false;\r\n  \r\n  try {\r\n    document.cookie = 'test=1';\r\n    const hasCookie = document.cookie.indexOf('test=') !== -1;\r\n    document.cookie = 'test=1; expires=Thu, 01 Jan 1970 00:00:00 GMT';\r\n    return hasCookie;\r\n  } catch {\r\n    return false;\r\n  }\r\n};\r\n\r\n// Secure storage interface\r\ninterface SecureStorage {\r\n  setItem(key: string, value: string): void;\r\n  getItem(key: string): string | null;\r\n  removeItem(key: string): void;\r\n  clear(): void;\r\n}\r\n\r\n// Cookie-based storage (more secure)\r\nclass CookieStorage implements SecureStorage {\r\n  setItem(key: string, value: string): void {\r\n    if (!isBrowser) return;\r\n    \r\n    const expires = new Date();\r\n    expires.setTime(expires.getTime() + (7 * 24 * 60 * 60 * 1000)); // 7 days\r\n    \r\n    document.cookie = `${key}=${encodeURIComponent(value)}; expires=${expires.toUTCString()}; path=/; SameSite=Strict; Secure`;\r\n  }\r\n  \r\n  getItem(key: string): string | null {\r\n    if (!isBrowser) return null;\r\n    \r\n    const nameEQ = key + '=';\r\n    const ca = document.cookie.split(';');\r\n    \r\n    for (let i = 0; i < ca.length; i++) {\r\n      let c = ca[i];\r\n      while (c.charAt(0) === ' ') c = c.substring(1, c.length);\r\n      if (c.indexOf(nameEQ) === 0) {\r\n        return decodeURIComponent(c.substring(nameEQ.length, c.length));\r\n      }\r\n    }\r\n    \r\n    return null;\r\n  }\r\n  \r\n  removeItem(key: string): void {\r\n    if (!isBrowser) return;\r\n    \r\n    document.cookie = `${key}=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/`;\r\n  }\r\n  \r\n  clear(): void {\r\n    if (!isBrowser) return;\r\n    \r\n    const cookies = document.cookie.split(';');\r\n    \r\n    for (let i = 0; i < cookies.length; i++) {\r\n      const cookie = cookies[i];\r\n      const eqPos = cookie.indexOf('=');\r\n      const name = eqPos > -1 ? cookie.substr(0, eqPos) : cookie;\r\n      document.cookie = `${name}=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/`;\r\n    }\r\n  }\r\n}\r\n\r\n// SessionStorage-based storage (fallback)\r\nclass SessionStorage implements SecureStorage {\r\n  setItem(key: string, value: string): void {\r\n    if (!isBrowser) return;\r\n    \r\n    try {\r\n      sessionStorage.setItem(key, value);\r\n    } catch (error) {\r\n      console.warn('SessionStorage not available, falling back to memory storage');\r\n      // Fallback to memory storage (will be lost on page refresh)\r\n      (window as any).__verbfy_memory_storage = (window as any).__verbfy_memory_storage || {};\r\n      (window as any).__verbfy_memory_storage[key] = value;\r\n    }\r\n  }\r\n  \r\n  getItem(key: string): string | null {\r\n    if (!isBrowser) return null;\r\n    \r\n    try {\r\n      return sessionStorage.getItem(key);\r\n    } catch (error) {\r\n      // Fallback to memory storage\r\n      return (window as any).__verbfy_memory_storage?.[key] || null;\r\n    }\r\n  }\r\n  \r\n  removeItem(key: string): void {\r\n    if (!isBrowser) return;\r\n    \r\n    try {\r\n      sessionStorage.removeItem(key);\r\n    } catch (error) {\r\n      // Fallback to memory storage\r\n      if ((window as any).__verbfy_memory_storage) {\r\n        delete (window as any).__verbfy_memory_storage[key];\r\n      }\r\n    }\r\n  }\r\n  \r\n  clear(): void {\r\n    if (!isBrowser) return;\r\n    \r\n    try {\r\n      sessionStorage.clear();\r\n    } catch (error) {\r\n      // Fallback to memory storage\r\n      (window as any).__verbfy_memory_storage = {};\r\n    }\r\n  }\r\n}\r\n\r\n// Choose the best available storage method\r\nconst storage: SecureStorage = areCookiesSupported() ? new CookieStorage() : new SessionStorage();\r\n\r\n// Token management functions\r\nexport const tokenStorage = {\r\n  setToken: (token: string): void => {\r\n    storage.setItem(TOKEN_KEY, token);\r\n  },\r\n  \r\n  getToken: (): string | null => {\r\n    return storage.getItem(TOKEN_KEY);\r\n  },\r\n  \r\n  removeToken: (): void => {\r\n    storage.removeItem(TOKEN_KEY);\r\n  },\r\n  \r\n  setUser: (user: any): void => {\r\n    storage.setItem(USER_KEY, JSON.stringify(user));\r\n  },\r\n  \r\n  getUser: (): any => {\r\n    const userStr = storage.getItem(USER_KEY);\r\n    if (!userStr) return null;\r\n    \r\n    try {\r\n      return JSON.parse(userStr);\r\n    } catch {\r\n      return null;\r\n    }\r\n  },\r\n  \r\n  removeUser: (): void => {\r\n    storage.removeItem(USER_KEY);\r\n  },\r\n  \r\n  clear: (): void => {\r\n    storage.clear();\r\n  }\r\n};\r\n\r\n// Legacy compatibility functions (for backward compatibility)\r\nexport const getStoredToken = (): string | null => {\r\n  return tokenStorage.getToken();\r\n};\r\n\r\nexport const setStoredToken = (token: string): void => {\r\n  tokenStorage.setToken(token);\r\n};\r\n\r\nexport const removeStoredToken = (): void => {\r\n  tokenStorage.removeToken();\r\n}; ","// extracted by mini-css-extract-plugin"],"names":["window","__NEXT_P","push","__webpack_require__","_sentryCollisionFreeGlobalObject","undefined","App","param","Component","pageProps","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","jsx","I18nProvider","AuthProvider","ToastProvider","ChatProvider","NotificationProvider","AdminProvider","ToastContext","createContext","children","toasts","setToasts","useState","showToast","type","message","duration","id","Math","random","toString","substring","newToast","prev","setTimeout","removeToast","filter","toast","jsxs","Provider","value","success","error","warning","info","ToastContainer","useToast","context","useContext","length","div","className","map","ToastItem","onRemove","styles","getToastStyles","icon","bgColor","borderColor","textColor","iconColor","concat","role","aria-live","p","button","onClick","aria-label","svg","fill","viewBox","stroke","path","strokeLinecap","strokeLinejoin","strokeWidth","d","console","warn","initialState","overview","overviewLoading","users","usersLoading","usersPagination","selectedUser","materials","materialsLoading","materialsPagination","selectedMaterial","payments","paymentsLoading","paymentsPagination","selectedPayment","logs","logsLoading","logsPagination","userFilters","materialFilters","paymentFilters","logFilters","adminReducer","state","action","payload","pagination","user","_id","material","payment","AdminContext","dispatch","useReducer","loadOverview","response","adminAPI","getOverview","data","loadUsers","page","filters","params","limit","getUsers","loadUserById","getUserById","updateUserRole","updateUserStatus","status","deleteUser","loadMaterials","getMaterials","approveMaterial","approved","deleteMaterial","loadPayments","getPayments","refundPayment","loadLogs","getLogs","setSelectedUser","setUserFilters","setSelectedMaterial","setMaterialFilters","setSelectedPayment","setPaymentFilters","setLogFilters","useAdmin","AuthContext","setUser","isLoading","setIsLoading","router","useRouter","useEffect","publicAuthPages","includes","pathname","loadUser","tokenStorage","getToken","log","authAPI","getCurrentUser","clear","retryAfter","location","href","login","email","password","accessToken","userData","token","userWithId","provided","setToken","_error","register","newUser","logout","refreshUser","updatedUser","isAuthenticated","loading","setAccessToken","useAuth","useAuthContext","useRoleGuard","allowedRoles","hasAccess","conversations","currentConversation","messages","unreadCount","typingUsers","Set","chatReducer","conv","conversationId","lastMessage","content","sender","timestamp","createdAt","updatedAt","newTypingUsers","isTyping","add","userId","delete","ChatContext","showError","showSuccess","socketRef","useRef","typingTimeoutRef","base","process","env","NEXT_PUBLIC_API_BASE_URL","replace","socket","io","transports","withCredentials","auth","current","on","disconnect","loadConversations","api","get","errorMessage","loadMessages","sendMessage","post","emit","markAsRead","patch","setTyping","clearTimeout","loadUnreadCount","actions","joinConversation","leaveConversation","useChat","notifications","total","pages","notificationReducer","notification","isRead","readAt","Date","toISOString","max","NotificationContext","createSocket","useCallback","tok","createdSocket","autoConnect","reconnection","reconnectionAttempts","reconnectionDelay","reconnectionDelayMax","timeout","forceNew","upgrade","rememberUpgrade","e","reason","connect","attemptNumber","addNotification","fetchNotifications","URLSearchParams","Object","entries","forEach","key","append","markAllAsRead","deleteNotification","config","getNotificationConfig","configs","reservation","admin","lesson","system","title","body","style","background","color","getUnreadCount","isActive","localSocket","r","refreshToken","access","_","off","interval","setInterval","clearInterval","useNotifications","_api_interceptors","_api_interceptors1","_axios_create","axios__WEBPACK_IMPORTED_MODULE_1__","Z","create","call","axios","baseURL","trimmed","raw","hostname","headers","corsTestAPI","testCORS","interceptors","request","use","Authorization","isWrite","method","toLowerCase","document","match","cookie","csrf","decodeURIComponent","uuidv4","Promise","reject","require","alert","credentials","then","userAPI","getProfile","updateProfile","put","uploadAvatar","form","FormData","file","getPresignedUploadUrl","contentType","reservationAPI","getReservations","createReservation","updateReservation","deleteReservation","availabilityAPI","getAvailability","teacherId","setAvailability","updateAvailability","deleteAvailability","notificationAPI","getNotifications","paymentAPI","createCheckoutSession","getPaymentHistory","getProducts","getPaymentStats","paymentId","getStats","getActivities","verbfyTalkAPI","getRooms","level","isPrivate","getUserRooms","createRoom","roomData","getRoomDetails","roomId","joinRoom","joinData","leaveRoom","updateRoom","deleteRoom","freeMaterialsAPI","category","search","sortBy","sortOrder","featured","getFeaturedMaterials","getCategories","getLevels","getMaterial","uploadMaterial","materialData","formData","description","tags","isFeatured","rateMaterial","rating","updateMaterial","downloadMaterial","responseType","lessonAPI","getStudentLessons","getLesson","joinLesson","lessonId","leaveLesson","verbfyLessonsAPI","getLessons","createLesson","updateLesson","deleteLesson","startLesson","submitLesson","attemptId","cefrTestsAPI","getTests","getTest","testId","startTest","submitTest","getTestAttempt","getTestStats","getPlacementRecommendation","seedGlobalPlacement","seedKidsA1B1","seedAdultsA1B2","seedAdvancedB1C2","personalizedCurriculumAPI","createCurriculum","getCurriculum","updateProgress","updateStudySchedule","getAnalytics","getRecommendations","completeRecommendation","recommendationId","getStudySchedule","addStudySession","completeStudySession","sessionId","setApiAccessToken","localStorage","setItem","gamesAPI","list","aiLearningAPI","createSession","getAIResponse","getSessions","updateSessionProgress","generateRecommendations","getSessionAnalytics","adaptiveLearningAPI","createPath","getPaths","getPath","pathId","updateModuleProgress","getPathAnalytics","teacherAnalyticsAPI","generateAnalytics","getStudentPerformance","getLessonAnalytics","getEngagementMetrics","aiFeaturesAPI","startTutoringSession","sendTutoringMessage","endTutoringSession","getTutoringSessions","getTutoringSession","generateContent","getGeneratedContent","getContent","contentId","reviewContent","updateContent","deleteContent","getUserProgress","getModelInfo","updateModelSettings","__webpack_exports__","ZP","I18nContext","messagesByLocale","en","tr","locale","setLocale","saved","getItem","navigator","lang","language","startsWith","useMemo","loc","t","fallback","useI18n","ctx","TOKEN_KEY","USER_KEY","CookieStorage","expires","setTime","getTime","encodeURIComponent","toUTCString","nameEQ","ca","split","i","c","charAt","indexOf","removeItem","cookies","eqPos","name","substr","SessionStorage","sessionStorage","__verbfy_memory_storage","_window___verbfy_memory_storage","storage","areCookiesSupported","hasCookie","removeToken","JSON","stringify","getUser","userStr","parse","removeUser","getStoredToken","setStoredToken","removeStoredToken"],"sourceRoot":""}