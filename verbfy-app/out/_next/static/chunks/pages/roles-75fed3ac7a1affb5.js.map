{"version":3,"file":"static/chunks/pages/roles-75fed3ac7a1affb5.js","mappings":"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","sources":["webpack://_N_E/?f860","webpack://_N_E/./src/components/roles/RoleList.tsx","webpack://_N_E/./src/components/roles/RoleForm.tsx","webpack://_N_E/./pages/roles/index.tsx","webpack://_N_E/./src/lib/toast.ts"],"sourcesContent":["\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/roles\",\n      function () {\n        return require(\"private-next-pages/roles/index.tsx\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/roles\"])\n      });\n    }\n  ","import React, { useState, useEffect } from 'react';\nimport { Role } from '@/types/roles';\nimport api from '@/lib/api';\n\ninterface RoleListProps {\n  organizationId: string;\n  onSelectRole: (role: Role) => void;\n  onCreateNew: () => void;\n}\n\nexport default function RoleList({ organizationId, onSelectRole, onCreateNew }: RoleListProps) {\n  const [roles, setRoles] = useState<Role[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [filterType, setFilterType] = useState<string>('all');\n  const [sortBy, setSortBy] = useState<string>('name');\n\n  useEffect(() => {\n    fetchRoles();\n  }, [organizationId]);\n\n  const fetchRoles = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      const response = await api.get(`/api/roles/${organizationId}`);\n      setRoles(response.data.data);\n    } catch (err: any) {\n      setError(err.response?.data?.message || 'Failed to fetch roles');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const filteredRoles = roles\n    .filter(role => {\n      const matchesSearch = role.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                           (role.description && role.description.toLowerCase().includes(searchTerm.toLowerCase()));\n      const matchesType = filterType === 'all' || role.type === filterType;\n      return matchesSearch && matchesType;\n    })\n    .sort((a, b) => {\n      switch (sortBy) {\n        case 'name':\n          return a.name.localeCompare(b.name);\n        case 'type':\n          return a.type.localeCompare(b.type);\n        case 'priority':\n          return b.priority - a.priority;\n        case 'created':\n          return new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime();\n        default:\n          return 0;\n      }\n    });\n\n  const getTypeColor = (type: string) => {\n    switch (type) {\n      case 'system':\n        return 'bg-purple-100 text-purple-800';\n      case 'custom':\n        return 'bg-blue-100 text-blue-800';\n      case 'inherited':\n        return 'bg-green-100 text-green-800';\n      default:\n        return 'bg-gray-100 text-gray-800';\n    }\n  };\n\n  const getPermissionCount = (role: Role) => {\n    let count = 0;\n    Object.values(role.permissions).forEach(category => {\n      Object.values(category).forEach(permission => {\n        if (permission) count++;\n      });\n    });\n    return count;\n  };\n\n  const getTotalPermissions = (role: Role) => {\n    let total = 0;\n    Object.values(role.permissions).forEach(category => {\n      total += Object.keys(category).length;\n    });\n    return total;\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-64\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"></div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"bg-red-50 border border-red-200 rounded-md p-4\">\n        <div className=\"flex\">\n          <div className=\"flex-shrink-0\">\n            <svg className=\"h-5 w-5 text-red-400\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n              <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\" clipRule=\"evenodd\" />\n            </svg>\n          </div>\n          <div className=\"ml-3\">\n            <h3 className=\"text-sm font-medium text-red-800\">Error</h3>\n            <div className=\"mt-2 text-sm text-red-700\">{error}</div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h2 className=\"text-2xl font-bold text-gray-900\">Roles</h2>\n          <p className=\"text-gray-600\">Manage roles and their permissions</p>\n        </div>\n        <button\n          onClick={onCreateNew}\n          className=\"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n        >\n          Create Role\n        </button>\n      </div>\n\n      {/* Filters and Search */}\n      <div className=\"bg-white rounded-lg shadow p-6\">\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Search</label>\n            <input\n              type=\"text\"\n              placeholder=\"Search roles...\"\n              value={searchTerm}\n              onChange={(e) => setSearchTerm(e.target.value)}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            />\n          </div>\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Filter by Type</label>\n            <select\n              value={filterType}\n              onChange={(e) => setFilterType(e.target.value)}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            >\n              <option value=\"all\">All Types</option>\n              <option value=\"system\">System</option>\n              <option value=\"custom\">Custom</option>\n              <option value=\"inherited\">Inherited</option>\n            </select>\n          </div>\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Sort By</label>\n            <select\n              value={sortBy}\n              onChange={(e) => setSortBy(e.target.value)}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            >\n              <option value=\"name\">Name</option>\n              <option value=\"type\">Type</option>\n              <option value=\"priority\">Priority</option>\n              <option value=\"created\">Date Created</option>\n            </select>\n          </div>\n        </div>\n      </div>\n\n      {/* Roles Grid */}\n      {filteredRoles.length === 0 ? (\n        <div className=\"text-center py-12\">\n          <svg className=\"mx-auto h-12 w-12 text-gray-400\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z\" />\n          </svg>\n          <h3 className=\"mt-2 text-sm font-medium text-gray-900\">No roles found</h3>\n          <p className=\"mt-1 text-sm text-gray-500\">\n            {searchTerm || filterType !== 'all' \n              ? 'Try adjusting your search or filter criteria.'\n              : 'Get started by creating a new role.'\n            }\n          </p>\n          {!searchTerm && filterType === 'all' && (\n            <div className=\"mt-6\">\n              <button\n                onClick={onCreateNew}\n                className=\"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n              >\n                Create Role\n              </button>\n            </div>\n          )}\n        </div>\n      ) : (\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n          {filteredRoles.map((role) => (\n            <div\n              key={role._id}\n              onClick={() => onSelectRole(role)}\n              className=\"bg-white rounded-lg shadow hover:shadow-lg transition-shadow cursor-pointer\"\n            >\n              <div className=\"p-6\">\n                {/* Role Header */}\n                <div className=\"flex items-start justify-between mb-4\">\n                  <div className=\"flex-1\">\n                    <h3 className=\"text-lg font-semibold text-gray-900 truncate\">\n                      {role.name}\n                    </h3>\n                    {role.description && (\n                      <p className=\"text-sm text-gray-500 mt-1 line-clamp-2\">{role.description}</p>\n                    )}\n                  </div>\n                  <div className=\"flex flex-col items-end space-y-2\">\n                    <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${getTypeColor(role.type)}`}>\n                      {role.type}\n                    </span>\n                    <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800\">\n                      Priority: {role.priority}\n                    </span>\n                  </div>\n                </div>\n\n                {/* Role Details */}\n                <div className=\"space-y-3\">\n                  <div className=\"flex items-center text-sm text-gray-600\">\n                    <svg className=\"w-4 h-4 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z\" />\n                    </svg>\n                    {getPermissionCount(role)} of {getTotalPermissions(role)} permissions\n                  </div>\n\n                  {role.parentRoleId && (\n                    <div className=\"flex items-center text-sm text-gray-600\">\n                      <svg className=\"w-4 h-4 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4\" />\n                      </svg>\n                      Inherits from parent role\n                    </div>\n                  )}\n\n                  <div className=\"flex items-center text-sm text-gray-600\">\n                    <svg className=\"w-4 h-4 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z\" />\n                    </svg>\n                    Role created {new Date(role.createdAt).toLocaleDateString()}\n                  </div>\n\n                  {/* Permission Summary */}\n                  <div className=\"pt-3 border-t border-gray-200\">\n                    <p className=\"text-xs font-medium text-gray-700 mb-2\">Key Permissions:</p>\n                    <div className=\"flex flex-wrap gap-1\">\n                      {Object.entries(role.permissions).slice(0, 3).map(([category, permissions]) => {\n                        const hasPermissions = Object.values(permissions).some(p => p);\n                        if (hasPermissions) {\n                          return (\n                            <span key={category} className=\"inline-flex items-center px-2 py-1 rounded-full text-xs bg-blue-100 text-blue-800\">\n                              {category}\n                            </span>\n                          );\n                        }\n                        return null;\n                      })}\n                      {Object.entries(role.permissions).filter(([_, permissions]) => \n                        Object.values(permissions).some(p => p)\n                      ).length > 3 && (\n                        <span className=\"inline-flex items-center px-2 py-1 rounded-full text-xs bg-gray-100 text-gray-600\">\n                          +{Object.entries(role.permissions).filter(([_, permissions]) => \n                            Object.values(permissions).some(p => p)\n                          ).length - 3} more\n                        </span>\n                      )}\n                    </div>\n                  </div>\n                </div>\n\n                {/* Created Date */}\n                <div className=\"mt-4 pt-4 border-t border-gray-200\">\n                  <p className=\"text-xs text-gray-500\">\n                    Created {new Date(role.createdAt).toLocaleDateString()}\n                  </p>\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n\n      {/* Results Summary */}\n      {filteredRoles.length > 0 && (\n        <div className=\"bg-white rounded-lg shadow p-4\">\n          <p className=\"text-sm text-gray-600\">\n            Showing {filteredRoles.length} of {roles.length} roles\n          </p>\n        </div>\n      )}\n    </div>\n  );\n} ","import React, { useState, useEffect } from 'react';\nimport { Role, CreateRoleRequest, UpdateRoleRequest } from '@/types/roles';\n\ninterface RoleFormProps {\n  role?: Role;\n  organizationId: string;\n  onSubmit: (data: CreateRoleRequest | UpdateRoleRequest) => void;\n  onCancel: () => void;\n  loading?: boolean;\n}\n\nexport default function RoleForm({ role, organizationId, onSubmit, onCancel, loading = false }: RoleFormProps) {\n  const [formData, setFormData] = useState<CreateRoleRequest>({\n    name: '',\n    description: '',\n    type: 'custom',\n    parentRoleId: undefined,\n    permissions: {\n      users: { view: false, create: false, edit: false, delete: false, bulk_operations: false },\n      content: { view: false, create: false, edit: false, delete: false, approve: false, publish: false },\n      lessons: { view: false, create: false, edit: false, delete: false, assign: false, grade: false },\n      analytics: { view: false, export: false, custom_reports: false, system_analytics: false },\n      organization: { view_settings: false, edit_settings: false, manage_billing: false, manage_branding: false, manage_integrations: false },\n      roles: { view: false, create: false, edit: false, delete: false, assign: false },\n      ai: { use_content_generation: false, use_learning_assistant: false, use_analytics: false, manage_ai_settings: false },\n      communication: { send_messages: false, create_rooms: false, moderate_chat: false, send_notifications: false },\n      financial: { view_payments: false, process_refunds: false, view_reports: false, manage_subscriptions: false },\n      system: { view_logs: false, manage_backups: false, system_settings: false, security_settings: false }\n    },\n    constraints: {\n      maxUsers: undefined,\n      maxContent: undefined,\n      maxStorage: undefined,\n      allowedFileTypes: [],\n      maxFileSize: undefined,\n      sessionTimeout: undefined,\n      aiDailyLimit: undefined\n    }\n  });\n\n  useEffect(() => {\n    if (role) {\n      setFormData({\n        name: role.name,\n        description: role.description || '',\n        type: role.type,\n        parentRoleId: role.parentRoleId,\n        permissions: role.permissions,\n        constraints: role.constraints\n      });\n    }\n  }, [role]);\n\n  const handleInputChange = (field: string, value: any) => {\n    setFormData(prev => ({\n      ...prev,\n      [field]: value\n    }));\n  };\n\n  const handlePermissionChange = (category: string, permission: string, value: boolean) => {\n    setFormData(prev => ({\n      ...prev,\n      permissions: {\n        ...prev.permissions,\n        [category]: {\n          ...prev.permissions?.[category as keyof typeof prev.permissions],\n          [permission]: value\n        }\n      }\n    }));\n  };\n\n  const handleConstraintChange = (constraint: string, value: any) => {\n    setFormData(prev => ({\n      ...prev,\n      constraints: {\n        ...prev.constraints,\n        [constraint]: value\n      }\n    }));\n  };\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    onSubmit(formData);\n  };\n\n  const permissionCategories = [\n    {\n      name: 'users',\n      label: 'User Management',\n      description: 'Manage users and their accounts',\n      permissions: [\n        { key: 'view', label: 'View Users' },\n        { key: 'create', label: 'Create Users' },\n        { key: 'edit', label: 'Edit Users' },\n        { key: 'delete', label: 'Delete Users' },\n        { key: 'bulk_operations', label: 'Bulk Operations' }\n      ]\n    },\n    {\n      name: 'content',\n      label: 'Content Management',\n      description: 'Manage learning materials and content',\n      permissions: [\n        { key: 'view', label: 'View Content' },\n        { key: 'create', label: 'Create Content' },\n        { key: 'edit', label: 'Edit Content' },\n        { key: 'delete', label: 'Delete Content' },\n        { key: 'approve', label: 'Approve Content' },\n        { key: 'publish', label: 'Publish Content' }\n      ]\n    },\n    {\n      name: 'lessons',\n      label: 'Lesson Management',\n      description: 'Manage lessons and learning sessions',\n      permissions: [\n        { key: 'view', label: 'View Lessons' },\n        { key: 'create', label: 'Create Lessons' },\n        { key: 'edit', label: 'Edit Lessons' },\n        { key: 'delete', label: 'Delete Lessons' },\n        { key: 'assign', label: 'Assign Lessons' },\n        { key: 'grade', label: 'Grade Lessons' }\n      ]\n    },\n    {\n      name: 'analytics',\n      label: 'Analytics & Reports',\n      description: 'Access to analytics and reporting features',\n      permissions: [\n        { key: 'view', label: 'View Analytics' },\n        { key: 'export', label: 'Export Reports' },\n        { key: 'custom_reports', label: 'Create Custom Reports' },\n        { key: 'system_analytics', label: 'System Analytics' }\n      ]\n    },\n    {\n      name: 'organization',\n      label: 'Organization Settings',\n      description: 'Manage organization configuration',\n      permissions: [\n        { key: 'view_settings', label: 'View Settings' },\n        { key: 'edit_settings', label: 'Edit Settings' },\n        { key: 'manage_billing', label: 'Manage Billing' },\n        { key: 'manage_branding', label: 'Manage Branding' },\n        { key: 'manage_integrations', label: 'Manage Integrations' }\n      ]\n    },\n    {\n      name: 'roles',\n      label: 'Role Management',\n      description: 'Manage roles and permissions',\n      permissions: [\n        { key: 'view', label: 'View Roles' },\n        { key: 'create', label: 'Create Roles' },\n        { key: 'edit', label: 'Edit Roles' },\n        { key: 'delete', label: 'Delete Roles' },\n        { key: 'assign', label: 'Assign Roles' }\n      ]\n    },\n    {\n      name: 'ai',\n      label: 'AI Features',\n      description: 'Access to AI-powered features',\n      permissions: [\n        { key: 'use_content_generation', label: 'Use Content Generation' },\n        { key: 'use_learning_assistant', label: 'Use Learning Assistant' },\n        { key: 'use_analytics', label: 'Use AI Analytics' },\n        { key: 'manage_ai_settings', label: 'Manage AI Settings' }\n      ]\n    },\n    {\n      name: 'communication',\n      label: 'Communication',\n      description: 'Manage communication features',\n      permissions: [\n        { key: 'send_messages', label: 'Send Messages' },\n        { key: 'create_rooms', label: 'Create Rooms' },\n        { key: 'moderate_chat', label: 'Moderate Chat' },\n        { key: 'send_notifications', label: 'Send Notifications' }\n      ]\n    },\n    {\n      name: 'financial',\n      label: 'Financial Management',\n      description: 'Manage financial operations',\n      permissions: [\n        { key: 'view_payments', label: 'View Payments' },\n        { key: 'process_refunds', label: 'Process Refunds' },\n        { key: 'view_reports', label: 'View Financial Reports' },\n        { key: 'manage_subscriptions', label: 'Manage Subscriptions' }\n      ]\n    },\n    {\n      name: 'system',\n      label: 'System Administration',\n      description: 'System-level administration',\n      permissions: [\n        { key: 'view_logs', label: 'View Logs' },\n        { key: 'manage_backups', label: 'Manage Backups' },\n        { key: 'system_settings', label: 'System Settings' },\n        { key: 'security_settings', label: 'Security Settings' }\n      ]\n    }\n  ];\n\n  return (\n    <form onSubmit={handleSubmit} className=\"space-y-6\">\n      {/* Basic Information */}\n      <div className=\"bg-white p-6 rounded-lg shadow\">\n        <h3 className=\"text-lg font-semibold mb-4\">Basic Information</h3>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Role Name *\n            </label>\n            <input\n              type=\"text\"\n              value={formData.name}\n              onChange={(e) => handleInputChange('name', e.target.value)}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              required\n            />\n          </div>\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Role Type\n            </label>\n            <select\n              value={formData.type}\n              onChange={(e) => handleInputChange('type', e.target.value)}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            >\n              <option value=\"system\">System</option>\n              <option value=\"custom\">Custom</option>\n              <option value=\"inherited\">Inherited</option>\n            </select>\n          </div>\n          <div className=\"md:col-span-2\">\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Description\n            </label>\n            <textarea\n              value={formData.description}\n              onChange={(e) => handleInputChange('description', e.target.value)}\n              rows={3}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              placeholder=\"Describe the role and its purpose...\"\n            />\n          </div>\n        </div>\n      </div>\n\n      {/* Permissions */}\n      <div className=\"bg-white p-6 rounded-lg shadow\">\n        <h3 className=\"text-lg font-semibold mb-4\">Permissions</h3>\n        <div className=\"space-y-6\">\n          {permissionCategories.map((category) => (\n            <div key={category.name} className=\"border border-gray-200 rounded-lg p-4\">\n              <div className=\"mb-4\">\n                <h4 className=\"text-md font-medium text-gray-900\">{category.label}</h4>\n                <p className=\"text-sm text-gray-600\">{category.description}</p>\n              </div>\n              <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n                {category.permissions.map((permission) => (\n                  <div key={permission.key} className=\"flex items-center\">\n                    <input\n                      type=\"checkbox\"\n                      id={`${category.name}-${permission.key}`}\n                      checked={Boolean((formData.permissions?.[category.name as keyof typeof formData.permissions] as any)?.[permission.key])}\n                      onChange={(e) => handlePermissionChange(category.name, permission.key, e.target.checked)}\n                      className=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n                    />\n                    <label htmlFor={`${category.name}-${permission.key}`} className=\"ml-2 text-sm text-gray-700\">\n                      {permission.label}\n                    </label>\n                  </div>\n                ))}\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n\n      {/* Constraints */}\n      <div className=\"bg-white p-6 rounded-lg shadow\">\n        <h3 className=\"text-lg font-semibold mb-4\">Constraints & Limitations</h3>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Max Users</label>\n            <input\n              type=\"number\"\n              value={formData.constraints?.maxUsers || ''}\n              onChange={(e) => handleConstraintChange('maxUsers', e.target.value ? parseInt(e.target.value) : undefined)}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              min=\"0\"\n            />\n          </div>\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Max Content</label>\n            <input\n              type=\"number\"\n              value={formData.constraints?.maxContent || ''}\n              onChange={(e) => handleConstraintChange('maxContent', e.target.value ? parseInt(e.target.value) : undefined)}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              min=\"0\"\n            />\n          </div>\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Max Storage (GB)</label>\n            <input\n              type=\"number\"\n              value={formData.constraints?.maxStorage || ''}\n              onChange={(e) => handleConstraintChange('maxStorage', e.target.value ? parseInt(e.target.value) : undefined)}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              min=\"0\"\n            />\n          </div>\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Max File Size (MB)</label>\n            <input\n              type=\"number\"\n              value={formData.constraints?.maxFileSize || ''}\n              onChange={(e) => handleConstraintChange('maxFileSize', e.target.value ? parseInt(e.target.value) : undefined)}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              min=\"1\"\n            />\n          </div>\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Session Timeout (minutes)</label>\n            <input\n              type=\"number\"\n              value={formData.constraints?.sessionTimeout || ''}\n              onChange={(e) => handleConstraintChange('sessionTimeout', e.target.value ? parseInt(e.target.value) : undefined)}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              min=\"15\"\n            />\n          </div>\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">AI Daily Limit</label>\n            <input\n              type=\"number\"\n              value={formData.constraints?.aiDailyLimit || ''}\n              onChange={(e) => handleConstraintChange('aiDailyLimit', e.target.value ? parseInt(e.target.value) : undefined)}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              min=\"0\"\n            />\n          </div>\n        </div>\n      </div>\n\n      {/* Form Actions */}\n      <div className=\"flex justify-end space-x-4\">\n        <button\n          type=\"button\"\n          onClick={onCancel}\n          className=\"px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500\"\n        >\n          Cancel\n        </button>\n        <button\n          type=\"submit\"\n          disabled={loading}\n          className=\"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50\"\n        >\n          {loading ? 'Saving...' : role ? 'Update Role' : 'Create Role'}\n        </button>\n      </div>\n    </form>\n  );\n} ","import React, { useState } from 'react';\nimport DashboardLayout from '@/components/layout/DashboardLayout';\nimport RoleList from '@/components/roles/RoleList';\nimport RoleForm from '@/components/roles/RoleForm';\nimport { Role, CreateRoleRequest, UpdateRoleRequest } from '@/types/roles';\nimport api from '@/lib/api';\nimport { toastSuccess, toastError } from '@/lib/toast';\n\ntype ViewMode = 'list' | 'create' | 'edit';\n\nexport default function RoleManagementPage() {\n  const [viewMode, setViewMode] = useState<ViewMode>('list');\n  const [selectedRole, setSelectedRole] = useState<Role | undefined>(undefined);\n  const [loading, setLoading] = useState(false);\n  const [organizationId, setOrganizationId] = useState<string>(''); // This should come from user context or props\n\n  const handleSelectRole = (role: Role) => {\n    setSelectedRole(role);\n    setViewMode('edit');\n  };\n\n  const handleCreateNew = () => {\n    setSelectedRole(undefined);\n    setViewMode('create');\n  };\n\n  const handleBackToList = () => {\n    setSelectedRole(undefined);\n    setViewMode('list');\n  };\n\n  const handleCreateRole = async (data: CreateRoleRequest | UpdateRoleRequest) => {\n    try {\n      setLoading(true);\n      const response = await api.post(`/api/roles/${organizationId}`, data);\n      toastSuccess('Role created successfully!');\n      setViewMode('list');\n    } catch (err: any) {\n      toastError(err.response?.data?.message || 'Failed to create role');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleUpdateRole = async (data: CreateRoleRequest | UpdateRoleRequest) => {\n    if (!selectedRole) return;\n\n    try {\n      setLoading(true);\n      const response = await api.put(`/api/roles/${selectedRole._id}`, data);\n      toastSuccess('Role updated successfully!');\n      setViewMode('list');\n    } catch (err: any) {\n      toastError(err.response?.data?.message || 'Failed to update role');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleCancelForm = () => {\n    setViewMode('list');\n  };\n\n  const renderContent = () => {\n    switch (viewMode) {\n      case 'list':\n        return (\n          <RoleList\n            organizationId={organizationId}\n            onSelectRole={handleSelectRole}\n            onCreateNew={handleCreateNew}\n          />\n        );\n\n      case 'create':\n        return (\n          <div className=\"space-y-6\">\n            {/* Header with navigation */}\n            <div className=\"flex items-center justify-between\">\n              <div className=\"flex items-center space-x-4\">\n                <button\n                  onClick={handleBackToList}\n                  className=\"flex items-center text-gray-600 hover:text-gray-900\"\n                >\n                  <svg className=\"w-5 h-5 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 19l-7-7 7-7\" />\n                  </svg>\n                  Back to Roles\n                </button>\n                <h1 className=\"text-2xl font-bold text-gray-900\">Create Role</h1>\n              </div>\n            </div>\n\n            {/* Form Content */}\n            <RoleForm\n              organizationId={organizationId}\n              onSubmit={handleCreateRole}\n              onCancel={handleCancelForm}\n              loading={loading}\n            />\n          </div>\n        );\n\n      case 'edit':\n        return (\n          <div className=\"space-y-6\">\n            {/* Header with navigation */}\n            <div className=\"flex items-center justify-between\">\n              <div className=\"flex items-center space-x-4\">\n                <button\n                  onClick={handleBackToList}\n                  className=\"flex items-center text-gray-600 hover:text-gray-900\"\n                >\n                  <svg className=\"w-5 h-5 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 19l-7-7 7-7\" />\n                  </svg>\n                  Back to Roles\n                </button>\n                <h1 className=\"text-2xl font-bold text-gray-900\">Edit Role</h1>\n              </div>\n            </div>\n\n            {/* Form Content */}\n            <RoleForm\n              role={selectedRole}\n              organizationId={organizationId}\n              onSubmit={handleUpdateRole}\n              onCancel={handleCancelForm}\n              loading={loading}\n            />\n          </div>\n        );\n\n      default:\n        return null;\n    }\n  };\n\n  return (\n    <DashboardLayout allowedRoles={['admin']}>\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        {renderContent()}\n      </div>\n    </DashboardLayout>\n  );\n} ","// Toast implementation that integrates with the existing Toast component system\nimport { toast } from '../components/common/Toast';\n\nexport const toastError = (message: string) => {\n  toast.error(message);\n};\n\nexport const toastSuccess = (message: string) => {\n  toast.success(message);\n};\n\nexport const toastWarning = (message: string) => {\n  toast.warning(message);\n};\n\nexport const toastInfo = (message: string) => {\n  toast.info(message);\n}; "],"names":["window","__NEXT_P","push","__webpack_require__","RoleList","param","organizationId","onSelectRole","onCreateNew","roles","setRoles","useState","loading","setLoading","error","setError","searchTerm","setSearchTerm","filterType","setFilterType","sortBy","setSortBy","useEffect","fetchRoles","response","api","get","concat","data","err","message","filteredRoles","filter","role","matchesSearch","name","toLowerCase","includes","description","matchesType","type","sort","a","b","localeCompare","priority","Date","createdAt","getTime","getTypeColor","getPermissionCount","count","Object","values","permissions","forEach","category","permission","getTotalPermissions","total","keys","length","jsx_runtime","jsx","div","className","jsxs","svg","viewBox","fill","path","fillRule","d","clipRule","h3","h2","p","button","onClick","label","input","placeholder","value","onChange","e","target","select","option","stroke","strokeLinecap","strokeLinejoin","strokeWidth","map","span","parentRoleId","toLocaleDateString","entries","slice","some","_","_id","RoleForm","formData","onSubmit","onCancel","setFormData","undefined","users","view","create","edit","delete","bulk_operations","content","approve","publish","lessons","assign","grade","analytics","export","custom_reports","system_analytics","organization","view_settings","edit_settings","manage_billing","manage_branding","manage_integrations","ai","use_content_generation","use_learning_assistant","use_analytics","manage_ai_settings","communication","send_messages","create_rooms","moderate_chat","send_notifications","financial","view_payments","process_refunds","view_reports","manage_subscriptions","system","view_logs","manage_backups","system_settings","security_settings","constraints","maxUsers","maxContent","maxStorage","allowedFileTypes","maxFileSize","sessionTimeout","aiDailyLimit","handleInputChange","field","prev","handlePermissionChange","handleConstraintChange","constraint","form","preventDefault","required","textarea","rows","permissionCategories","key","h4","id","checked","Boolean","_formData_permissions_category_name","htmlFor","parseInt","min","disabled","RoleManagementPage","viewMode","setViewMode","selectedRole","setSelectedRole","setOrganizationId","handleSelectRole","handleCreateNew","handleBackToList","handleCreateRole","post","toastSuccess","toastError","handleUpdateRole","put","handleCancelForm","DashboardLayout","allowedRoles","renderContent","h1","toast","success"],"sourceRoot":""}