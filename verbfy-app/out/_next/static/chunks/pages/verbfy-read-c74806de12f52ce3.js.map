{"version":3,"file":"static/chunks/pages/verbfy-read-c74806de12f52ce3.js","mappings":"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","sources":["webpack://_N_E/?2cb2","webpack://_N_E/./pages/verbfy-read/index.tsx"],"sourcesContent":["\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/verbfy-read\",\n      function () {\n        return require(\"private-next-pages/verbfy-read/index.tsx\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/verbfy-read\"])\n      });\n    }\n  ","import React, { useEffect, useMemo, useState } from 'react';\nimport Head from 'next/head';\nimport Image from 'next/image';\nimport { freeMaterialsAPI } from '@/lib/api';\nimport { useI18n } from '@/lib/i18n';\n\ntype FreeMaterial = {\n  _id?: string;\n  id?: string;\n  title: string;\n  description?: string;\n  category?: string;\n  level?: string;\n  thumbnailUrl?: string;\n};\n\nexport default function VerbfyReadPage() {\n  const { locale } = useI18n();\n  const [materials, setMaterials] = useState<FreeMaterial[]>([]);\n  const [levels, setLevels] = useState<string[]>([]);\n  const [search, setSearch] = useState('');\n  const [level, setLevel] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [selected, setSelected] = useState<Record<string, FreeMaterial>>({});\n\n  const category = useMemo(() => 'Reading', []);\n\n  useEffect(() => {\n    freeMaterialsAPI.getLevels().then((resp) => {\n      if (Array.isArray(resp?.data)) setLevels(resp.data);\n    });\n  }, []);\n\n  useEffect(() => {\n    let abort = false;\n    const load = async () => {\n      setLoading(true);\n      try {\n        const res = await freeMaterialsAPI.getMaterials({ category, level, search });\n        if (!abort) setMaterials(res?.data || res || []);\n      } finally {\n        if (!abort) setLoading(false);\n      }\n    };\n    load();\n    return () => {\n      abort = true;\n    };\n  }, [category, level, search]);\n\n  const toggle = (m: FreeMaterial) => {\n    const id = (m as any)._id || (m as any).id || m.title;\n    setSelected((x) => {\n      const cp = { ...x } as any;\n      if (cp[id]) delete cp[id];\n      else cp[id] = m;\n      return cp;\n    });\n  };\n\n  return (\n    <div className=\"min-h-screen bg-white\">\n      <Head>\n        <title>VerbfyRead</title>\n      </Head>\n      <main className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10\">\n        <div className=\"mb-8\">\n          <h1 className=\"text-3xl sm:text-4xl font-bold text-gray-900\">VerbfyRead</h1>\n          <p className=\"text-gray-600 mt-2\">\n            {locale === 'tr' ? 'Seviyeye uygun metinlerle okuma pratiği.' : 'Reading practice with level-appropriate texts.'}\n          </p>\n        </div>\n\n        <div className=\"bg-white border border-gray-200 rounded-xl p-4 mb-6 flex flex-col sm:flex-row gap-4 sm:items-center\">\n          <input value={search} onChange={(e) => setSearch(e.target.value)} placeholder={locale === 'tr' ? 'Ara...' : 'Search...'} className=\"w-full sm:w-auto flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\" />\n          <select value={level} onChange={(e) => setLevel(e.target.value)} className=\"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\">\n            <option value=\"\">{locale === 'tr' ? 'Tüm seviyeler' : 'All levels'}</option>\n            {levels.map((l) => (\n              <option key={l} value={l}>\n                {l}\n              </option>\n            ))}\n          </select>\n        </div>\n\n        {Object.keys(selected).length > 0 && (\n          <div className=\"mb-6 bg-green-50 border border-green-200 rounded-xl p-4\">\n            <p className=\"font-semibold mb-2\">{locale === 'tr' ? 'Seçtiklerim' : 'My selection'}</p>\n            <div className=\"flex flex-wrap gap-2\">\n              {Object.values(selected).map((m) => (\n                <span key={(m as any)._id || (m as any).id || m.title} className=\"px-2 py-1 text-sm bg-white border border-gray-200 rounded-md\">\n                  {m.title}\n                </span>\n              ))}\n            </div>\n          </div>\n        )}\n\n        {loading ? (\n          <p className=\"text-gray-600\">{locale === 'tr' ? 'Yükleniyor...' : 'Loading...'}</p>\n        ) : (\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6\">\n            {(materials || []).map((m) => {\n              const id = (m as any)._id || (m as any).id || m.title;\n              const isSel = !!selected[id];\n              return (\n                <div key={id} className=\"group bg-white border border-gray-200 rounded-xl overflow-hidden shadow-sm hover:shadow-md transition-all\">\n                  <div className=\"relative h-40\">\n                    <Image src={m.thumbnailUrl || '/images/verbfy-read.png'} alt={m.title} fill className=\"object-contain p-4 group-hover:scale-105 transition-transform duration-200\" />\n                  </div>\n                  <div className=\"p-4\">\n                    <h3 className=\"font-semibold text-gray-900 line-clamp-1\">{m.title}</h3>\n                    <p className=\"text-sm text-gray-600 line-clamp-2 mt-1\">{m.description}</p>\n                    <div className=\"mt-3 flex items-center justify-between text-sm text-gray-500\">\n                      <span>{m.level || '-'}</span>\n                      <button onClick={() => toggle(m)} className={`px-3 py-1 rounded-md border ${isSel ? 'bg-green-600 text-white border-green-600' : 'border-gray-300 hover:bg-gray-50'}`}>\n                        {isSel ? (locale === 'tr' ? 'Seçildi' : 'Selected') : (locale === 'tr' ? 'Seç' : 'Select')}\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              );\n            })}\n          </div>\n        )}\n      </main>\n    </div>\n  );\n}\n\n\n"],"names":["window","__NEXT_P","push","__webpack_require__","VerbfyReadPage","locale","useI18n","materials","setMaterials","useState","levels","setLevels","search","setSearch","level","setLevel","loading","setLoading","selected","setSelected","category","useMemo","useEffect","freeMaterialsAPI","getLevels","then","Array","isArray","resp","data","abort","load","res","getMaterials","toggle","id","m","_id","title","cp","x","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","jsxs","div","className","jsx","Head","main","h1","p","input","value","onChange","e","target","placeholder","select","option","map","l","Object","keys","length","values","span","isSel","Image","src","thumbnailUrl","alt","fill","h3","description","button","onClick","concat"],"sourceRoot":""}