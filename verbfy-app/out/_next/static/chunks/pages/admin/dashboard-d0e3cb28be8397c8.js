(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9189],{52599:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/dashboard",function(){return a(14991)}])},14991:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return n}});var r=a(85893),t=a(67294),d=a(36197),l=a(11163),i=a(11088),c=a(32798);function n(){let{user:e,loading:s}=(0,d.Eu)(),a=(0,l.useRouter)(),[n,x]=(0,t.useState)(null),[m,o]=(0,t.useState)([]),[h,g]=(0,t.useState)(!0);(0,t.useEffect)(()=>{s||(e?"admin"!==e.role?a.replace("/unauthorized"):f():a.replace("/login"))},[e,s,a]);let f=async()=>{try{g(!0);let e=await c.ZP.get("/admin/stats");x(e.data);let s=await c.ZP.get("/admin/activities");o(s.data.activities||[])}catch(e){console.error("Error fetching admin data:",e)}finally{g(!1)}};return s||h?(0,r.jsx)(i.Z,{allowedRoles:["admin"],children:(0,r.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Loading admin dashboard..."})]})})}):(0,r.jsxs)(i.Z,{allowedRoles:["admin"],children:[(0,r.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6 sm:p-8 mb-6 sm:mb-8",children:(0,r.jsxs)("div",{className:"flex flex-col lg:flex-row items-start lg:items-center justify-between gap-6",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Admin Dashboard \uD83D\uDEE1️"}),(0,r.jsxs)("p",{className:"text-gray-600 dark:text-gray-300 text-base sm:text-lg",children:["Welcome back, ",null==e?void 0:e.name,"! Manage your platform with full administrative control."]}),(0,r.jsx)("div",{className:"flex items-center mt-4",children:(0,r.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-purple-100 dark:bg-purple-900/30 text-purple-800 dark:text-purple-200",children:"\uD83D\uDD27 Administrator"})})]}),(0,r.jsx)("div",{className:"hidden lg:block",children:(0,r.jsx)("div",{className:"w-32 h-32 bg-gradient-to-br from-purple-100 to-red-100 dark:from-purple-900/30 dark:to-red-900/30 rounded-full flex items-center justify-center",children:(0,r.jsx)("i",{className:"fas fa-shield-alt text-4xl text-purple-600 dark:text-purple-400"})})})]})}),(0,r.jsx)("div",{className:"mb-8",children:n&&(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:[(0,r.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)("div",{className:"w-8 h-8 bg-blue-500 rounded-lg flex items-center justify-center",children:(0,r.jsx)("i",{className:"fas fa-users text-white"})})}),(0,r.jsxs)("div",{className:"ml-4",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Total Users"}),(0,r.jsx)("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:n.totalUsers})]})]})}),(0,r.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)("div",{className:"w-8 h-8 bg-green-500 rounded-lg flex items-center justify-center",children:(0,r.jsx)("i",{className:"fas fa-chalkboard-teacher text-white"})})}),(0,r.jsxs)("div",{className:"ml-4",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Teachers"}),(0,r.jsx)("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:n.totalTeachers})]})]})}),(0,r.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)("div",{className:"w-8 h-8 bg-purple-500 rounded-lg flex items-center justify-center",children:(0,r.jsx)("i",{className:"fas fa-user-graduate text-white"})})}),(0,r.jsxs)("div",{className:"ml-4",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Students"}),(0,r.jsx)("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:n.totalStudents})]})]})}),(0,r.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)("div",{className:"w-8 h-8 bg-yellow-500 rounded-lg flex items-center justify-center",children:(0,r.jsx)("i",{className:"fas fa-calendar-check text-white"})})}),(0,r.jsxs)("div",{className:"ml-4",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Reservations"}),(0,r.jsx)("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:n.totalReservations})]})]})}),(0,r.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)("div",{className:"w-8 h-8 bg-indigo-500 rounded-lg flex items-center justify-center",children:(0,r.jsx)("i",{className:"fas fa-file-alt text-white"})})}),(0,r.jsxs)("div",{className:"ml-4",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Materials"}),(0,r.jsx)("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:n.totalMaterials})]})]})}),(0,r.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)("div",{className:"w-8 h-8 bg-red-500 rounded-lg flex items-center justify-center",children:(0,r.jsx)("i",{className:"fas fa-video text-white"})})}),(0,r.jsxs)("div",{className:"ml-4",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Active Lessons"}),(0,r.jsx)("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:n.activeLessons})]})]})})]})}),(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:[(0,r.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:(0,r.jsx)("h2",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Recent Activities"})}),(0,r.jsx)("div",{className:"p-6",children:m.length>0?(0,r.jsx)("div",{className:"space-y-4",children:m.map(e=>(0,r.jsxs)("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)("div",{className:"w-8 h-8 bg-blue-100 dark:bg-blue-900 rounded-lg flex items-center justify-center",children:(0,r.jsx)("i",{className:"fas fa-info text-blue-600 dark:text-blue-400"})})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.description}),e.user&&(0,r.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["by ",e.user.name," (",e.user.email,")"]})]}),(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:new Date(e.timestamp).toLocaleDateString()})})]},e.id))}):(0,r.jsxs)("div",{className:"text-center py-8",children:[(0,r.jsx)("i",{className:"fas fa-info-circle text-4xl text-gray-300 dark:text-gray-600 mb-4"}),(0,r.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"No recent activities"})]})})]})]})}}},function(e){e.O(0,[1216,1088,2888,179],function(){return e(e.s=52599)}),_N_E=e.O()}]);
//# sourceMappingURL=dashboard-d0e3cb28be8397c8.js.map