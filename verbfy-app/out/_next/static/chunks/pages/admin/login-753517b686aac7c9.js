(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2300],{26177:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/login",function(){return s(56311)}])},56311:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return u}});var r=s(85893),a=s(67294),l=s(11163),i=s(41664),n=s.n(i),o=s(36197),d=s(55797),c=s(32798);let m=(0,s(97679).hu)("AdminAuth");function u(){let[e,t]=(0,a.useState)(""),[s,i]=(0,a.useState)(""),[u,f]=(0,a.useState)(!1),[p,x]=(0,a.useState)(""),[h,g]=(0,a.useState)(!1),{user:b,loading:v,setAccessToken:w,setUser:N}=(0,o.Eu)(),j=(0,l.useRouter)();(0,a.useEffect)(()=>{!v&&b&&("admin"===b.role?j.replace("/admin/dashboard"):j.replace("/unauthorized"))},[b,v,j]);let y=async t=>{if(t.preventDefault(),!e||!s){x("Email and password are required");return}f(!0),x("");try{m.info("Admin login attempt",{email:e});let t=await c.ZP.post("/api/admin/login",{email:e.toLowerCase().trim(),password:s});if(t.data.success){m.info("Admin login successful",{email:e});try{t.data.token&&w(t.data.token),t.data.user&&N(t.data.user)}catch(e){m.warn("Failed to set auth context after admin login",{error:null==e?void 0:e.message})}j.replace("/admin/dashboard")}else x(t.data.message||"Login failed")}catch(t){var r,a,l,i;m.error("Admin login error",{email:e,error:(null===(a=t.response)||void 0===a?void 0:null===(r=a.data)||void 0===r?void 0:r.message)||t.message}),x((null===(i=t.response)||void 0===i?void 0:null===(l=i.data)||void 0===l?void 0:l.message)||"Login failed. Please check your credentials and try again.")}finally{f(!1)}};return v?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):(0,r.jsxs)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 py-4 sm:py-8 px-4 sm:px-6 lg:px-8 relative overflow-hidden",children:[(0,r.jsxs)("div",{className:"absolute inset-0 overflow-hidden",children:[(0,r.jsx)("div",{className:"absolute -top-40 -right-40 w-60 h-60 sm:w-80 sm:h-80 bg-gradient-to-br from-purple-400/20 to-blue-400/20 rounded-full blur-3xl animate-pulse"}),(0,r.jsx)("div",{className:"absolute -bottom-40 -left-40 w-60 h-60 sm:w-80 sm:h-80 bg-gradient-to-tr from-indigo-400/20 to-purple-400/20 rounded-full blur-3xl animate-pulse delay-1000"})]}),(0,r.jsxs)("div",{className:"relative w-full max-w-sm sm:max-w-md space-y-6 sm:space-y-8",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"flex justify-center mb-4 sm:mb-6",children:(0,r.jsx)(d.Z,{size:88,withTitle:!1})}),(0,r.jsx)("h2",{className:"text-2xl sm:text-3xl font-bold text-white mb-2",children:"Admin Portal"}),(0,r.jsx)("p",{className:"text-purple-200 text-sm sm:text-base",children:"Secure administrative access"}),(0,r.jsx)("div",{className:"flex items-center justify-center mt-3",children:(0,r.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-purple-100/10 text-purple-200 border border-purple-300/20",children:"\uD83D\uDEE1ï¸ Administrator Only"})})]}),(0,r.jsxs)("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl shadow-2xl border border-white/20 p-6 sm:p-8",children:[(0,r.jsxs)("form",{className:"space-y-4 sm:space-y-6",onSubmit:y,"data-testid":"admin-login-form",children:[p&&(0,r.jsx)("div",{role:"alert","aria-live":"polite","aria-atomic":"true",className:"bg-red-500/10 border border-red-400/20 text-red-200 px-4 py-3 rounded-xl text-sm",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("i",{className:"fas fa-exclamation-triangle mr-2"}),p]})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-white mb-2",children:"Admin Email"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,r.jsx)("i",{className:"fas fa-user-shield text-purple-300"})}),(0,r.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e,onChange:e=>t(e.target.value),className:"block w-full pl-10 pr-3 py-2.5 sm:py-3 border border-white/20 rounded-xl bg-white/5 text-white placeholder-purple-200 focus:outline-none focus:ring-2 focus:ring-purple-400 focus:border-transparent transition-all duration-200",placeholder:"admin@verbfy.com"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-white mb-2",children:"Password"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,r.jsx)("i",{className:"fas fa-lock text-purple-300"})}),(0,r.jsx)("input",{id:"password",name:"password",type:h?"text":"password",autoComplete:"current-password",required:!0,value:s,onChange:e=>i(e.target.value),className:"block w-full pl-10 pr-12 py-2.5 sm:py-3 border border-white/20 rounded-xl bg-white/5 text-white placeholder-purple-200 focus:outline-none focus:ring-2 focus:ring-purple-400 focus:border-transparent transition-all duration-200",placeholder:"Enter your admin password"}),(0,r.jsx)("button",{type:"button",onClick:()=>g(!h),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-purple-300 hover:text-white transition-colors",children:(0,r.jsx)("i",{className:"fas ".concat(h?"fa-eye-slash":"fa-eye")})})]})]}),(0,r.jsx)("button",{type:"submit",disabled:u,className:"group relative w-full flex justify-center py-2.5 sm:py-3 px-4 border border-transparent text-sm sm:text-base font-semibold rounded-xl text-white bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 transform hover:scale-[1.02] active:scale-[0.98]",children:u?(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Authenticating..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("i",{className:"fas fa-shield-alt mr-2"}),"Secure Login"]})})]}),(0,r.jsx)("div",{className:"mt-6 p-4 bg-yellow-500/10 border border-yellow-400/20 rounded-xl",children:(0,r.jsxs)("div",{className:"flex items-start",children:[(0,r.jsx)("i",{className:"fas fa-info-circle text-yellow-300 mt-0.5 mr-3"}),(0,r.jsxs)("div",{className:"text-yellow-200 text-xs",children:[(0,r.jsx)("p",{className:"font-medium mb-1",children:"Security Notice"}),(0,r.jsx)("p",{children:"This is a secure admin portal. All login attempts are monitored and logged. Only authorized administrators should access this page."})]})]})})]}),(0,r.jsx)("div",{className:"text-center",children:(0,r.jsxs)(n(),{href:"/",className:"inline-flex items-center text-purple-200 hover:text-white transition-colors text-sm",children:[(0,r.jsx)("i",{className:"fas fa-arrow-left mr-2"}),"Back to Verbfy"]})})]})]})}},55797:function(e,t,s){"use strict";s.d(t,{Z:function(){return o}});var r=s(85893);s(67294);var a=s(41664),l=s.n(a),i=s(25675),n=s.n(i);function o(e){let{size:t=40,withTitle:s=!1,href:a="/",className:i="",titleClassName:o="text-2xl font-extrabold text-gray-900 dark:text-white"}=e;return(0,r.jsxs)(l(),{href:a,className:"flex items-center justify-center ".concat(i),"aria-label":"Verbfy Home",children:[(0,r.jsx)(n(),{src:"/logo.png",alt:"Verbfy logo",width:t,height:t,priority:!0,className:"mx-auto"}),s&&(0,r.jsx)("span",{className:o,children:"Verbfy"})]})}},97679:function(e,t,s){"use strict";s.d(t,{hu:function(){return i}});let r={ERROR:"error",WARN:"warn",INFO:"info",DEBUG:"debug"};class a{normalizeLevel(e){let t=e.toLowerCase();return t===r.ERROR||t===r.WARN||t===r.INFO||t===r.DEBUG?t:this.isProduction?r.INFO:r.DEBUG}setLevel(e){this.logLevel=e}getLevel(){return this.logLevel}shouldLog(e){let t=[r.ERROR,r.WARN,r.INFO,r.DEBUG],s=t.indexOf(this.logLevel);return t.indexOf(e)<=s}safeStringify(e){try{return JSON.stringify(e,(e,t)=>t instanceof Error?{name:t.name,message:t.message,stack:t.stack}:t)}catch(e){return"[unserializable]"}}formatMessage(e,t,s,r){let a=new Date().toISOString(),l="[".concat(a,"] [").concat(e.toUpperCase(),"] [").concat(t,"] ").concat(s);return r&&"object"==typeof r?"".concat(l," ").concat(this.safeStringify(r)):l}logToConsole(e,t,s,a){if(this.shouldLog(e)){if(this.formatMessage(e,t,s,a),this.isProduction){let r={timestamp:new Date().toISOString(),level:e,context:t,message:s};void 0!==a&&(r.data=a);{let r=window;r.gtag&&r.gtag("event","log",{custom_parameter_level:e,custom_parameter_context:t,custom_parameter_message:s})}}else switch(e){case r.ERROR:case r.WARN:case r.INFO:case r.DEBUG:}}}error(e,t,s){this.logToConsole(r.ERROR,e,t,s)}warn(e,t,s){this.logToConsole(r.WARN,e,t,s)}info(e,t,s){this.logToConsole(r.INFO,e,t,s)}debug(e,t,s){this.logToConsole(r.DEBUG,e,t,s)}constructor(){this.isProduction=!0,this.logLevel=this.normalizeLevel("info")}}let l=new a,i=e=>({error:(t,s)=>l.error(e,t,s),warn:(t,s)=>l.warn(e,t,s),info:(t,s)=>l.info(e,t,s),debug:(t,s)=>l.debug(e,t,s)})}},function(e){e.O(0,[2138,9226,9496,8484,437,5823,2244,6235,5323,747,3365,8638,9806,7093,8510,8424,8639,7855,7446,2169,8308,1408,6259,4657,8212,1493,2888,5514,179],function(){return e(e.s=26177)}),_N_E=e.O()}]);