{"version":3,"file":"static/chunks/pages/admin/dashboard-8f612341ad4ab93f.js","mappings":"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","sources":["webpack://_N_E/?076e","webpack://_N_E/./pages/admin/dashboard.tsx"],"sourcesContent":["\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/admin/dashboard\",\n      function () {\n        return require(\"private-next-pages/admin/dashboard.tsx\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/admin/dashboard\"])\n      });\n    }\n  ","import React, { useState, useEffect } from 'react';\r\nimport { useAuthContext } from '@/context/AuthContext';\r\nimport { useRouter } from 'next/router';\r\nimport api from '@/lib/api';\r\n\r\ninterface AdminStats {\r\n  totalUsers: number;\r\n  totalTeachers: number;\r\n  totalStudents: number;\r\n  totalReservations: number;\r\n  totalMaterials: number;\r\n  activeLessons: number;\r\n}\r\n\r\ninterface RecentActivity {\r\n  id: string;\r\n  type: 'user_registration' | 'lesson_booking' | 'material_upload';\r\n  description: string;\r\n  timestamp: string;\r\n  user?: {\r\n    name: string;\r\n    email: string;\r\n  };\r\n}\r\n\r\nexport default function AdminDashboard() {\r\n  const { user, loading } = useAuthContext();\r\n  const router = useRouter();\r\n  const [stats, setStats] = useState<AdminStats | null>(null);\r\n  const [recentActivities, setRecentActivities] = useState<RecentActivity[]>([]);\r\n  const [loadingStats, setLoadingStats] = useState(true);\r\n\r\n  useEffect(() => {\r\n    if (!loading) {\r\n      if (!user) {\r\n        router.replace('/login');\r\n      } else if (user.role !== 'admin') {\r\n        router.replace('/unauthorized');\r\n      } else {\r\n        fetchAdminData();\r\n      }\r\n    }\r\n  }, [user, loading, router]);\r\n\r\n  const fetchAdminData = async () => {\r\n    try {\r\n      setLoadingStats(true);\r\n      \r\n      // Fetch admin statistics\r\n      const statsResponse = await api.get('/api/admin/stats');\r\n      setStats(statsResponse.data);\r\n      \r\n      // Fetch recent activities\r\n      const activitiesResponse = await api.get('/api/admin/activities');\r\n      setRecentActivities(activitiesResponse.data.activities || []);\r\n      \r\n    } catch (error) {\r\n      console.error('Error fetching admin data:', error);\r\n    } finally {\r\n      setLoadingStats(false);\r\n    }\r\n  };\r\n\r\n  if (loading || loadingStats) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4\"></div>\r\n          <p className=\"text-gray-600\">Loading admin dashboard...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!user || user.role !== 'admin') {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50\">\r\n      {/* Header */}\r\n      <div className=\"bg-white shadow\">\r\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n          <div className=\"flex justify-between items-center py-6\">\r\n            <div>\r\n              <h1 className=\"text-3xl font-bold text-gray-900\">Admin Dashboard</h1>\r\n              <p className=\"text-gray-600\">Welcome back, {user.name}</p>\r\n            </div>\r\n            <div className=\"flex items-center space-x-4\">\r\n              <span className=\"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-purple-100 text-purple-800\">\r\n                Admin\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Main Content */}\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n        {/* Stats Grid */}\r\n        {stats && (\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8\">\r\n            <div className=\"bg-white rounded-lg shadow p-6\">\r\n              <div className=\"flex items-center\">\r\n                <div className=\"flex-shrink-0\">\r\n                  <div className=\"w-8 h-8 bg-blue-500 rounded-lg flex items-center justify-center\">\r\n                    <i className=\"fas fa-users text-white\"></i>\r\n                  </div>\r\n                </div>\r\n                <div className=\"ml-4\">\r\n                  <p className=\"text-sm font-medium text-gray-500\">Total Users</p>\r\n                  <p className=\"text-2xl font-semibold text-gray-900\">{stats.totalUsers}</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"bg-white rounded-lg shadow p-6\">\r\n              <div className=\"flex items-center\">\r\n                <div className=\"flex-shrink-0\">\r\n                  <div className=\"w-8 h-8 bg-green-500 rounded-lg flex items-center justify-center\">\r\n                    <i className=\"fas fa-chalkboard-teacher text-white\"></i>\r\n                  </div>\r\n                </div>\r\n                <div className=\"ml-4\">\r\n                  <p className=\"text-sm font-medium text-gray-500\">Teachers</p>\r\n                  <p className=\"text-2xl font-semibold text-gray-900\">{stats.totalTeachers}</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"bg-white rounded-lg shadow p-6\">\r\n              <div className=\"flex items-center\">\r\n                <div className=\"flex-shrink-0\">\r\n                  <div className=\"w-8 h-8 bg-purple-500 rounded-lg flex items-center justify-center\">\r\n                    <i className=\"fas fa-user-graduate text-white\"></i>\r\n                  </div>\r\n                </div>\r\n                <div className=\"ml-4\">\r\n                  <p className=\"text-sm font-medium text-gray-500\">Students</p>\r\n                  <p className=\"text-2xl font-semibold text-gray-900\">{stats.totalStudents}</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"bg-white rounded-lg shadow p-6\">\r\n              <div className=\"flex items-center\">\r\n                <div className=\"flex-shrink-0\">\r\n                  <div className=\"w-8 h-8 bg-yellow-500 rounded-lg flex items-center justify-center\">\r\n                    <i className=\"fas fa-calendar-check text-white\"></i>\r\n                  </div>\r\n                </div>\r\n                <div className=\"ml-4\">\r\n                  <p className=\"text-sm font-medium text-gray-500\">Reservations</p>\r\n                  <p className=\"text-2xl font-semibold text-gray-900\">{stats.totalReservations}</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"bg-white rounded-lg shadow p-6\">\r\n              <div className=\"flex items-center\">\r\n                <div className=\"flex-shrink-0\">\r\n                  <div className=\"w-8 h-8 bg-indigo-500 rounded-lg flex items-center justify-center\">\r\n                    <i className=\"fas fa-file-alt text-white\"></i>\r\n                  </div>\r\n                </div>\r\n                <div className=\"ml-4\">\r\n                  <p className=\"text-sm font-medium text-gray-500\">Materials</p>\r\n                  <p className=\"text-2xl font-semibold text-gray-900\">{stats.totalMaterials}</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"bg-white rounded-lg shadow p-6\">\r\n              <div className=\"flex items-center\">\r\n                <div className=\"flex-shrink-0\">\r\n                  <div className=\"w-8 h-8 bg-red-500 rounded-lg flex items-center justify-center\">\r\n                    <i className=\"fas fa-video text-white\"></i>\r\n                  </div>\r\n                </div>\r\n                <div className=\"ml-4\">\r\n                  <p className=\"text-sm font-medium text-gray-500\">Active Lessons</p>\r\n                  <p className=\"text-2xl font-semibold text-gray-900\">{stats.activeLessons}</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Recent Activities */}\r\n        <div className=\"bg-white rounded-lg shadow\">\r\n          <div className=\"px-6 py-4 border-b border-gray-200\">\r\n            <h2 className=\"text-lg font-medium text-gray-900\">Recent Activities</h2>\r\n          </div>\r\n          <div className=\"p-6\">\r\n            {recentActivities.length > 0 ? (\r\n              <div className=\"space-y-4\">\r\n                {recentActivities.map((activity) => (\r\n                  <div key={activity.id} className=\"flex items-center space-x-4 p-4 bg-gray-50 rounded-lg\">\r\n                    <div className=\"flex-shrink-0\">\r\n                      <div className=\"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center\">\r\n                        <i className=\"fas fa-info text-blue-600\"></i>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"flex-1 min-w-0\">\r\n                      <p className=\"text-sm font-medium text-gray-900\">{activity.description}</p>\r\n                      {activity.user && (\r\n                        <p className=\"text-sm text-gray-500\">\r\n                          by {activity.user.name} ({activity.user.email})\r\n                        </p>\r\n                      )}\r\n                    </div>\r\n                    <div className=\"flex-shrink-0\">\r\n                      <p className=\"text-sm text-gray-500\">\r\n                        {new Date(activity.timestamp).toLocaleDateString()}\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            ) : (\r\n              <div className=\"text-center py-8\">\r\n                <p className=\"text-gray-500\">No recent activities</p>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n} "],"names":["window","__NEXT_P","push","__webpack_require__","AdminDashboard","user","loading","useAuthContext","router","useRouter","stats","setStats","useState","recentActivities","setRecentActivities","loadingStats","setLoadingStats","useEffect","role","replace","fetchAdminData","statsResponse","api","get","data","activitiesResponse","activities","error","console","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","jsx","div","className","jsxs","p","h1","name","span","i","totalUsers","totalTeachers","totalStudents","totalReservations","totalMaterials","activeLessons","h2","length","map","activity","description","email","Date","timestamp","toLocaleDateString","id"],"sourceRoot":""}