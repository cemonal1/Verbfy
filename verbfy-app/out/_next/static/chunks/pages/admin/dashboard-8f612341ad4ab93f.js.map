{"version":3,"file":"static/chunks/pages/admin/dashboard-8f612341ad4ab93f.js","mappings":"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","sources":["webpack://_N_E/?076e","webpack://_N_E/./pages/admin/dashboard.tsx"],"sourcesContent":["\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/admin/dashboard\",\n      function () {\n        return require(\"private-next-pages/admin/dashboard.tsx\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/admin/dashboard\"])\n      });\n    }\n  ","import React, { useState, useEffect } from 'react';\nimport { useAuthContext } from '@/context/AuthContext';\nimport { useRouter } from 'next/router';\nimport api from '@/lib/api';\n\ninterface AdminStats {\n  totalUsers: number;\n  totalTeachers: number;\n  totalStudents: number;\n  totalReservations: number;\n  totalMaterials: number;\n  activeLessons: number;\n}\n\ninterface RecentActivity {\n  id: string;\n  type: 'user_registration' | 'lesson_booking' | 'material_upload';\n  description: string;\n  timestamp: string;\n  user?: {\n    name: string;\n    email: string;\n  };\n}\n\nexport default function AdminDashboard() {\n  const { user, loading } = useAuthContext();\n  const router = useRouter();\n  const [stats, setStats] = useState<AdminStats | null>(null);\n  const [recentActivities, setRecentActivities] = useState<RecentActivity[]>([]);\n  const [loadingStats, setLoadingStats] = useState(true);\n\n  useEffect(() => {\n    if (!loading) {\n      if (!user) {\n        router.replace('/login');\n      } else if (user.role !== 'admin') {\n        router.replace('/unauthorized');\n      } else {\n        fetchAdminData();\n      }\n    }\n  }, [user, loading, router]);\n\n  const fetchAdminData = async () => {\n    try {\n      setLoadingStats(true);\n      \n      // Fetch admin statistics\n      const statsResponse = await api.get('/api/admin/stats');\n      setStats(statsResponse.data);\n      \n      // Fetch recent activities\n      const activitiesResponse = await api.get('/api/admin/activities');\n      setRecentActivities(activitiesResponse.data.activities || []);\n      \n    } catch (error) {\n      console.error('Error fetching admin data:', error);\n    } finally {\n      setLoadingStats(false);\n    }\n  };\n\n  if (loading || loadingStats) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4\"></div>\n          <p className=\"text-gray-600\">Loading admin dashboard...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (!user || user.role !== 'admin') {\n    return null;\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* Header */}\n      <div className=\"bg-white shadow\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"flex justify-between items-center py-6\">\n            <div>\n              <h1 className=\"text-3xl font-bold text-gray-900\">Admin Dashboard</h1>\n              <p className=\"text-gray-600\">Welcome back, {user.name}</p>\n            </div>\n            <div className=\"flex items-center space-x-4\">\n              <span className=\"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-purple-100 text-purple-800\">\n                Admin\n              </span>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Main Content */}\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        {/* Stats Grid */}\n        {stats && (\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8\">\n            <div className=\"bg-white rounded-lg shadow p-6\">\n              <div className=\"flex items-center\">\n                <div className=\"flex-shrink-0\">\n                  <div className=\"w-8 h-8 bg-blue-500 rounded-lg flex items-center justify-center\">\n                    <i className=\"fas fa-users text-white\"></i>\n                  </div>\n                </div>\n                <div className=\"ml-4\">\n                  <p className=\"text-sm font-medium text-gray-500\">Total Users</p>\n                  <p className=\"text-2xl font-semibold text-gray-900\">{stats.totalUsers}</p>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"bg-white rounded-lg shadow p-6\">\n              <div className=\"flex items-center\">\n                <div className=\"flex-shrink-0\">\n                  <div className=\"w-8 h-8 bg-green-500 rounded-lg flex items-center justify-center\">\n                    <i className=\"fas fa-chalkboard-teacher text-white\"></i>\n                  </div>\n                </div>\n                <div className=\"ml-4\">\n                  <p className=\"text-sm font-medium text-gray-500\">Teachers</p>\n                  <p className=\"text-2xl font-semibold text-gray-900\">{stats.totalTeachers}</p>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"bg-white rounded-lg shadow p-6\">\n              <div className=\"flex items-center\">\n                <div className=\"flex-shrink-0\">\n                  <div className=\"w-8 h-8 bg-purple-500 rounded-lg flex items-center justify-center\">\n                    <i className=\"fas fa-user-graduate text-white\"></i>\n                  </div>\n                </div>\n                <div className=\"ml-4\">\n                  <p className=\"text-sm font-medium text-gray-500\">Students</p>\n                  <p className=\"text-2xl font-semibold text-gray-900\">{stats.totalStudents}</p>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"bg-white rounded-lg shadow p-6\">\n              <div className=\"flex items-center\">\n                <div className=\"flex-shrink-0\">\n                  <div className=\"w-8 h-8 bg-yellow-500 rounded-lg flex items-center justify-center\">\n                    <i className=\"fas fa-calendar-check text-white\"></i>\n                  </div>\n                </div>\n                <div className=\"ml-4\">\n                  <p className=\"text-sm font-medium text-gray-500\">Reservations</p>\n                  <p className=\"text-2xl font-semibold text-gray-900\">{stats.totalReservations}</p>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"bg-white rounded-lg shadow p-6\">\n              <div className=\"flex items-center\">\n                <div className=\"flex-shrink-0\">\n                  <div className=\"w-8 h-8 bg-indigo-500 rounded-lg flex items-center justify-center\">\n                    <i className=\"fas fa-file-alt text-white\"></i>\n                  </div>\n                </div>\n                <div className=\"ml-4\">\n                  <p className=\"text-sm font-medium text-gray-500\">Materials</p>\n                  <p className=\"text-2xl font-semibold text-gray-900\">{stats.totalMaterials}</p>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"bg-white rounded-lg shadow p-6\">\n              <div className=\"flex items-center\">\n                <div className=\"flex-shrink-0\">\n                  <div className=\"w-8 h-8 bg-red-500 rounded-lg flex items-center justify-center\">\n                    <i className=\"fas fa-video text-white\"></i>\n                  </div>\n                </div>\n                <div className=\"ml-4\">\n                  <p className=\"text-sm font-medium text-gray-500\">Active Lessons</p>\n                  <p className=\"text-2xl font-semibold text-gray-900\">{stats.activeLessons}</p>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Recent Activities */}\n        <div className=\"bg-white rounded-lg shadow\">\n          <div className=\"px-6 py-4 border-b border-gray-200\">\n            <h2 className=\"text-lg font-medium text-gray-900\">Recent Activities</h2>\n          </div>\n          <div className=\"p-6\">\n            {recentActivities.length > 0 ? (\n              <div className=\"space-y-4\">\n                {recentActivities.map((activity) => (\n                  <div key={activity.id} className=\"flex items-center space-x-4 p-4 bg-gray-50 rounded-lg\">\n                    <div className=\"flex-shrink-0\">\n                      <div className=\"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center\">\n                        <i className=\"fas fa-info text-blue-600\"></i>\n                      </div>\n                    </div>\n                    <div className=\"flex-1 min-w-0\">\n                      <p className=\"text-sm font-medium text-gray-900\">{activity.description}</p>\n                      {activity.user && (\n                        <p className=\"text-sm text-gray-500\">\n                          by {activity.user.name} ({activity.user.email})\n                        </p>\n                      )}\n                    </div>\n                    <div className=\"flex-shrink-0\">\n                      <p className=\"text-sm text-gray-500\">\n                        {new Date(activity.timestamp).toLocaleDateString()}\n                      </p>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            ) : (\n              <div className=\"text-center py-8\">\n                <p className=\"text-gray-500\">No recent activities</p>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n} "],"names":["window","__NEXT_P","push","__webpack_require__","AdminDashboard","user","loading","useAuthContext","router","useRouter","stats","setStats","useState","recentActivities","setRecentActivities","loadingStats","setLoadingStats","useEffect","role","replace","fetchAdminData","statsResponse","api","get","data","activitiesResponse","activities","error","console","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","jsx","div","className","jsxs","p","h1","name","span","i","totalUsers","totalTeachers","totalStudents","totalReservations","totalMaterials","activeLessons","h2","length","map","activity","description","email","Date","timestamp","toLocaleDateString","id"],"sourceRoot":""}