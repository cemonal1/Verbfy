(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[458],{42421:function(e,s,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/teachers",function(){return r(86085)}])},86085:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return u}});var a=r(85893),n=r(67294),t=r(96781),i=r(57115),l=r(49244),c=r(71263),d=r(25086),m=r(46162),o=r(73),x=r(3950),h=r(91594);function u(){let{hasAccess:e,isLoading:s,user:r}=(0,t.eB)(["admin"]),{state:u,loadPendingTeachers:f,approveTeacher:g,rejectTeacher:b}=(0,i.A)(),{pendingTeachers:j,teachersLoading:N}=u,[p,v]=(0,n.useState)(null);if(s)return(0,a.jsx)("div",{className:"flex h-screen items-center justify-center",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})});if(!e||!r||"admin"!==r.role)return(0,a.jsx)("div",{className:"flex h-screen items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-red-600",children:"Access Denied"}),(0,a.jsx)("p",{className:"text-gray-600 mt-2",children:"You don't have permission to access this page."})]})});(0,n.useEffect)(()=>{e&&f()},[e,f]);let y=async e=>{v(e),await g(e),v(null)},w=async(e,s)=>{v(e),await b(e,s),v(null)},_=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return(0,a.jsxs)("div",{className:"flex h-screen bg-gray-50",children:[(0,a.jsx)(l.Z,{className:"w-64"}),(0,a.jsx)("div",{className:"flex-1 overflow-auto",children:(0,a.jsxs)("div",{className:"p-8",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Teacher Approval"}),(0,a.jsx)("p",{className:"text-gray-600 mt-2",children:"Review and approve pending teacher applications"})]}),N?(0,a.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):0===j.length?(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[(0,a.jsx)(x.Z,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Pending Applications"}),(0,a.jsx)("p",{className:"text-gray-600",children:"There are no teacher applications waiting for approval."})]}):(0,a.jsx)("div",{className:"grid gap-6",children:j.map(e=>(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center mb-4",children:[(0,a.jsx)("div",{className:"bg-blue-100 rounded-full p-3 mr-4",children:(0,a.jsx)(x.Z,{className:"h-6 w-6 text-blue-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:e.name}),(0,a.jsxs)("div",{className:"flex items-center text-gray-600 mt-1",children:[(0,a.jsx)(o.Z,{className:"h-4 w-4 mr-1"}),(0,a.jsx)("span",{className:"text-sm",children:e.email})]})]})]}),e.bio&&(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Bio"}),(0,a.jsx)("p",{className:"text-gray-600 text-sm",children:e.bio})]}),e.phone&&(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-1",children:"Phone"}),(0,a.jsx)("p",{className:"text-gray-600 text-sm",children:e.phone})]}),(0,a.jsxs)("div",{className:"flex items-center text-gray-500 text-sm",children:[(0,a.jsx)(c.Z,{className:"h-4 w-4 mr-1"}),(0,a.jsxs)("span",{children:["Applied on ",_(e.createdAt)]})]})]}),(0,a.jsxs)("div",{className:"flex space-x-3 ml-6",children:[(0,a.jsxs)("button",{onClick:()=>y(e._id),disabled:p===e._id,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[p===e._id?(0,a.jsx)(m.Z,{className:"h-4 w-4 mr-2 animate-spin"}):(0,a.jsx)(d.Z,{className:"h-4 w-4 mr-2"}),"Approve"]}),(0,a.jsxs)("button",{onClick:()=>w(e._id),disabled:p===e._id,className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[p===e._id?(0,a.jsx)(m.Z,{className:"h-4 w-4 mr-2 animate-spin"}):(0,a.jsx)(h.Z,{className:"h-4 w-4 mr-2"}),"Reject"]})]})]})},e._id))})]})})]})}},49244:function(e,s,r){"use strict";r.d(s,{Z:function(){return h}});var a=r(85893);r(67294);var n=r(41664),t=r.n(n),i=r(11163),l=r(64964),c=r(12044),d=r(46162),m=r(74931),o=r(49037),x=r(35892),h=e=>{let{className:s=""}=e,r=(0,i.useRouter)().pathname,n=[{name:"Dashboard",href:"/admin",icon:o.Z,current:"/admin"===r},{name:"Users",href:"/admin/users",icon:x.Z,current:"/admin/users"===r},{name:"Teachers",href:"/admin/teachers",icon:l.Z,current:"/admin/teachers"===r},{name:"Materials",href:"/admin/materials",icon:m.Z,current:"/admin/materials"===r},{name:"Logs",href:"/admin/logs",icon:d.Z,current:"/admin/logs"===r},{name:"Analytics",href:"/analytics",icon:c.Z,current:"/analytics"===r}];return(0,a.jsxs)("div",{className:"bg-white shadow-sm border-r border-gray-200 ".concat(s),children:[(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Admin Panel"}),(0,a.jsx)("nav",{className:"space-y-1",children:n.map(e=>{let s=e.icon;return(0,a.jsxs)(t(),{href:e.href,className:"\n                  group flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors\n                  ".concat(e.current?"bg-blue-50 text-blue-700 border-r-2 border-blue-700":"text-gray-600 hover:bg-gray-50 hover:text-gray-900","\n                "),children:[(0,a.jsx)(s,{className:"\n                    mr-3 h-5 w-5 flex-shrink-0\n                    ".concat(e.current?"text-blue-700":"text-gray-400 group-hover:text-gray-500","\n                  "),"aria-hidden":"true"}),e.name]},e.name)})})]}),(0,a.jsx)("div",{className:"absolute bottom-0 left-0 right-0 p-4 border-t border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)("div",{className:"h-8 w-8 rounded-full bg-blue-600 flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-sm font-medium text-white",children:"A"})})}),(0,a.jsxs)("div",{className:"ml-3",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"Admin"}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Platform Administrator"})]})]})})]})}},96781:function(e,s,r){"use strict";r.d(s,{Fw:function(){return t},__:function(){return i},eB:function(){return n}});var a=r(36197);function n(e){return(0,a.eB)(e)}function t(){let{user:e}=(0,a.aC)();return(null==e?void 0:e.role)==="teacher"||(null==e?void 0:e.role)==="admin"}function i(){let{user:e}=(0,a.aC)();return(null==e?void 0:e.role)==="teacher"||(null==e?void 0:e.role)==="admin"}}},function(e){e.O(0,[5522,2138,9226,9496,8484,437,5823,2244,6235,5323,747,3365,8638,9806,7093,8510,8424,8639,7855,7446,2169,8308,1408,6259,4657,8212,1493,2888,5514,179],function(){return e(e.s=42421)}),_N_E=e.O()}]);