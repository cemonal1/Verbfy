(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9189],{52599:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/dashboard",function(){return a(14991)}])},14991:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return r}});var l=a(85893),t=a(67294),i=a(36197),c=a(11163),d=a(32798);function r(){let{user:e,loading:s}=(0,i.Eu)(),a=(0,c.useRouter)(),[r,n]=(0,t.useState)(null),[x,m]=(0,t.useState)([]),[h,o]=(0,t.useState)(!0);(0,t.useEffect)(()=>{s||(e?"admin"!==e.role?a.replace("/unauthorized"):j():a.replace("/login"))},[e,s,a]);let j=async()=>{try{o(!0);let e=await d.ZP.get("/api/admin/stats");n(e.data);let s=await d.ZP.get("/api/admin/activities");m(s.data.activities||[])}catch(e){console.error("Error fetching admin data:",e)}finally{o(!1)}};return s||h?(0,l.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,l.jsx)("p",{className:"text-gray-600",children:"Loading admin dashboard..."})]})}):e&&"admin"===e.role?(0,l.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,l.jsx)("div",{className:"bg-white shadow",children:(0,l.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,l.jsxs)("div",{className:"flex justify-between items-center py-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Admin Dashboard"}),(0,l.jsxs)("p",{className:"text-gray-600",children:["Welcome back, ",e.name]})]}),(0,l.jsx)("div",{className:"flex items-center space-x-4",children:(0,l.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-purple-100 text-purple-800",children:"Admin"})})]})})}),(0,l.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r&&(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[(0,l.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"flex-shrink-0",children:(0,l.jsx)("div",{className:"w-8 h-8 bg-blue-500 rounded-lg flex items-center justify-center",children:(0,l.jsx)("i",{className:"fas fa-users text-white"})})}),(0,l.jsxs)("div",{className:"ml-4",children:[(0,l.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Total Users"}),(0,l.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:r.totalUsers})]})]})}),(0,l.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"flex-shrink-0",children:(0,l.jsx)("div",{className:"w-8 h-8 bg-green-500 rounded-lg flex items-center justify-center",children:(0,l.jsx)("i",{className:"fas fa-chalkboard-teacher text-white"})})}),(0,l.jsxs)("div",{className:"ml-4",children:[(0,l.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Teachers"}),(0,l.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:r.totalTeachers})]})]})}),(0,l.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"flex-shrink-0",children:(0,l.jsx)("div",{className:"w-8 h-8 bg-purple-500 rounded-lg flex items-center justify-center",children:(0,l.jsx)("i",{className:"fas fa-user-graduate text-white"})})}),(0,l.jsxs)("div",{className:"ml-4",children:[(0,l.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Students"}),(0,l.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:r.totalStudents})]})]})}),(0,l.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"flex-shrink-0",children:(0,l.jsx)("div",{className:"w-8 h-8 bg-yellow-500 rounded-lg flex items-center justify-center",children:(0,l.jsx)("i",{className:"fas fa-calendar-check text-white"})})}),(0,l.jsxs)("div",{className:"ml-4",children:[(0,l.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Reservations"}),(0,l.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:r.totalReservations})]})]})}),(0,l.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"flex-shrink-0",children:(0,l.jsx)("div",{className:"w-8 h-8 bg-indigo-500 rounded-lg flex items-center justify-center",children:(0,l.jsx)("i",{className:"fas fa-file-alt text-white"})})}),(0,l.jsxs)("div",{className:"ml-4",children:[(0,l.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Materials"}),(0,l.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:r.totalMaterials})]})]})}),(0,l.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"flex-shrink-0",children:(0,l.jsx)("div",{className:"w-8 h-8 bg-red-500 rounded-lg flex items-center justify-center",children:(0,l.jsx)("i",{className:"fas fa-video text-white"})})}),(0,l.jsxs)("div",{className:"ml-4",children:[(0,l.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Active Lessons"}),(0,l.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:r.activeLessons})]})]})})]}),(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,l.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,l.jsx)("h2",{className:"text-lg font-medium text-gray-900",children:"Recent Activities"})}),(0,l.jsx)("div",{className:"p-6",children:x.length>0?(0,l.jsx)("div",{className:"space-y-4",children:x.map(e=>(0,l.jsxs)("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 rounded-lg",children:[(0,l.jsx)("div",{className:"flex-shrink-0",children:(0,l.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,l.jsx)("i",{className:"fas fa-info text-blue-600"})})}),(0,l.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,l.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.description}),e.user&&(0,l.jsxs)("p",{className:"text-sm text-gray-500",children:["by ",e.user.name," (",e.user.email,")"]})]}),(0,l.jsx)("div",{className:"flex-shrink-0",children:(0,l.jsx)("p",{className:"text-sm text-gray-500",children:new Date(e.timestamp).toLocaleDateString()})})]},e.id))}):(0,l.jsx)("div",{className:"text-center py-8",children:(0,l.jsx)("p",{className:"text-gray-500",children:"No recent activities"})})})]})]})]}):null}}},function(e){e.O(0,[1216,2888,179],function(){return e(e.s=52599)}),_N_E=e.O()}]);
//# sourceMappingURL=dashboard-8f612341ad4ab93f.js.map