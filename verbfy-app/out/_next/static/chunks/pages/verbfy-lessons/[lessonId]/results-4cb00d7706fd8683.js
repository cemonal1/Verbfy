(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7041],{10551:function(e,s,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/verbfy-lessons/[lessonId]/results",function(){return r(68658)}])},68658:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return m}});var t=r(85893),n=r(67294),a=r(11163),l=r(9008),c=r.n(l),i=r(11088),d=r(36197),o=r(56158);function m(){var e;let s=(0,a.useRouter)(),{lessonId:r}=s.query,{user:l}=(0,d.Eu)(),{error:m}=(0,o.pm)(),[x,u]=(0,n.useState)(null),[h,g]=(0,n.useState)(!0);(0,n.useEffect)(()=>{r&&"string"==typeof r&&p()},[r]);let p=async()=>{try{g(!0),u({_id:"attempt-id",student:(null==l?void 0:l._id)||"",lessonId:r,resourceType:"lesson",lessonType:"VerbfyGrammar",cefrLevel:"B1",startedAt:new Date().toISOString(),score:88,maxScore:100,timeSpent:1200,isCompleted:!0,isPassed:!0,answers:[{questionIndex:0,studentAnswer:"A",correctAnswer:"A",isCorrect:!0,points:10},{questionIndex:1,studentAnswer:"The cat is sleeping",correctAnswer:"The cat is sleeping",isCorrect:!0,points:15},{questionIndex:2,studentAnswer:"B",correctAnswer:"C",isCorrect:!1,points:0},{questionIndex:3,studentAnswer:"quickly",correctAnswer:"quickly",isCorrect:!0,points:10}],skills:{grammar:85,reading:90,writing:80,speaking:85,listening:88,vocabulary:92},feedback:{overall:"Excellent work! You demonstrated strong understanding of the lesson concepts.",strengths:["Good grasp of grammar rules","Strong vocabulary usage","Clear understanding of the main concepts"],areasForImprovement:["Pay attention to question 3 - review the context more carefully","Practice more with complex sentence structures"],recommendations:["Try the next lesson in this series","Practice with similar exercises to reinforce learning","Review the grammar rules covered in this lesson"]}})}catch(e){m("Failed to load lesson results"),console.error("Error loading lesson results:",e)}finally{g(!1)}},b=e=>e>=90?"text-green-600":e>=80?"text-blue-600":e>=70?"text-yellow-600":"text-red-600",j=e=>e>=90?"bg-green-100":e>=80?"bg-blue-100":e>=70?"bg-yellow-100":"bg-red-100";return h?(0,t.jsx)(i.Z,{allowedRoles:["student","teacher","admin"],children:(0,t.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):x?(0,t.jsxs)(i.Z,{allowedRoles:["student","teacher","admin"],children:[(0,t.jsx)(c(),{children:(0,t.jsx)("title",{children:"Lesson Results - Verbfy"})}),(0,t.jsxs)("div",{className:"p-6 max-w-6xl mx-auto",children:[(0,t.jsx)("div",{className:"mb-8",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Lesson Results"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Your performance analysis and detailed feedback"})]}),(0,t.jsx)("button",{onClick:()=>s.push("/verbfy-lessons"),className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",children:"Back to Lessons"})]})}),(0,t.jsx)("div",{className:"mb-8 p-6 bg-white rounded-lg shadow-sm border",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"inline-flex items-center justify-center w-24 h-24 rounded-full ".concat(j(x.score)," mb-4"),children:(0,t.jsxs)("span",{className:"text-3xl font-bold ".concat(b(x.score)),children:[x.score,"%"]})}),(0,t.jsx)("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:x.isPassed?"\uD83C\uDF89 Great Job!":"Keep Practicing!"}),(0,t.jsx)("p",{className:"text-gray-600 mb-4",children:x.isPassed?"You successfully completed the lesson with a score of ".concat(x.score,"%!"):"You need ".concat(x.maxScore-x.score," more points to pass.")}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[(0,t.jsxs)("div",{className:"p-3 bg-gray-50 rounded-lg",children:[(0,t.jsx)("div",{className:"font-medium text-gray-900",children:"Time Spent"}),(0,t.jsx)("div",{className:"text-gray-600",children:(e=x.timeSpent,"".concat(Math.floor(e/60),"m ").concat(e%60,"s"))})]}),(0,t.jsxs)("div",{className:"p-3 bg-gray-50 rounded-lg",children:[(0,t.jsx)("div",{className:"font-medium text-gray-900",children:"CEFR Level"}),(0,t.jsx)("div",{className:"text-gray-600",children:x.cefrLevel})]}),(0,t.jsxs)("div",{className:"p-3 bg-gray-50 rounded-lg",children:[(0,t.jsx)("div",{className:"font-medium text-gray-900",children:"Status"}),(0,t.jsx)("div",{className:"font-medium ".concat(x.isPassed?"text-green-600":"text-red-600"),children:x.isPassed?"Completed":"Incomplete"})]})]})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Skills Assessment"}),(0,t.jsx)("div",{className:"space-y-4",children:Object.entries(x.skills).map(e=>{let[s,r]=e;return(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsxs)("span",{className:"w-4 h-4 mr-3",children:["grammar"===s&&"\uD83D\uDCDD","reading"===s&&"\uD83D\uDCD6","writing"===s&&"✍️","speaking"===s&&"\uD83C\uDFA4","listening"===s&&"\uD83C\uDFA7","vocabulary"===s&&"\uD83D\uDCDA"]}),(0,t.jsx)("span",{className:"capitalize font-medium text-gray-900",children:s})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"w-32 bg-gray-200 rounded-full h-2",children:(0,t.jsx)("div",{className:"h-2 rounded-full ".concat(j(r)),style:{width:"".concat(r,"%")}})}),(0,t.jsxs)("span",{className:"font-semibold ".concat(b(r)),children:[r,"%"]})]})]},s)})})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Detailed Feedback"}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Overall Assessment"}),(0,t.jsx)("p",{className:"text-gray-600 text-sm leading-relaxed",children:x.feedback.overall})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h4",{className:"font-medium text-green-700 mb-2 flex items-center",children:[(0,t.jsx)("span",{className:"mr-2",children:"✅"}),"Your Strengths"]}),(0,t.jsx)("ul",{className:"space-y-1",children:x.feedback.strengths.map((e,s)=>(0,t.jsxs)("li",{className:"text-sm text-gray-600 flex items-start",children:[(0,t.jsx)("span",{className:"mr-2",children:"•"}),e]},s))})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h4",{className:"font-medium text-orange-700 mb-2 flex items-center",children:[(0,t.jsx)("span",{className:"mr-2",children:"\uD83D\uDD27"}),"Areas for Improvement"]}),(0,t.jsx)("ul",{className:"space-y-1",children:x.feedback.areasForImprovement.map((e,s)=>(0,t.jsxs)("li",{className:"text-sm text-gray-600 flex items-start",children:[(0,t.jsx)("span",{className:"mr-2",children:"•"}),e]},s))})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h4",{className:"font-medium text-blue-700 mb-2 flex items-center",children:[(0,t.jsx)("span",{className:"mr-2",children:"\uD83D\uDCA1"}),"Recommendations"]}),(0,t.jsx)("ul",{className:"space-y-1",children:x.feedback.recommendations.map((e,s)=>(0,t.jsxs)("li",{className:"text-sm text-gray-600 flex items-start",children:[(0,t.jsx)("span",{className:"mr-2",children:"•"}),e]},s))})]})]})]})]}),(0,t.jsxs)("div",{className:"mt-8 bg-white rounded-lg shadow-sm border p-6",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Answer Review"}),(0,t.jsx)("div",{className:"space-y-4",children:x.answers.map((e,s)=>(0,t.jsxs)("div",{className:"p-4 border rounded-lg ".concat(e.isCorrect?"bg-green-50 border-green-200":"bg-red-50 border-red-200"),children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsxs)("span",{className:"font-medium text-gray-900",children:["Question ",e.questionIndex+1]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat(e.isCorrect?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.isCorrect?"Correct":"Incorrect"}),(0,t.jsxs)("span",{className:"text-sm text-gray-600",children:[e.points," points"]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium text-gray-700",children:"Your Answer:"}),(0,t.jsx)("p",{className:"text-gray-900 mt-1",children:e.studentAnswer})]}),!e.isCorrect&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium text-gray-700",children:"Correct Answer:"}),(0,t.jsx)("p",{className:"text-gray-900 mt-1",children:e.correctAnswer})]})]})]},s))})]}),(0,t.jsxs)("div",{className:"mt-8 flex flex-col sm:flex-row gap-4 justify-center",children:[(0,t.jsx)("button",{onClick:()=>s.push("/personalized-curriculum"),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"View My Curriculum"}),(0,t.jsx)("button",{onClick:()=>s.push("/verbfy-lessons"),className:"px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium",children:"Take Another Lesson"}),(0,t.jsx)("button",{onClick:()=>s.push("/cefr-tests"),className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"Take a Test"})]})]})]}):(0,t.jsx)(i.Z,{allowedRoles:["student","teacher","admin"],children:(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Results not found"}),(0,t.jsx)("button",{onClick:()=>s.push("/verbfy-lessons"),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Back to Lessons"})]})})}}},function(e){e.O(0,[1216,1088,2888,179],function(){return e(e.s=10551)}),_N_E=e.O()}]);
//# sourceMappingURL=results-4cb00d7706fd8683.js.map