{"version":3,"file":"static/chunks/pages/verbfy-lessons/[lessonId]/results-4cb00d7706fd8683.js","mappings":"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","sources":["webpack://_N_E/?d6c6","webpack://_N_E/./pages/verbfy-lessons/[lessonId]/results.tsx"],"sourcesContent":["\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/verbfy-lessons/[lessonId]/results\",\n      function () {\n        return require(\"private-next-pages/verbfy-lessons/[lessonId]/results.tsx\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/verbfy-lessons/[lessonId]/results\"])\n      });\n    }\n  ","import React, { useState, useEffect } from 'react';\r\nimport { useRouter } from 'next/router';\r\nimport Head from 'next/head';\r\nimport DashboardLayout from '@/components/layout/DashboardLayout';\r\nimport { verbfyLessonsAPI } from '@/lib/api';\r\nimport { LessonAttempt } from '@/types/verbfyLessons';\r\nimport { useAuthContext } from '@/context/AuthContext';\r\nimport { useToast } from '@/components/common/Toast';\r\n\r\nexport default function LessonResultsPage() {\r\n  const router = useRouter();\r\n  const { lessonId } = router.query;\r\n  const { user } = useAuthContext();\r\n  const { error } = useToast();\r\n  \r\n  const [attempt, setAttempt] = useState<LessonAttempt | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    if (lessonId && typeof lessonId === 'string') {\r\n      loadLessonResults();\r\n    }\r\n  }, [lessonId]);\r\n\r\n  const loadLessonResults = async () => {\r\n    try {\r\n      setLoading(true);\r\n      // This would need to be implemented in the API\r\n      // const response = await verbfyLessonsAPI.getLessonResults(lessonId);\r\n      // setAttempt(response.attempt);\r\n      \r\n      // For now, we'll simulate the data structure\r\n      setAttempt({\r\n        _id: 'attempt-id',\r\n        student: user?._id || '',\r\n        lessonId: lessonId as string,\r\n        resourceType: 'lesson',\r\n        lessonType: 'VerbfyGrammar',\r\n        cefrLevel: 'B1',\r\n        startedAt: new Date().toISOString(),\r\n        score: 88,\r\n        maxScore: 100,\r\n        timeSpent: 1200, // 20 minutes\r\n        isCompleted: true,\r\n        isPassed: true,\r\n        answers: [\r\n          { questionIndex: 0, studentAnswer: 'A', correctAnswer: 'A', isCorrect: true, points: 10 },\r\n          { questionIndex: 1, studentAnswer: 'The cat is sleeping', correctAnswer: 'The cat is sleeping', isCorrect: true, points: 15 },\r\n          { questionIndex: 2, studentAnswer: 'B', correctAnswer: 'C', isCorrect: false, points: 0 },\r\n          { questionIndex: 3, studentAnswer: 'quickly', correctAnswer: 'quickly', isCorrect: true, points: 10 }\r\n        ],\r\n        skills: {\r\n          grammar: 85,\r\n          reading: 90,\r\n          writing: 80,\r\n          speaking: 85,\r\n          listening: 88,\r\n          vocabulary: 92\r\n        },\r\n        feedback: {\r\n          overall: 'Excellent work! You demonstrated strong understanding of the lesson concepts.',\r\n          strengths: [\r\n            'Good grasp of grammar rules',\r\n            'Strong vocabulary usage',\r\n            'Clear understanding of the main concepts'\r\n          ],\r\n          areasForImprovement: [\r\n            'Pay attention to question 3 - review the context more carefully',\r\n            'Practice more with complex sentence structures'\r\n          ],\r\n          recommendations: [\r\n            'Try the next lesson in this series',\r\n            'Practice with similar exercises to reinforce learning',\r\n            'Review the grammar rules covered in this lesson'\r\n          ]\r\n        }\r\n      } as LessonAttempt);\r\n    } catch (err) {\r\n      error('Failed to load lesson results');\r\n      console.error('Error loading lesson results:', err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const getScoreColor = (score: number) => {\r\n    if (score >= 90) return 'text-green-600';\r\n    if (score >= 80) return 'text-blue-600';\r\n    if (score >= 70) return 'text-yellow-600';\r\n    return 'text-red-600';\r\n  };\r\n\r\n  const getScoreBackground = (score: number) => {\r\n    if (score >= 90) return 'bg-green-100';\r\n    if (score >= 80) return 'bg-blue-100';\r\n    if (score >= 70) return 'bg-yellow-100';\r\n    return 'bg-red-100';\r\n  };\r\n\r\n  const formatTime = (seconds: number) => {\r\n    const minutes = Math.floor(seconds / 60);\r\n    const secs = seconds % 60;\r\n    return `${minutes}m ${secs}s`;\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <DashboardLayout allowedRoles={['student', 'teacher', 'admin']}>\r\n        <div className=\"flex items-center justify-center h-64\">\r\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"></div>\r\n        </div>\r\n      </DashboardLayout>\r\n    );\r\n  }\r\n\r\n  if (!attempt) {\r\n    return (\r\n      <DashboardLayout allowedRoles={['student', 'teacher', 'admin']}>\r\n        <div className=\"text-center py-12\">\r\n          <h2 className=\"text-xl font-semibold text-gray-900 mb-2\">Results not found</h2>\r\n          <button\r\n            onClick={() => router.push('/verbfy-lessons')}\r\n            className=\"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors\"\r\n          >\r\n            Back to Lessons\r\n          </button>\r\n        </div>\r\n      </DashboardLayout>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <DashboardLayout allowedRoles={['student', 'teacher', 'admin']}>\r\n      <Head>\r\n        <title>Lesson Results - Verbfy</title>\r\n      </Head>\r\n\r\n      <div className=\"p-6 max-w-6xl mx-auto\">\r\n        {/* Header */}\r\n        <div className=\"mb-8\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">Lesson Results</h1>\r\n              <p className=\"text-gray-600\">\r\n                Your performance analysis and detailed feedback\r\n              </p>\r\n            </div>\r\n            <button\r\n              onClick={() => router.push('/verbfy-lessons')}\r\n              className=\"px-4 py-2 text-gray-600 border border-gray-300 rounded-md hover:bg-gray-50 transition-colors\"\r\n            >\r\n              Back to Lessons\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Overall Score Card */}\r\n        <div className=\"mb-8 p-6 bg-white rounded-lg shadow-sm border\">\r\n          <div className=\"text-center\">\r\n            <div className={`inline-flex items-center justify-center w-24 h-24 rounded-full ${getScoreBackground(attempt.score)} mb-4`}>\r\n              <span className={`text-3xl font-bold ${getScoreColor(attempt.score)}`}>\r\n                {attempt.score}%\r\n              </span>\r\n            </div>\r\n            <h2 className=\"text-2xl font-semibold text-gray-900 mb-2\">\r\n              {attempt.isPassed ? '🎉 Great Job!' : 'Keep Practicing!'}\r\n            </h2>\r\n            <p className=\"text-gray-600 mb-4\">\r\n              {attempt.isPassed \r\n                ? `You successfully completed the lesson with a score of ${attempt.score}%!` \r\n                : `You need ${attempt.maxScore - attempt.score} more points to pass.`\r\n              }\r\n            </p>\r\n            \r\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm\">\r\n              <div className=\"p-3 bg-gray-50 rounded-lg\">\r\n                <div className=\"font-medium text-gray-900\">Time Spent</div>\r\n                <div className=\"text-gray-600\">{formatTime(attempt.timeSpent)}</div>\r\n              </div>\r\n              <div className=\"p-3 bg-gray-50 rounded-lg\">\r\n                <div className=\"font-medium text-gray-900\">CEFR Level</div>\r\n                <div className=\"text-gray-600\">{attempt.cefrLevel}</div>\r\n              </div>\r\n              <div className=\"p-3 bg-gray-50 rounded-lg\">\r\n                <div className=\"font-medium text-gray-900\">Status</div>\r\n                <div className={`font-medium ${attempt.isPassed ? 'text-green-600' : 'text-red-600'}`}>\r\n                  {attempt.isPassed ? 'Completed' : 'Incomplete'}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\r\n          {/* Skills Breakdown */}\r\n          <div className=\"bg-white rounded-lg shadow-sm border p-6\">\r\n            <h3 className=\"text-xl font-semibold text-gray-900 mb-6\">Skills Assessment</h3>\r\n            \r\n            <div className=\"space-y-4\">\r\n              {Object.entries(attempt.skills).map(([skill, score]) => (\r\n                <div key={skill} className=\"flex items-center justify-between\">\r\n                  <div className=\"flex items-center\">\r\n                    <span className=\"w-4 h-4 mr-3\">\r\n                      {skill === 'grammar' && '📝'}\r\n                      {skill === 'reading' && '📖'}\r\n                      {skill === 'writing' && '✍️'}\r\n                      {skill === 'speaking' && '🎤'}\r\n                      {skill === 'listening' && '🎧'}\r\n                      {skill === 'vocabulary' && '📚'}\r\n                    </span>\r\n                    <span className=\"capitalize font-medium text-gray-900\">{skill}</span>\r\n                  </div>\r\n                  <div className=\"flex items-center space-x-3\">\r\n                    <div className=\"w-32 bg-gray-200 rounded-full h-2\">\r\n                      <div \r\n                        className={`h-2 rounded-full ${getScoreBackground(score)}`}\r\n                        style={{ width: `${score}%` }}\r\n                      ></div>\r\n                    </div>\r\n                    <span className={`font-semibold ${getScoreColor(score)}`}>\r\n                      {score}%\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Feedback */}\r\n          <div className=\"bg-white rounded-lg shadow-sm border p-6\">\r\n            <h3 className=\"text-xl font-semibold text-gray-900 mb-6\">Detailed Feedback</h3>\r\n            \r\n            <div className=\"space-y-6\">\r\n              {/* Overall Feedback */}\r\n              <div>\r\n                <h4 className=\"font-medium text-gray-900 mb-2\">Overall Assessment</h4>\r\n                <p className=\"text-gray-600 text-sm leading-relaxed\">\r\n                  {attempt.feedback.overall}\r\n                </p>\r\n              </div>\r\n\r\n              {/* Strengths */}\r\n              <div>\r\n                <h4 className=\"font-medium text-green-700 mb-2 flex items-center\">\r\n                  <span className=\"mr-2\">✅</span>\r\n                  Your Strengths\r\n                </h4>\r\n                <ul className=\"space-y-1\">\r\n                  {attempt.feedback.strengths.map((strength, index) => (\r\n                    <li key={index} className=\"text-sm text-gray-600 flex items-start\">\r\n                      <span className=\"mr-2\">•</span>\r\n                      {strength}\r\n                    </li>\r\n                  ))}\r\n                </ul>\r\n              </div>\r\n\r\n              {/* Areas for Improvement */}\r\n              <div>\r\n                <h4 className=\"font-medium text-orange-700 mb-2 flex items-center\">\r\n                  <span className=\"mr-2\">🔧</span>\r\n                  Areas for Improvement\r\n                </h4>\r\n                <ul className=\"space-y-1\">\r\n                  {attempt.feedback.areasForImprovement.map((area, index) => (\r\n                    <li key={index} className=\"text-sm text-gray-600 flex items-start\">\r\n                      <span className=\"mr-2\">•</span>\r\n                      {area}\r\n                    </li>\r\n                  ))}\r\n                </ul>\r\n              </div>\r\n\r\n              {/* Recommendations */}\r\n              <div>\r\n                <h4 className=\"font-medium text-blue-700 mb-2 flex items-center\">\r\n                  <span className=\"mr-2\">💡</span>\r\n                  Recommendations\r\n                </h4>\r\n                <ul className=\"space-y-1\">\r\n                  {attempt.feedback.recommendations.map((recommendation, index) => (\r\n                    <li key={index} className=\"text-sm text-gray-600 flex items-start\">\r\n                      <span className=\"mr-2\">•</span>\r\n                      {recommendation}\r\n                    </li>\r\n                  ))}\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Answer Review */}\r\n        <div className=\"mt-8 bg-white rounded-lg shadow-sm border p-6\">\r\n          <h3 className=\"text-xl font-semibold text-gray-900 mb-6\">Answer Review</h3>\r\n          \r\n          <div className=\"space-y-4\">\r\n            {attempt.answers.map((answer, index) => (\r\n              <div key={index} className={`p-4 border rounded-lg ${\r\n                answer.isCorrect ? 'bg-green-50 border-green-200' : 'bg-red-50 border-red-200'\r\n              }`}>\r\n                <div className=\"flex items-center justify-between mb-2\">\r\n                  <span className=\"font-medium text-gray-900\">Question {answer.questionIndex + 1}</span>\r\n                  <div className=\"flex items-center space-x-2\">\r\n                    <span className={`px-2 py-1 text-xs font-medium rounded-full ${\r\n                      answer.isCorrect ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'\r\n                    }`}>\r\n                      {answer.isCorrect ? 'Correct' : 'Incorrect'}\r\n                    </span>\r\n                    <span className=\"text-sm text-gray-600\">{answer.points} points</span>\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm\">\r\n                  <div>\r\n                    <span className=\"font-medium text-gray-700\">Your Answer:</span>\r\n                    <p className=\"text-gray-900 mt-1\">{answer.studentAnswer}</p>\r\n                  </div>\r\n                  {!answer.isCorrect && (\r\n                    <div>\r\n                      <span className=\"font-medium text-gray-700\">Correct Answer:</span>\r\n                      <p className=\"text-gray-900 mt-1\">{answer.correctAnswer}</p>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Action Buttons */}\r\n        <div className=\"mt-8 flex flex-col sm:flex-row gap-4 justify-center\">\r\n          <button\r\n            onClick={() => router.push('/personalized-curriculum')}\r\n            className=\"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium\"\r\n          >\r\n            View My Curriculum\r\n          </button>\r\n          <button\r\n            onClick={() => router.push('/verbfy-lessons')}\r\n            className=\"px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium\"\r\n          >\r\n            Take Another Lesson\r\n          </button>\r\n          <button\r\n            onClick={() => router.push('/cefr-tests')}\r\n            className=\"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium\"\r\n          >\r\n            Take a Test\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </DashboardLayout>\r\n  );\r\n} "],"names":["window","__NEXT_P","push","__webpack_require__","LessonResultsPage","seconds","router","useRouter","lessonId","query","user","useAuthContext","error","useToast","attempt","setAttempt","useState","loading","setLoading","useEffect","loadLessonResults","_id","student","resourceType","lessonType","cefrLevel","startedAt","Date","toISOString","score","maxScore","timeSpent","isCompleted","isPassed","answers","questionIndex","studentAnswer","correctAnswer","isCorrect","points","skills","grammar","reading","writing","speaking","listening","vocabulary","feedback","overall","strengths","areasForImprovement","recommendations","err","console","getScoreColor","getScoreBackground","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","jsx","DashboardLayout","allowedRoles","div","className","jsxs","Head","title","h1","p","button","onClick","concat","span","h2","secs","Math","floor","h3","Object","entries","map","skill","param","style","width","h4","ul","strength","index","li","area","recommendation","answer"],"sourceRoot":""}