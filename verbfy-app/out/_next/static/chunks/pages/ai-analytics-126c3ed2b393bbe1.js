(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[922],{88087:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/ai-analytics",function(){return t(14474)}])},14474:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return x}});var a=t(85893),l=t(67294),r=t(9008),n=t.n(r),c=t(32798),i=t(36197);let d=e=>{let{userRole:s}=e,{user:t}=(0,i.Eu)(),[r,n]=(0,l.useState)(null),[d,m]=(0,l.useState)(null),[x,o]=(0,l.useState)(!0),[h,g]=(0,l.useState)("weekly"),[u,j]=(0,l.useState)(new Date().toISOString().split("T")[0]);(0,l.useEffect)(()=>{N()},[h,u]);let N=async()=>{try{o(!0);let e=null===c.qV||void 0===c.qV?void 0:c.qV.getAnalytics,s=null===c.qV||void 0===c.qV?void 0:c.qV.getUserProgress,[t,a]=await Promise.all([null==e?void 0:e({period:h,startDate:u,endDate:u}),null==s?void 0:s({period:h,startDate:u,endDate:u})]);(null==t?void 0:t.analytics)&&n(t.analytics),a&&m(a)}catch(e){}finally{o(!1)}},f=e=>new Intl.NumberFormat().format(e),v=e=>"".concat((100*e).toFixed(1),"%"),y=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e),p=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.7;return e>=s?"text-green-600":e>=.8*s?"text-yellow-600":"text-red-600"},b=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.7;return e>=s?"bg-green-100":e>=.8*s?"bg-yellow-100":"bg-red-100"};return x?(0,a.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Loading AI analytics..."})]})}):(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"AI Analytics Dashboard"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"Comprehensive insights into AI performance and user engagement"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("select",{value:h,onChange:e=>g(e.target.value),className:"border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,a.jsx)("option",{value:"daily",children:"Daily"}),(0,a.jsx)("option",{value:"weekly",children:"Weekly"}),(0,a.jsx)("option",{value:"monthly",children:"Monthly"})]}),(0,a.jsx)("input",{type:"date",value:u,onChange:e=>j(e.target.value),className:"border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})}),r&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Sessions"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:f(r.metrics.totalSessions)})]}),(0,a.jsx)("div",{className:"text-3xl",children:"\uD83E\uDD16"})]}),(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsxs)("div",{className:"flex items-center text-sm",children:[(0,a.jsx)("span",{className:"text-green-600",children:"+12.5%"}),(0,a.jsx)("span",{className:"text-gray-500 ml-1",children:"from last period"})]})})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Active Users"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:f(r.metrics.activeUsers)})]}),(0,a.jsx)("div",{className:"text-3xl",children:"\uD83D\uDC65"})]}),(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsxs)("div",{className:"flex items-center text-sm",children:[(0,a.jsx)("span",{className:"text-green-600",children:"+8.3%"}),(0,a.jsx)("span",{className:"text-gray-500 ml-1",children:"from last period"})]})})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Satisfaction Score"}),(0,a.jsxs)("p",{className:"text-2xl font-bold ".concat(p(r.metrics.satisfactionScore)),children:[(100*r.metrics.satisfactionScore).toFixed(1),"%"]})]}),(0,a.jsx)("div",{className:"text-3xl",children:"⭐"})]}),(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsxs)("div",{className:"flex items-center text-sm",children:[(0,a.jsx)("span",{className:"text-green-600",children:"+2.1%"}),(0,a.jsx)("span",{className:"text-gray-500 ml-1",children:"from last period"})]})})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"AI Accuracy"}),(0,a.jsxs)("p",{className:"text-2xl font-bold ".concat(p(r.aiPerformance.modelAccuracy)),children:[(100*r.aiPerformance.modelAccuracy).toFixed(1),"%"]})]}),(0,a.jsx)("div",{className:"text-3xl",children:"\uD83C\uDFAF"})]}),(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsxs)("div",{className:"flex items-center text-sm",children:[(0,a.jsx)("span",{className:"text-green-600",children:"+1.8%"}),(0,a.jsx)("span",{className:"text-gray-500 ml-1",children:"from last period"})]})})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"AI Performance Metrics"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Model Accuracy"}),(0,a.jsx)("span",{className:"text-sm font-medium ".concat(p(r.aiPerformance.modelAccuracy)),children:v(r.aiPerformance.modelAccuracy)})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,a.jsx)("div",{className:"h-2 rounded-full ".concat(b(r.aiPerformance.modelAccuracy)),style:{width:"".concat(100*r.aiPerformance.modelAccuracy,"%")}})}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Average Response Time"}),(0,a.jsxs)("span",{className:"text-sm font-medium text-gray-900",children:[r.aiPerformance.averageResponseTime.toFixed(1),"s"]})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,a.jsx)("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:"".concat(Math.min(r.aiPerformance.averageResponseTime/5*100,100),"%")}})}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Error Rate"}),(0,a.jsx)("span",{className:"text-sm font-medium ".concat(p(1-r.aiPerformance.errorRate)),children:v(r.aiPerformance.errorRate)})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,a.jsx)("div",{className:"h-2 rounded-full ".concat(b(1-r.aiPerformance.errorRate)),style:{width:"".concat((1-r.aiPerformance.errorRate)*100,"%")}})}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Correction Accuracy"}),(0,a.jsx)("span",{className:"text-sm font-medium ".concat(p(r.aiPerformance.correctionAccuracy)),children:v(r.aiPerformance.correctionAccuracy)})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,a.jsx)("div",{className:"h-2 rounded-full ".concat(b(r.aiPerformance.correctionAccuracy)),style:{width:"".concat(100*r.aiPerformance.correctionAccuracy,"%")}})})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"User Engagement"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:r.userEngagement.newUsers}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"New Users"})]}),(0,a.jsxs)("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-green-600",children:r.userEngagement.returningUsers}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Returning Users"})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Churn Rate"}),(0,a.jsx)("span",{className:"text-sm font-medium ".concat(p(1-r.userEngagement.churnRate)),children:v(r.userEngagement.churnRate)})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,a.jsx)("div",{className:"h-2 rounded-full ".concat(b(1-r.userEngagement.churnRate)),style:{width:"".concat((1-r.userEngagement.churnRate)*100,"%")}})}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Avg Sessions per User"}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-900",children:r.userEngagement.averageSessionsPerUser.toFixed(1)})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,a.jsx)("div",{className:"bg-purple-600 h-2 rounded-full",style:{width:"".concat(Math.min(r.userEngagement.averageSessionsPerUser/10*100,100),"%")}})})]}),(0,a.jsxs)("div",{className:"mt-6",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Most Popular Features"}),(0,a.jsx)("div",{className:"space-y-2",children:r.userEngagement.mostPopularFeatures.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:e.feature}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-900",children:e.usageCount})]},s))})]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Content Performance"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-yellow-600",children:r.contentPerformance.totalContentGenerated}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Total Generated"})]}),(0,a.jsxs)("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-green-600",children:r.contentPerformance.approvedContent}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Approved"})]}),(0,a.jsxs)("div",{className:"text-center p-4 bg-red-50 rounded-lg",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-red-600",children:r.contentPerformance.rejectedContent}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Rejected"})]})]}),(0,a.jsxs)("div",{className:"mt-6",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Content by Level"}),(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-4",children:r.contentPerformance.contentByLevel.map((e,s)=>(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-lg font-bold text-gray-900",children:e.count}),(0,a.jsx)("div",{className:"text-xs text-gray-600",children:e.level}),(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:["⭐ ",e.averageRating.toFixed(1)]})]},s))})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Cost Analysis"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,a.jsxs)("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:y(r.costAnalysis.totalCost)}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Total Cost"})]}),(0,a.jsxs)("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-green-600",children:y(r.costAnalysis.costPerSession)}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Cost per Session"})]}),(0,a.jsxs)("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:y(r.costAnalysis.costPerUser)}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Cost per User"})]}),(0,a.jsxs)("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:v(r.costAnalysis.roi)}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"ROI"})]})]})]}),d&&(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Skill Improvements"}),(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:Object.entries(d.skills).map(e=>{let[s,t]=e;return(0,a.jsxs)("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[(0,a.jsx)("div",{className:"text-lg font-bold text-gray-900 capitalize",children:s}),(0,a.jsxs)("div",{className:"text-2xl font-bold text-blue-600",children:[t.current,"%"]}),(0,a.jsxs)("div",{className:"text-sm text-green-600",children:["+",t.improvement,"%"]}),(0,a.jsxs)("div",{className:"text-xs text-gray-500 mt-2",children:[t.sessions," sessions | ",t.exercises," exercises"]})]},s)})})]})]})]})})};var m=t(11163);function x(){let{user:e,loading:s}=(0,i.Eu)(),t=(0,m.useRouter)();return((0,l.useEffect)(()=>{s||e||t.push("/login")},[e,s,t]),s)?(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Loading..."})]})}):e?"teacher"!==e.role&&"admin"!==e.role?(t.push("/unauthorized"),null):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(n(),{children:[(0,a.jsx)("title",{children:"AI Analytics - Verbfy"}),(0,a.jsx)("meta",{name:"description",content:"Comprehensive AI performance analytics and insights"})]}),(0,a.jsx)(d,{userRole:e.role})]}):null}}},function(e){e.O(0,[2138,9226,9496,8484,437,1883,7,747,3365,8638,9806,7093,8510,8424,8639,7855,7446,2169,8308,1408,6259,4657,8212,5522,1493,2888,5514,179],function(){return e(e.s=88087)}),_N_E=e.O()}]);