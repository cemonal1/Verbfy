{"version":3,"file":"static/chunks/pages/register-c131559b87eca037.js","mappings":"qFACA,CAAAA,OAAAC,QAAA,CAAAD,OAAAC,QAAA,MAAAC,IAAA,EACA,YACA,WACA,OAAeC,EAAQ,MACvB,EACA,wNCiBe,SAASC,IACtB,GAAM,CAAEC,QAAAA,CAAO,CAAEC,eAAAA,CAAc,CAAE,CAAGC,CAAAA,EAAAA,EAAAA,EAAAA,IAC9BC,EAASC,CAAAA,EAAAA,EAAAA,SAAAA,IACT,CAAEC,EAAAA,CAAC,CAAEC,OAAAA,CAAM,CAAEC,UAAAA,CAAS,CAAE,CAAGC,CAAAA,EAAAA,EAAAA,CAAAA,IAC3B,CAACC,EAAMC,EAAQ,CAAGC,CAAAA,EAAAA,EAAAA,QAAAA,EAAS,IAC3B,CAACC,EAAOC,EAAS,CAAGF,CAAAA,EAAAA,EAAAA,QAAAA,EAAS,IAC7B,CAACG,EAAUC,EAAY,CAAGJ,CAAAA,EAAAA,EAAAA,QAAAA,EAAS,IACnC,CAACK,EAAMC,EAAQ,CAAGN,CAAAA,EAAAA,EAAAA,QAAAA,EAAgC,WAClD,CAACO,EAASC,EAAW,CAAGR,CAAAA,EAAAA,EAAAA,QAAAA,EAAS,IACjC,CAACS,EAAOC,EAAS,CAAGV,CAAAA,EAAAA,EAAAA,QAAAA,EAAwB,MAE5CW,EAAe,MAAOC,IAE1B,GADAA,EAAEC,cAAc,GACZ,GAAUZ,GAAUE,GACxB,GAAIA,EAASW,MAAM,CAAG,EAAG,CACvBJ,EAAS,0CACT,MACF,CAEAF,EAAW,IACXE,EAAS,MAET,GAAI,CACF,IAAMK,EAAM,MAAMC,EAAAA,EAAGA,CAACC,IAAI,CAAC,iBAAkB,CAAEnB,KAAAA,EAAMG,MAAAA,EAAOE,SAAAA,EAAUE,KAAAA,CAAK,GAG3Ea,CAAAA,EAAAA,EAAAA,EAAAA,EAAkBH,EAAII,IAAI,CAACC,WAAW,EACtC/B,EAAQ0B,EAAII,IAAI,CAACE,IAAI,EACrB/B,EAAeyB,EAAII,IAAI,CAACC,WAAW,EAGnCE,QAAQC,GAAG,CAAC,2BAA4BR,EAAII,IAAI,CAACE,IAAI,EAGjDN,YAAAA,EAAII,IAAI,CAACE,IAAI,CAAChB,IAAI,CACpBb,EAAON,IAAI,CAAC,sBACH6B,YAAAA,EAAII,IAAI,CAACE,IAAI,CAAChB,IAAI,CAC3Bb,EAAON,IAAI,CAAC,sBAEZM,EAAON,IAAI,CAAC,cAGdsC,CAAAA,EAAAA,EAAAA,EAAAA,EAAa,gCACf,CAAE,MAAOC,EAAc,KAEThB,EAAAA,EAAZ,IAAMiB,EAAMjB,CAAAA,OAAAA,CAAAA,EAAAA,EAAMkB,QAAQ,GAAdlB,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,OAAAA,CAAAA,EAAAA,EAAgBU,IAAI,GAApBV,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAsBmB,OAAO,GAAI,sBAC7ClB,EAASgB,GACTG,CAAAA,EAAAA,EAAAA,EAAAA,EAAWH,EACb,QAAU,CACRlB,EAAW,GACb,EACF,EAEMsB,EAAoB,QAGd9C,EACAA,EAHV,IAAM+C,EAAOC,EAAQC,GAAG,CAACC,wBAAwB,EAAI,yBAE/CC,EAAInD,CAAAA,OAAAA,CAAAA,EAAAA,OAAOoD,GAAG,GAAVpD,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAYqD,WAAW,EAAGC,KAAKC,GAAG,CAAC,EAAG,CAACvD,OAAOoD,GAAG,CAAEC,WAAW,CADrD,GACwDG,EAAK,GAAK,IAC/EC,EAAIzD,CAAAA,OAAAA,CAAAA,EAAAA,OAAOoD,GAAG,GAAVpD,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAY0D,UAAU,EAAGJ,KAAKC,GAAG,CAAC,EAAG,CAACvD,OAAOoD,GAAG,CAAEM,UAAU,CAF5D,GAE+DC,EAAK,GAAK,IAE7EC,EAAQ5D,OAAO6D,IAAI,CACvB,GAA0BC,MAAAA,CAAvBf,EAAK,oBAA2BgB,MAAA,CAATD,GAC1B,aACA,SAAqBN,MAAAA,CAPb,IAOG,YAAoBC,MAAAA,CAPd,IAOM,UAAiBN,MAAAA,CAATM,EAAE,SAASM,MAAA,CAAFZ,EAAE,kCAGtCa,EAAU,IAEd,IAAMC,EAAiB,IAAIC,IAAInB,GAAMoB,MAAM,CAC3C,GAAIC,EAAMD,MAAM,GAAKF,EAAgB,CACnC3B,QAAQ+B,IAAI,CAAC,wCAAyCD,EAAMD,MAAM,EAClE,MACF,CAEA,IAAMhC,EAAYiC,EAAMjC,IAAI,EAAI,CAAC,EAGjC,GAFAG,QAAQC,GAAG,CAAC,0BAA2BJ,GAEnCA,CAAAA,MAAAA,EAAAA,KAAAA,EAAAA,EAAMmC,IAAI,IAAK,iBAAmBnC,CAAAA,MAAAA,EAAAA,KAAAA,EAAAA,EAAMoC,KAAK,GAAIpC,CAAAA,MAAAA,EAAAA,KAAAA,EAAAA,EAAME,IAAI,EAAE,CAC/D,GAAI,CAEF,GAAM,CAAEmC,aAAAA,CAAY,CAAE,CAAGC,EAAQ,MACjCD,EAAaE,QAAQ,CAACvC,EAAKoC,KAAK,EAChCC,EAAanE,OAAO,CAAC8B,EAAKE,IAAI,CAChC,CAAE,MAAOsC,EAAG,CAAC,CAGTf,GAAOA,EAAMgB,KAAK,GACtB5E,OAAO6E,QAAQ,CAACC,IAAI,CAAG,YACzB,KAAW3C,CAAAA,MAAAA,EAAAA,KAAAA,EAAAA,EAAMmC,IAAI,IAAK,gBACxBhC,QAAQb,KAAK,CAAC,eAAgBU,EAAKS,OAAO,EACtCgB,GAAOA,EAAMgB,KAAK,GACtBG,MAAM,kDAEV,EAEA/E,OAAOgF,gBAAgB,CAAC,UAAWhB,EAAS,CAAEiB,KAAM,EAAM,GAG1D,IAAMC,EAAcC,YAAY,KAC1BvB,CAAAA,MAAAA,EAAAA,KAAAA,EAAAA,EAAOwB,MAAM,IACfC,cAAcH,GACdlF,OAAOsF,mBAAmB,CAAC,UAAWtB,GAE1C,EAAG,IACL,EAEA,MACE,GAAAuB,EAAAC,IAAA,EAACC,MAAAA,CAAIC,UAAU,+KAEb,GAAAH,EAAAI,GAAA,EAACF,MAAAA,CAAIC,UAAU,uCACb,GAAAH,EAAAI,GAAA,EAACC,SAAAA,CACCC,QAAS,IAAMjF,EAAUD,OAAAA,EAAkB,KAAO,MAClD+E,UAAU,qFACVI,aAAW,kBACXC,MAAOpF,OAAAA,EAAkB,eAAW,mBAEnCA,OAAAA,EAAkB,KAAO,SAI9B,GAAA4E,EAAAC,IAAA,EAACC,MAAAA,CAAIC,UAAU,6CACb,GAAAH,EAAAI,GAAA,EAACF,MAAAA,CAAIC,UAAU,iJACf,GAAAH,EAAAI,GAAA,EAACF,MAAAA,CAAIC,UAAU,iKAGjB,GAAAH,EAAAC,IAAA,EAACC,MAAAA,CAAIC,UAAU,wEAEb,GAAAH,EAAAC,IAAA,EAACC,MAAAA,CAAIC,UAAU,wBACb,GAAAH,EAAAI,GAAA,EAACF,MAAAA,CAAIC,UAAU,4CACb,GAAAH,EAAAI,GAAA,EAACK,EAAAA,CAASA,CAAAA,CAACC,KAAM,GAAIC,UAAW,OAElC,GAAAX,EAAAI,GAAA,EAACQ,IAAAA,CAAET,UAAU,oDAA2C,qCACxD,GAAAH,EAAAI,GAAA,EAACQ,IAAAA,CAAET,UAAU,8CAAsChF,EAAE,wBAAwB,qCAI/E,GAAA6E,EAAAC,IAAA,EAACC,MAAAA,CAAIC,UAAU,2GACb,GAAAH,EAAAC,IAAA,EAACC,MAAAA,CAAIC,UAAU,wBACb,GAAAH,EAAAI,GAAA,EAACS,KAAAA,CAAGV,UAAU,4DAAoDhF,EAAE,sBAAsB,yBAC1F,GAAA6E,EAAAI,GAAA,EAACQ,IAAAA,CAAET,UAAU,8CAAqC,iDAKpD,GAAAH,EAAAC,IAAA,EAACa,OAAAA,CAAKX,UAAU,yBAAyBY,SAAU3E,YAEjD,GAAA4D,EAAAC,IAAA,EAACC,MAAAA,CAAIC,UAAU,sBACb,GAAAH,EAAAI,GAAA,EAACY,QAAAA,CAAMC,QAAQ,OAAOd,UAAU,mDAA2ChF,EAAE,qBAAqB,eAClG,GAAA6E,EAAAI,GAAA,EAACc,QAAAA,CACCC,GAAG,OACH5F,KAAK,OACLwD,KAAK,OACLqC,aAAa,OACbC,SAAQ,GACRlB,UAAU,kPACVmB,YAAanG,EAAE,gCAAgC,wBAC/CoG,MAAOhG,EACPiG,SAAU,GAAOhG,EAAQa,EAAEoF,MAAM,CAACF,KAAK,OAK3C,GAAAvB,EAAAC,IAAA,EAACC,MAAAA,CAAIC,UAAU,sBACb,GAAAH,EAAAI,GAAA,EAACY,QAAAA,CAAMC,QAAQ,QAAQd,UAAU,mDAA2ChF,EAAE,sBAAsB,mBACpG,GAAA6E,EAAAI,GAAA,EAACc,QAAAA,CACCC,GAAG,QACH5F,KAAK,QACLwD,KAAK,QACLqC,aAAa,QACbC,SAAQ,GACRlB,UAAU,kPACVmB,YAAanG,EAAE,iCAAiC,oBAChDoG,MAAO7F,EACP8F,SAAU,GAAO7F,EAASU,EAAEoF,MAAM,CAACF,KAAK,OAK5C,GAAAvB,EAAAC,IAAA,EAACC,MAAAA,CAAIC,UAAU,sBACb,GAAAH,EAAAI,GAAA,EAACY,QAAAA,CAAMC,QAAQ,WAAWd,UAAU,mDAA2ChF,EAAE,yBAAyB,cAC1G,GAAA6E,EAAAI,GAAA,EAACc,QAAAA,CACCC,GAAG,WACH5F,KAAK,WACLwD,KAAK,WACLqC,aAAa,eACbC,SAAQ,GACRlB,UAAU,kPACVmB,YAAanG,EAAE,oCAAoC,4BACnDoG,MAAO3F,EACP4F,SAAU,GAAO3F,EAAYQ,EAAEoF,MAAM,CAACF,KAAK,OAK/C,GAAAvB,EAAAC,IAAA,EAACC,MAAAA,CAAIC,UAAU,sBACb,GAAAH,EAAAI,GAAA,EAACY,QAAAA,CAAMC,QAAQ,OAAOd,UAAU,mDAA2ChF,EAAE,qBAAqB,uBAClG,GAAA6E,EAAAC,IAAA,EAACyB,SAAAA,CACCP,GAAG,OACH5F,KAAK,OACL8F,SAAQ,GACRlB,UAAU,6NACVoB,MAAOzF,EACP0F,SAAU,GAAOzF,EAAQM,EAAEoF,MAAM,CAACF,KAAK,YAEvC,GAAAvB,EAAAI,GAAA,EAACuB,SAAAA,CAAOJ,MAAM,mBAAWpG,EAAE,6BAA6B,6BACxD,GAAA6E,EAAAI,GAAA,EAACuB,SAAAA,CAAOJ,MAAM,mBAAWpG,EAAE,6BAA6B,6DAK3De,GACC,GAAA8D,EAAAI,GAAA,EAACF,MAAAA,CAAIC,UAAU,iEACb,GAAAH,EAAAC,IAAA,EAACC,MAAAA,CAAIC,UAAU,iBACb,GAAAH,EAAAI,GAAA,EAACwB,IAAAA,CAAEzB,UAAU,uDACb,GAAAH,EAAAI,GAAA,EAACQ,IAAAA,CAAET,UAAU,gCAAwBjE,SAM3C,GAAA8D,EAAAI,GAAA,EAACC,SAAAA,CACCtB,KAAK,SACL8C,SAAU7F,EACVmE,UAAU,4bAETnE,EACC,GAAAgE,EAAAC,IAAA,EAACC,MAAAA,CAAIC,UAAU,8BACb,GAAAH,EAAAI,GAAA,EAACF,MAAAA,CAAIC,UAAU,mEACdhF,EAAE,yBAAyB,0BAG9B,GAAA6E,EAAAC,IAAA,EAAAD,EAAA8B,QAAA,YACE,GAAA9B,EAAAI,GAAA,EAACwB,IAAAA,CAAEzB,UAAU,0BACZhF,EAAE,uBAAuB,0BAOlC,GAAA6E,EAAAC,IAAA,EAACC,MAAAA,CAAIC,UAAU,qBACb,GAAAH,EAAAI,GAAA,EAACF,MAAAA,CAAIC,UAAU,8CACb,GAAAH,EAAAI,GAAA,EAACF,MAAAA,CAAIC,UAAU,sCAEjB,GAAAH,EAAAI,GAAA,EAACF,MAAAA,CAAIC,UAAU,gDACb,GAAAH,EAAAI,GAAA,EAAC2B,OAAAA,CAAK5B,UAAU,uCAA+BhF,EAAE,mBAAmB,0BAKxE,GAAA6E,EAAAC,IAAA,EAACC,MAAAA,CAAIC,UAAU,mCACb,GAAAH,EAAAC,IAAA,EAACI,SAAAA,CACCC,QAAS,IAAM/C,EAAkB,UACjC4C,UAAU,2SAEV,GAAAH,EAAAI,GAAA,EAACwB,IAAAA,CAAEzB,UAAU,oCACZhF,EAAE,uBAAuB,2BAG5B,GAAA6E,EAAAC,IAAA,EAACI,SAAAA,CACCC,QAAS,IAAM/C,EAAkB,WACjC4C,UAAU,2SAEV,GAAAH,EAAAI,GAAA,EAACwB,IAAAA,CAAEzB,UAAU,uCACZhF,EAAE,wBAAwB,4BAG7B,GAAA6E,EAAAC,IAAA,EAACI,SAAAA,CACCC,QAAS,IAAM/C,EAAkB,SACjC4C,UAAU,2SAEV,GAAAH,EAAAI,GAAA,EAACwB,IAAAA,CAAEzB,UAAU,oCACZhF,EAAE,sBAAsB,gCAM/B,GAAA6E,EAAAI,GAAA,EAACF,MAAAA,CAAIC,UAAU,uBACb,GAAAH,EAAAC,IAAA,EAACW,IAAAA,CAAET,UAAU,+CACVhF,EAAE,qBAAqB,4BAA6B,IACrD,GAAA6E,EAAAI,GAAA,EAAC4B,IAAIA,CACHzC,KAAK,SACLY,UAAU,0GAEThF,EAAE,uBAAuB,uBAMhC,GAAA6E,EAAAC,IAAA,EAACC,MAAAA,CAAIC,UAAU,kCACb,GAAAH,EAAAC,IAAA,EAACC,MAAAA,CAAIC,UAAU,+GACb,GAAAH,EAAAI,GAAA,EAAC4B,IAAIA,CAACzC,KAAK,WAAWY,UAAU,iDAC7BhF,EAAE,iBAAiB,oBAEtB,GAAA6E,EAAAI,GAAA,EAAC4B,IAAIA,CAACzC,KAAK,SAASY,UAAU,iDAC3BhF,EAAE,eAAe,sBAEpB,GAAA6E,EAAAI,GAAA,EAAC4B,IAAIA,CAACzC,KAAK,QAAQY,UAAU,iDAC1BhF,EAAE,cAAc,oBAGrB,GAAA6E,EAAAC,IAAA,EAACW,IAAAA,CAAET,UAAU,kCAAwB,qBACnBhF,EAAE,gBAAgB,iCAMxC,GAAA6E,EAAAI,GAAA,EAAC6B,EAAAA,CAAUA,CAAAA,CAAAA,KAGjB,CC7Ue,SAASC,IACtB,MAAO,GAAAlC,EAAAI,GAAA,EAACvF,EAAYA,CAAAA,EACtB,0ICQe,SAAS4F,EAAU0B,CAMjB,KANiB,CAChCzB,KAAAA,EAAO,EAAE,CACTC,UAAAA,EAAY,EAAK,CACjBpB,KAAAA,EAAO,GAAG,CACVY,UAAAA,EAAY,EAAE,CACdiC,eAAAA,EAAiB,uDAAuD,CACzD,CANiBD,EAOhC,MACE,GAAAE,EAAApC,IAAA,EAAC+B,IAAIA,CAACzC,KAAMA,EAAMY,UAAW,oCAA8C3B,MAAA,CAAV2B,GAAaI,aAAW,wBACvF,GAAA8B,EAAAjC,GAAA,EAACkC,IAAKA,CACJC,IAAI,YACJC,IAAI,cACJC,MAAO/B,EACPgC,OAAQhC,EACRiC,SAAQ,GACRxC,UAAU,YAEXQ,GAAa,GAAA0B,EAAAjC,GAAA,EAAC2B,OAAAA,CAAK5B,UAAWiC,WAAgB,aAGrD,gGCYAQ,CAAAA,EAAAC,CAAA,CAnC8C,OAAC,CAC7C1C,UAAAA,EAAY,EAAE,CACd2C,SAAAA,EAAW,EAAK,CACjB,CAAAX,EACO,CAAErF,KAAAA,CAAI,CAAE,CAAG9B,CAAAA,EAAAA,EAAAA,EAAAA,IAGX+H,EAAkBjG,EACrBA,YAAAA,EAAKhB,IAAI,CAAiB,qBAAuB,qBAClD,IAEF,MACE,GAAAuG,EAAApC,IAAA,EAAAoC,EAAAP,QAAA,YAEE,GAAAO,EAAApC,IAAA,EAAC+B,IAAIA,CACHzC,KAAMwD,EACN5C,UAAW,wJAAkK3B,MAAA,CAAV2B,GACnKK,MAAO1D,EAAO,YAAc,qBAE5B,GAAAuF,EAAAjC,GAAA,EAACwB,IAAAA,CAAEzB,UAAU,6BACZ2C,GAAY,GAAAT,EAAAjC,GAAA,EAAC2B,OAAAA,UAAMjF,EAAO,YAAc,gBAI3C,GAAAuF,EAAAjC,GAAA,EAAC4B,IAAIA,CACHzC,KAAMwD,EACN5C,UAAU,6NACVK,MAAO1D,EAAO,YAAc,oBAE5B,GAAAuF,EAAAjC,GAAA,EAAC2B,OAAAA,CAAK5B,UAAU,8BAAqB,qBAI7C,6GCvCO,IAAM7C,EAAa,IACxB0F,EAAAA,EAAKA,CAAC9G,KAAK,CAACmB,EACd,EAEaJ,EAAe,IAC1B+F,EAAAA,EAAKA,CAACC,OAAO,CAAC5F,EAChB","sources":["webpack://_N_E/?fbeb","webpack://_N_E/./src/features/auth/view/RegisterPage.tsx","webpack://_N_E/./pages/register.tsx","webpack://_N_E/./src/components/shared/BrandLogo.tsx","webpack://_N_E/./src/components/shared/HomeButton.tsx","webpack://_N_E/./src/lib/toast.ts"],"sourcesContent":["\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/register\",\n      function () {\n        return require(\"private-next-pages/register.tsx\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/register\"])\n      });\n    }\n  ","import React, { useState } from 'react';\r\nimport { useRouter } from 'next/router';\r\nimport Link from 'next/link';\r\nimport { useAuthContext } from '@/context/AuthContext';\r\nimport api, { setApiAccessToken } from '@/lib/api';\r\nimport { toastSuccess, toastError } from '@/lib/toast';\r\nimport HomeButton from '@/components/shared/HomeButton';\r\nimport BrandLogo from '@/components/shared/BrandLogo';\r\nimport { useI18n } from '@/lib/i18n';\r\n\r\ninterface RegisterResponse {\r\n  accessToken: string;\r\n  user: {\r\n    _id: string;\r\n    id: string;\r\n    name: string;\r\n    email: string;\r\n    role: 'student' | 'teacher';\r\n    createdAt: string;\r\n    updatedAt: string;\r\n  };\r\n}\r\n\r\nexport default function RegisterPage() {\r\n  const { setUser, setAccessToken } = useAuthContext();\r\n  const router = useRouter();\r\n  const { t, locale, setLocale } = useI18n();\r\n  const [name, setName] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [role, setRole] = useState<'student' | 'teacher'>('student');\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (!name || !email || !password) return;\r\n    if (password.length < 8) {\r\n      setError('Password must be at least 8 characters');\r\n      return;\r\n    }\r\n    \r\n    setLoading(true);\r\n    setError(null);\r\n    \r\n    try {\r\n      const res = await api.post('/auth/register', { name, email, password, role });\r\n      \r\n      // Set the access token and user data\r\n      setApiAccessToken(res.data.accessToken);\r\n      setUser(res.data.user);\r\n      setAccessToken(res.data.accessToken);\r\n      \r\n      // Log for debugging\r\n      console.log('Registration successful:', res.data.user);\r\n      \r\n      // Redirect based on role\r\n      if (res.data.user.role === 'student') {\r\n        router.push('/student/dashboard');\r\n      } else if (res.data.user.role === 'teacher') {\r\n        router.push('/teacher/dashboard');\r\n      } else {\r\n        router.push('/dashboard');\r\n      }\r\n      \r\n      toastSuccess('Account created successfully!');\r\n    } catch (err: unknown) {\r\n      const error = err as { response?: { data?: { message?: string } } };\r\n      const msg = error.response?.data?.message || 'Registration failed';\r\n      setError(msg);\r\n      toastError(msg);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleSocialLogin = (provider: 'google' | 'outlook' | 'apple') => {\r\n    const base = process.env.NEXT_PUBLIC_API_BASE_URL || 'https://api.verbfy.com';\r\n    const w = 520, h = 600;\r\n    const y = window.top?.outerHeight ? Math.max(0, (window.top!.outerHeight - h) / 2) : 100;\r\n    const x = window.top?.outerWidth ? Math.max(0, (window.top!.outerWidth - w) / 2) : 100;\r\n    \r\n    const popup = window.open(\r\n      `${base}/api/auth/oauth/${provider}`, \r\n      'oauthLogin', \r\n      `width=${w},height=${h},left=${x},top=${y},scrollbars=yes,resizable=yes`\r\n    );\r\n    \r\n    const handler = (event: MessageEvent) => {\r\n      // Verify origin for security\r\n      const expectedOrigin = new URL(base).origin;\r\n      if (event.origin !== expectedOrigin) {\r\n        console.warn('OAuth message from unexpected origin:', event.origin);\r\n        return;\r\n      }\r\n      \r\n      const data: any = event.data || {};\r\n      console.log('OAuth message received:', data);\r\n      \r\n      if (data?.type === 'oauth-success' && data?.token && data?.user) {\r\n        try {\r\n          // Persist token for Socket.IO auth\r\n          const { tokenStorage } = require('@/utils/secureStorage');\r\n          tokenStorage.setToken(data.token);\r\n          tokenStorage.setUser(data.user);\r\n        } catch (_) {}\r\n        \r\n        // Close popup and redirect\r\n        if (popup) popup.close();\r\n        window.location.href = '/dashboard';\r\n      } else if (data?.type === 'oauth-error') {\r\n        console.error('OAuth error:', data.message);\r\n        if (popup) popup.close();\r\n        alert('OAuth authentication failed. Please try again.');\r\n      }\r\n    };\r\n    \r\n    window.addEventListener('message', handler, { once: false });\r\n    \r\n    // Cleanup handler if popup is closed manually\r\n    const checkClosed = setInterval(() => {\r\n      if (popup?.closed) {\r\n        clearInterval(checkClosed);\r\n        window.removeEventListener('message', handler);\r\n      }\r\n    }, 1000);\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 py-4 sm:py-8 px-4 sm:px-6 lg:px-8 relative overflow-hidden\">\r\n      {/* Language toggle */}\r\n      <div className=\"absolute top-4 right-4 z-10\">\r\n        <button\r\n          onClick={() => setLocale(locale === 'en' ? 'tr' : 'en')}\r\n          className=\"px-2 py-1 text-xs rounded-md border border-gray-300 text-gray-700 hover:bg-gray-50\"\r\n          aria-label=\"Toggle language\"\r\n          title={locale === 'en' ? 'Türkçe' : 'English'}\r\n        >\r\n          {locale === 'en' ? 'TR' : 'EN'}\r\n        </button>\r\n      </div>\r\n      {/* Background decorative elements */}\r\n      <div className=\"absolute inset-0 overflow-hidden\">\r\n        <div className=\"absolute -top-40 -right-40 w-60 h-60 sm:w-80 sm:h-80 bg-gradient-to-br from-blue-400/20 to-purple-400/20 rounded-full blur-3xl animate-pulse\"></div>\r\n        <div className=\"absolute -bottom-40 -left-40 w-60 h-60 sm:w-80 sm:h-80 bg-gradient-to-tr from-indigo-400/20 to-pink-400/20 rounded-full blur-3xl animate-pulse delay-1000\"></div>\r\n      </div>\r\n\r\n      <div className=\"relative w-full max-w-sm sm:max-w-md space-y-6 sm:space-y-8\">\r\n        {/* Logo and Brand */}\r\n        <div className=\"text-center\">\r\n          <div className=\"flex justify-center mb-4 sm:mb-6\">\r\n            <BrandLogo size={88} withTitle={false} />\r\n          </div>\r\n          <p className=\"text-xs text-blue-600 font-semibold mb-1\">Verbing Up Your Language Skills!</p>\r\n          <p className=\"text-gray-600 text-base sm:text-lg\">{t('auth.register.tagline','Join the learning revolution')}</p>\r\n        </div>\r\n\r\n        {/* Main Registration Form */}\r\n        <div className=\"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-white/20 p-6 sm:p-8 space-y-6\">\r\n          <div className=\"text-center\">\r\n            <h2 className=\"text-xl sm:text-2xl font-bold text-gray-900 mb-2\">{t('auth.register.title','Create your account')}</h2>\r\n            <p className=\"text-gray-600 text-sm sm:text-base\">\r\n              Start your English learning journey today\r\n            </p>\r\n          </div>\r\n\r\n          <form className=\"space-y-4 sm:space-y-6\" onSubmit={handleSubmit}>\r\n            {/* Name Field */}\r\n            <div className=\"space-y-2\">\r\n              <label htmlFor=\"name\" className=\"block text-sm font-medium text-gray-700\">{t('auth.register.name','Full Name')}</label>\r\n              <input\r\n                id=\"name\"\r\n                name=\"name\"\r\n                type=\"text\"\r\n                autoComplete=\"name\"\r\n                required\r\n                className=\"w-full px-3 sm:px-4 py-2.5 sm:py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 placeholder-gray-400 text-gray-900 bg-white/50 backdrop-blur-sm text-sm sm:text-base\"\r\n                placeholder={t('auth.register.namePlaceholder','Enter your full name')}\r\n                value={name}\r\n                onChange={(e) => setName(e.target.value)}\r\n              />\r\n            </div>\r\n\r\n            {/* Email Field */}\r\n            <div className=\"space-y-2\">\r\n              <label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-700\">{t('auth.register.email','Email Address')}</label>\r\n              <input\r\n                id=\"email\"\r\n                name=\"email\"\r\n                type=\"email\"\r\n                autoComplete=\"email\"\r\n                required\r\n                className=\"w-full px-3 sm:px-4 py-2.5 sm:py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 placeholder-gray-400 text-gray-900 bg-white/50 backdrop-blur-sm text-sm sm:text-base\"\r\n                placeholder={t('auth.register.emailPlaceholder','Enter your email')}\r\n                value={email}\r\n                onChange={(e) => setEmail(e.target.value)}\r\n              />\r\n            </div>\r\n\r\n            {/* Password Field */}\r\n            <div className=\"space-y-2\">\r\n              <label htmlFor=\"password\" className=\"block text-sm font-medium text-gray-700\">{t('auth.register.password','Password')}</label>\r\n              <input\r\n                id=\"password\"\r\n                name=\"password\"\r\n                type=\"password\"\r\n                autoComplete=\"new-password\"\r\n                required\r\n                className=\"w-full px-3 sm:px-4 py-2.5 sm:py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 placeholder-gray-400 text-gray-900 bg-white/50 backdrop-blur-sm text-sm sm:text-base\"\r\n                placeholder={t('auth.register.passwordPlaceholder','Create a strong password')}\r\n                value={password}\r\n                onChange={(e) => setPassword(e.target.value)}\r\n              />\r\n            </div>\r\n\r\n            {/* Role Selection */}\r\n            <div className=\"space-y-2\">\r\n              <label htmlFor=\"role\" className=\"block text-sm font-medium text-gray-700\">{t('auth.register.role','I want to join as')}</label>\r\n              <select\r\n                id=\"role\"\r\n                name=\"role\"\r\n                required\r\n                className=\"w-full px-3 sm:px-4 py-2.5 sm:py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-gray-900 bg-white/50 backdrop-blur-sm text-sm sm:text-base\"\r\n                value={role}\r\n                onChange={(e) => setRole(e.target.value as 'student' | 'teacher')}\r\n              >\r\n                <option value=\"student\">{t('auth.register.role.student','Student - Learn English')}</option>\r\n                <option value=\"teacher\">{t('auth.register.role.teacher','Teacher - Teach English (requires admin approval)')}</option>\r\n              </select>\r\n            </div>\r\n\r\n            {/* Error Message */}\r\n            {error && (\r\n              <div className=\"bg-red-50 border border-red-200 rounded-xl p-3 sm:p-4\">\r\n                <div className=\"flex\">\r\n                  <i className=\"fas fa-exclamation-circle text-red-400 mt-0.5 mr-3\"></i>\r\n                  <p className=\"text-sm text-red-600\">{error}</p>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Create Account Button */}\r\n            <button\r\n              type=\"submit\"\r\n              disabled={loading}\r\n              className=\"group relative w-full flex justify-center py-2.5 sm:py-3 px-4 border border-transparent text-sm sm:text-base font-semibold rounded-xl text-white bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transform hover:scale-[1.02] transition-all duration-200 shadow-lg hover:shadow-xl\"\r\n            >\r\n              {loading ? (\r\n                <div className=\"flex items-center\">\r\n                  <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2\"></div>\r\n                  {t('auth.register.creating','Creating account...')}\r\n                </div>\r\n              ) : (\r\n                <>\r\n                  <i className=\"fas fa-user-plus mr-2\"></i>\r\n                  {t('auth.register.submit','Create account')}\r\n                </>\r\n              )}\r\n            </button>\r\n          </form>\r\n\r\n          {/* Divider */}\r\n          <div className=\"relative\">\r\n            <div className=\"absolute inset-0 flex items-center\">\r\n              <div className=\"w-full border-t border-gray-300\"></div>\r\n            </div>\r\n            <div className=\"relative flex justify-center text-sm\">\r\n              <span className=\"px-2 bg-white text-gray-500\">{t('auth.register.or','Or sign up with')}</span>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Social Registration Buttons */}\r\n          <div className=\"grid grid-cols-1 gap-3\">\r\n            <button\r\n              onClick={() => handleSocialLogin('google')}\r\n              className=\"w-full inline-flex justify-center py-2.5 sm:py-3 px-4 border border-gray-300 rounded-xl shadow-sm bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all duration-200 transform hover:scale-[1.02]\"\r\n            >\r\n              <i className=\"fab fa-google text-red-500 mr-3\"></i>\r\n              {t('auth.register.google','Continue with Google')}\r\n            </button>\r\n            \r\n            <button\r\n              onClick={() => handleSocialLogin('outlook')}\r\n              className=\"w-full inline-flex justify-center py-2.5 sm:py-3 px-4 border border-gray-300 rounded-xl shadow-sm bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all duration-200 transform hover:scale-[1.02]\"\r\n            >\r\n              <i className=\"fas fa-envelope text-blue-500 mr-3\"></i>\r\n              {t('auth.register.outlook','Continue with Outlook')}\r\n            </button>\r\n            \r\n            <button\r\n              onClick={() => handleSocialLogin('apple')}\r\n              className=\"w-full inline-flex justify-center py-2.5 sm:py-3 px-4 border border-gray-300 rounded-xl shadow-sm bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all duration-200 transform hover:scale-[1.02]\"\r\n            >\r\n              <i className=\"fab fa-apple text-gray-900 mr-3\"></i>\r\n              {t('auth.register.apple','Continue with Apple')}\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Sign In CTA */}\r\n        <div className=\"text-center\">\r\n          <p className=\"text-gray-600 text-sm sm:text-base\">\r\n            {t('auth.register.have','Already have an account?')}{' '}\r\n            <Link \r\n              href=\"/login\" \r\n              className=\"font-semibold text-blue-600 hover:text-blue-500 transition-colors duration-200 hover:underline\"\r\n            >\r\n              {t('auth.register.signin','Sign in here')}\r\n            </Link>\r\n          </p>\r\n        </div>\r\n\r\n        {/* Footer Links */}\r\n        <div className=\"text-center space-y-2\">\r\n          <div className=\"flex flex-col sm:flex-row justify-center space-y-2 sm:space-y-0 sm:space-x-4 text-sm text-gray-500\">\r\n            <Link href=\"/privacy\" className=\"hover:text-gray-700 transition-colors\">\r\n              {t('footer.privacy','Privacy Policy')}\r\n            </Link>\r\n            <Link href=\"/terms\" className=\"hover:text-gray-700 transition-colors\">\r\n              {t('footer.terms','Terms of Service')}\r\n            </Link>\r\n            <Link href=\"/help\" className=\"hover:text-gray-700 transition-colors\">\r\n              {t('footer.help','Help Center')}\r\n            </Link>\r\n          </div>\r\n          <p className=\"text-xs text-gray-400\">\r\n            © 2024 Verbfy. {t('footer.rights','All rights reserved.')}\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Home Button - Floating */}\r\n      <HomeButton />\r\n    </div>\r\n  );\r\n} ","import RegisterPage from '../src/features/auth/view/RegisterPage';\n\nexport default function Register() {\n  return <RegisterPage />;\n} ","import React from 'react';\r\nimport Link from 'next/link';\r\nimport Image from 'next/image';\r\n\r\ninterface BrandLogoProps {\r\n  size?: number; // width/height in px\r\n  withTitle?: boolean;\r\n  href?: string;\r\n  className?: string;\r\n  titleClassName?: string;\r\n}\r\n\r\nexport default function BrandLogo({\r\n  size = 40,\r\n  withTitle = false, // Default to false - no text\r\n  href = '/',\r\n  className = '',\r\n  titleClassName = 'text-2xl font-extrabold text-gray-900 dark:text-white'\r\n}: BrandLogoProps) {\r\n  return (\r\n    <Link href={href} className={`flex items-center justify-center ${className}`} aria-label=\"Verbfy Home\">\r\n      <Image\r\n        src=\"/logo.png\"\r\n        alt=\"Verbfy logo\"\r\n        width={size}\r\n        height={size}\r\n        priority\r\n        className=\"mx-auto\" // Center the logo\r\n      />\r\n      {withTitle && <span className={titleClassName}>Verbfy</span>}\r\n    </Link>\r\n  );\r\n}\r\n\r\n\r\n","import React from 'react';\nimport Link from 'next/link';\nimport { useAuthContext } from '@/context/AuthContext';\n\ninterface HomeButtonProps {\n  className?: string;\n  showText?: boolean;\n}\n\nconst HomeButton: React.FC<HomeButtonProps> = ({ \n  className = '', \n  showText = false \n}) => {\n  const { user } = useAuthContext();\n  \n  // Determine the home destination based on authentication status\n  const homeDestination = user ? \n    (user.role === 'student' ? '/student/dashboard' : '/teacher/dashboard') : \n    '/';\n\n  return (\n    <>\n      {/* Desktop version - shows in header/navbar */}\n      <Link\n        href={homeDestination}\n        className={`hidden lg:flex items-center px-3 py-2 text-sm font-medium text-gray-700 rounded-lg hover:bg-gray-100 hover:text-gray-900 transition-all duration-200 ${className}`}\n        title={user ? 'Dashboard' : 'Anasayfa'}\n      >\n        <i className=\"fas fa-home w-5 h-5 mr-2\"></i>\n        {showText && <span>{user ? 'Dashboard' : 'Anasayfa'}</span>}\n      </Link>\n\n      {/* Mobile version - floating button */}\n      <Link\n        href={homeDestination}\n        className=\"lg:hidden fixed bottom-6 right-6 z-50 w-14 h-14 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200\"\n        title={user ? 'Dashboard' : 'Anasayfa'}\n      >\n        <span className=\"text-white text-xl\">🏠</span>\n      </Link>\n    </>\n  );\n};\n\nexport default HomeButton; ","// Toast implementation that integrates with the existing Toast component system\r\nimport { toast } from '../components/common/Toast';\r\n\r\nexport const toastError = (message: string) => {\r\n  toast.error(message);\r\n};\r\n\r\nexport const toastSuccess = (message: string) => {\r\n  toast.success(message);\r\n};\r\n\r\nexport const toastWarning = (message: string) => {\r\n  toast.warning(message);\r\n};\r\n\r\nexport const toastInfo = (message: string) => {\r\n  toast.info(message);\r\n}; "],"names":["window","__NEXT_P","push","__webpack_require__","RegisterPage","setUser","setAccessToken","useAuthContext","router","useRouter","t","locale","setLocale","useI18n","name","setName","useState","email","setEmail","password","setPassword","role","setRole","loading","setLoading","error","setError","handleSubmit","e","preventDefault","length","res","api","post","setApiAccessToken","data","accessToken","user","console","log","toastSuccess","err","msg","response","message","toastError","handleSocialLogin","base","process","env","NEXT_PUBLIC_API_BASE_URL","y","top","outerHeight","Math","max","h","x","outerWidth","w","popup","open","provider","concat","handler","expectedOrigin","URL","origin","event","warn","type","token","tokenStorage","require","setToken","_","close","location","href","alert","addEventListener","once","checkClosed","setInterval","closed","clearInterval","removeEventListener","jsx_runtime","jsxs","div","className","jsx","button","onClick","aria-label","title","BrandLogo","size","withTitle","p","h2","form","onSubmit","label","htmlFor","input","id","autoComplete","required","placeholder","value","onChange","target","select","option","i","disabled","Fragment","span","Link","HomeButton","Register","param","titleClassName","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","Image","src","alt","width","height","priority","__webpack_exports__","Z","showText","homeDestination","toast","success"],"sourceRoot":""}