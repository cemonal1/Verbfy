{"version":3,"file":"static/chunks/pages/rooms-2e82ba7f5383b028.js","mappings":"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","sources":["webpack://_N_E/?2642","webpack://_N_E/./pages/rooms/index.tsx","webpack://_N_E/./src/features/conversation/viewmodel/useConversationRoomViewModel.ts"],"sourcesContent":["\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/rooms\",\n      function () {\n        return require(\"private-next-pages/rooms/index.tsx\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/rooms\"])\n      });\n    }\n  ","import React, { useEffect, useState } from 'react';\nimport DashboardLayout from '@/components/layout/DashboardLayout';\nimport { useConversationRoomViewModel } from '@/features/conversation/viewmodel/useConversationRoomViewModel';\n\nfunction RoomsPage() {\n  const {\n    rooms,\n    getAvailableRooms,\n    joinRoom,\n    createRoom,\n  } = useConversationRoomViewModel();\n  const [showCreateModal, setShowCreateModal] = useState(false);\n  const [showJoinModal, setShowJoinModal] = useState<{ roomId: string; isPrivate: boolean } | null>(null);\n  const [form, setForm] = useState({ name: '', description: '', isPrivate: false, password: '' });\n  const [joinPassword, setJoinPassword] = useState('');\n\n  useEffect(() => {\n    getAvailableRooms();\n  }, [getAvailableRooms]);\n\n  const handleCreate = async (e: React.FormEvent) => {\n    e.preventDefault();\n    await createRoom(form.name, form.description, form.isPrivate, form.isPrivate ? form.password : undefined);\n    setShowCreateModal(false);\n    setForm({ name: '', description: '', isPrivate: false, password: '' });\n  };\n\n  const handleJoin = async (roomId: string, isPrivate: boolean) => {\n    if (isPrivate) {\n      setShowJoinModal({ roomId, isPrivate });\n    } else {\n      await joinRoom(roomId);\n    }\n  };\n\n  const handleJoinWithPassword = async () => {\n    if (showJoinModal) {\n      await joinRoom(showJoinModal.roomId, joinPassword);\n      setShowJoinModal(null);\n      setJoinPassword('');\n    }\n  };\n\n  return (\n    <DashboardLayout allowedRoles={['teacher', 'student']}>\n      <div className=\"max-w-4xl mx-auto p-4\">\n        <div className=\"flex justify-between items-center mb-4\">\n          <h1 className=\"text-2xl font-bold\">Conversation Rooms</h1>\n          <button onClick={() => setShowCreateModal(true)} className=\"bg-blue-600 text-white px-4 py-2 rounded\">Create Room</button>\n        </div>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          {rooms.filter(r => r.participants.length < r.maxParticipants).map(room => (\n            <div key={room.id} className=\"bg-white rounded shadow p-4 flex flex-col gap-2\">\n              <div className=\"font-bold text-lg\">{room.name}</div>\n              <div className=\"text-gray-600 text-sm\">{room.description}</div>\n              <div className=\"text-xs text-gray-400\">Created by: {room.createdBy}</div>\n              <div className=\"text-xs text-gray-400\">Participants: {room.participants.length}/{room.maxParticipants}</div>\n              <div className=\"flex gap-2 mt-2\">\n                <button onClick={() => handleJoin(room.id, room.isPrivate)} className=\"bg-green-500 text-white px-3 py-1 rounded\">Join</button>\n                {room.isPrivate && <span className=\"text-xs text-red-500\">Private</span>}\n              </div>\n            </div>\n          ))}\n          {rooms.length === 0 && <div className=\"text-gray-500 col-span-2\">No open rooms found.</div>}\n        </div>\n        {/* Create Room Modal */}\n        {showCreateModal && (\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n            <div className=\"bg-white p-6 rounded shadow w-full max-w-md\">\n              <h3 className=\"font-bold mb-2\">Create Room</h3>\n              <form onSubmit={handleCreate} className=\"flex flex-col gap-2\">\n                <input type=\"text\" placeholder=\"Room Name\" value={form.name} onChange={e => setForm(f => ({ ...f, name: e.target.value }))} className=\"p-2 border rounded\" required />\n                <textarea placeholder=\"Description\" value={form.description} onChange={e => setForm(f => ({ ...f, description: e.target.value }))} className=\"p-2 border rounded\" />\n                <label className=\"flex items-center gap-2\">\n                  <input type=\"checkbox\" checked={form.isPrivate} onChange={e => setForm(f => ({ ...f, isPrivate: e.target.checked }))} /> Private Room\n                </label>\n                {form.isPrivate && <input type=\"password\" placeholder=\"Password\" value={form.password} onChange={e => setForm(f => ({ ...f, password: e.target.value }))} className=\"p-2 border rounded\" required />}\n                <div className=\"flex gap-2 mt-2\">\n                  <button type=\"submit\" className=\"bg-blue-600 text-white px-3 py-1 rounded\">Create</button>\n                  <button type=\"button\" onClick={() => setShowCreateModal(false)} className=\"bg-gray-300 text-black px-3 py-1 rounded\">Cancel</button>\n                </div>\n              </form>\n            </div>\n          </div>\n        )}\n        {/* Join Room Password Modal */}\n        {showJoinModal && (\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n            <div className=\"bg-white p-6 rounded shadow w-full max-w-md\">\n              <h3 className=\"font-bold mb-2\">Enter Room Password</h3>\n              <input type=\"password\" placeholder=\"Password\" value={joinPassword} onChange={e => setJoinPassword(e.target.value)} className=\"p-2 border rounded w-full mb-2\" />\n              <div className=\"flex gap-2 mt-2\">\n                <button onClick={handleJoinWithPassword} className=\"bg-green-600 text-white px-3 py-1 rounded\">Join</button>\n                <button onClick={() => setShowJoinModal(null)} className=\"bg-gray-300 text-black px-3 py-1 rounded\">Cancel</button>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </DashboardLayout>\n  );\n}\n\nexport default RoomsPage; ","import { useState, useCallback } from 'react';\n\ninterface Room {\n  id: string;\n  name: string;\n  description: string;\n  createdBy: string;\n  participants: Array<{ id: string; name: string; peerId: string }>;\n  maxParticipants: number;\n  isPrivate: boolean;\n}\n\nexport function useConversationRoomViewModel() {\n  const [rooms, setRooms] = useState<Room[]>([]);\n  const [currentRoom, setCurrentRoom] = useState<Room | null>(null);\n  const [loading, setLoading] = useState(false);\n  const [participants, setParticipants] = useState<Array<{ id: string; name: string; peerId: string }>>([]);\n\n  const getAvailableRooms = useCallback(async () => {\n    setLoading(true);\n    // Placeholder implementation\n    setRooms([]);\n    setLoading(false);\n  }, []);\n\n  const joinRoom = useCallback(async (roomId: string, password?: string) => {\n    // Placeholder implementation\n    console.log('Joining room:', roomId, password);\n  }, []);\n\n  const createRoom = useCallback(async (name: string, description: string, isPrivate: boolean, password?: string) => {\n    // Placeholder implementation\n    console.log('Creating room:', { name, description, isPrivate, password });\n  }, []);\n\n  const getRoomDetails = useCallback(async (roomId: string) => {\n    // Placeholder implementation\n    console.log('Getting room details:', roomId);\n  }, []);\n\n  const leaveRoom = useCallback(async (roomId: string) => {\n    // Placeholder implementation\n    console.log('Leaving room:', roomId);\n  }, []);\n\n  return {\n    rooms,\n    currentRoom,\n    loading,\n    participants,\n    getAvailableRooms,\n    joinRoom,\n    createRoom,\n    getRoomDetails,\n    leaveRoom,\n  };\n} "],"names":["window","__NEXT_P","push","__webpack_require__","__webpack_exports__","rooms","getAvailableRooms","joinRoom","createRoom","useConversationRoomViewModel","showCreateModal","setShowCreateModal","useState","showJoinModal","setShowJoinModal","form","setForm","name","description","isPrivate","password","joinPassword","setJoinPassword","useEffect","handleCreate","e","preventDefault","undefined","handleJoin","roomId","handleJoinWithPassword","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","jsx","DashboardLayout","allowedRoles","jsxs","div","className","h1","button","onClick","filter","r","participants","length","maxParticipants","map","room","createdBy","id","span","h3","onSubmit","input","type","placeholder","value","onChange","f","target","required","textarea","label","checked","setRooms","currentRoom","setCurrentRoom","loading","setLoading","setParticipants","useCallback","console","log","getRoomDetails","leaveRoom"],"sourceRoot":""}