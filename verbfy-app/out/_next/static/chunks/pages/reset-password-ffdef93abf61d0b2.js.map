{"version":3,"file":"static/chunks/pages/reset-password-ffdef93abf61d0b2.js","mappings":"sFACA,CAAAA,OAAAC,QAAA,CAAAD,OAAAC,QAAA,MAAAC,IAAA,EACA,kBACA,WACA,OAAeC,EAAQ,MACvB,EACA,sJCDe,SAASC,IAEtB,GAAM,CAAEC,MAAOC,CAAU,CAAE,CAAGC,CADfC,EAAAA,EAAAA,SAAAA,IACsBC,KAAK,CACpC,CAACC,EAAUC,EAAY,CAAGC,CAAAA,EAAAA,EAAAA,QAAAA,EAAS,IACnC,CAACC,EAASC,EAAW,CAAGF,CAAAA,EAAAA,EAAAA,QAAAA,EAAS,IACjC,CAACG,EAAQC,EAAU,CAAGJ,CAAAA,EAAAA,EAAAA,QAAAA,EAAsC,QAC5D,CAACK,EAASC,EAAW,CAAGN,CAAAA,EAAAA,EAAAA,QAAAA,EAAS,IAEjCP,EAAQ,iBAAOC,EAA0BA,EAAaa,KAAAA,EAEtDC,EAAYV,EAASW,MAAM,EAAI,GAAKX,IAAaG,GAAW,iBAAOR,GAAsBA,EAAMgB,MAAM,CAAG,EAExGC,EAAS,MAAOC,QAQPC,EAGAD,EAAAA,EATb,GADAA,EAAEE,cAAc,GACXL,GACLJ,EAAU,WACVE,EAAW,IACX,GAAI,CACF,IAAMM,EAAM,MAAME,EAAAA,EAAGA,CAACC,IAAI,CAAC,2BAA4B,CAAEtB,MAAAA,EAAOK,SAAAA,CAAS,GACzEM,EAAU,QACVE,EAAWM,CAAAA,OAAAA,CAAAA,EAAAA,EAAII,IAAI,GAARJ,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAUP,OAAO,GAAI,0BAClC,CAAE,MAAOM,EAAQ,CACfP,EAAU,QACVE,EAAWK,CAAAA,MAAAA,EAAAA,KAAAA,EAAAA,OAAAA,CAAAA,EAAAA,EAAGM,QAAQ,GAAXN,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,OAAAA,CAAAA,EAAAA,EAAaK,IAAI,GAAjBL,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAmBN,OAAO,GAAI,kCAC3C,EACF,EAEA,MACE,GAAAa,EAAAC,IAAA,EAAAD,EAAAE,QAAA,YACE,GAAAF,EAAAG,GAAA,EAACC,IAAIA,UACH,GAAAJ,EAAAG,GAAA,EAACE,QAAAA,UAAM,8BAET,GAAAL,EAAAG,GAAA,EAACG,MAAAA,CAAIC,UAAU,wEACb,GAAAP,EAAAC,IAAA,EAACO,OAAAA,CAAKC,SAAUjB,EAAQe,UAAU,2DAChC,GAAAP,EAAAG,GAAA,EAACO,KAAAA,CAAGH,UAAU,uCAA8B,mBAC5C,GAAAP,EAAAG,GAAA,EAACQ,QAAAA,CAAMC,QAAQ,cAAcL,UAAU,mDAA0C,+BACjF,GAAAP,EAAAG,GAAA,EAACU,QAAAA,CACCC,GAAG,cACHC,KAAK,WACLC,SAAQ,GACRC,UAAW,EACXC,MAAOtC,EACPuC,SAAU,GAAOtC,EAAYY,EAAE2B,MAAM,CAACF,KAAK,EAC3CX,UAAU,yGAEZ,GAAAP,EAAAG,GAAA,EAACQ,QAAAA,CAAMC,QAAQ,kBAAkBL,UAAU,wDAA+C,qBAC1F,GAAAP,EAAAG,GAAA,EAACU,QAAAA,CACCC,GAAG,kBACHC,KAAK,WACLC,SAAQ,GACRC,UAAW,EACXC,MAAOnC,EACPoC,SAAU,GAAOnC,EAAWS,EAAE2B,MAAM,CAACF,KAAK,EAC1CX,UAAU,yGAEZ,GAAAP,EAAAG,GAAA,EAACkB,SAAAA,CACCN,KAAK,SACLO,SAAUrC,YAAAA,GAAwB,CAACK,EACnCiB,UAAU,8IAETtB,YAAAA,EAAuB,aAAe,mBAExCE,GAAW,GAAAa,EAAAG,GAAA,EAACoB,IAAAA,CAAEhB,UAAU,sCAA8BpB,WAKjE","sources":["webpack://_N_E/?bc31","webpack://_N_E/./pages/reset-password.tsx"],"sourcesContent":["\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/reset-password\",\n      function () {\n        return require(\"private-next-pages/reset-password.tsx\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/reset-password\"])\n      });\n    }\n  ","import { useEffect, useState } from 'react';\nimport { useRouter } from 'next/router';\nimport Head from 'next/head';\nimport api from '../src/lib/api';\n\nexport default function ResetPasswordPage() {\n  const router = useRouter();\n  const { token: queryToken } = router.query;\n  const [password, setPassword] = useState('');\n  const [confirm, setConfirm] = useState('');\n  const [status, setStatus] = useState<'idle' | 'loading' | 'done'>('idle');\n  const [message, setMessage] = useState('');\n\n  const token = typeof queryToken === 'string' ? queryToken : undefined;\n\n  const canSubmit = password.length >= 8 && password === confirm && typeof token === 'string' && token.length > 0;\n\n  const submit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!canSubmit) return;\n    setStatus('loading');\n    setMessage('');\n    try {\n      const res = await api.post('/api/auth/password/reset', { token, password });\n      setStatus('done');\n      setMessage(res.data?.message || 'Password has been reset');\n    } catch (e: any) {\n      setStatus('done');\n      setMessage(e?.response?.data?.message || 'Reset failed. Please try again.');\n    }\n  };\n\n  return (\n    <>\n      <Head>\n        <title>Reset Password - Verbfy</title>\n      </Head>\n      <div className=\"min-h-screen flex items-center justify-center bg-gray-50 p-6\">\n        <form onSubmit={submit} className=\"max-w-md w-full bg-white rounded-xl shadow p-6\">\n          <h1 className=\"text-2xl font-semibold mb-4\">Reset Password</h1>\n          <label htmlFor=\"newPassword\" className=\"block text-sm font-medium text-gray-700\">New Password (min 8 chars)</label>\n          <input\n            id=\"newPassword\"\n            type=\"password\"\n            required\n            minLength={8}\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n            className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500\"\n          />\n          <label htmlFor=\"confirmPassword\" className=\"block text-sm font-medium text-gray-700 mt-3\">Confirm Password</label>\n          <input\n            id=\"confirmPassword\"\n            type=\"password\"\n            required\n            minLength={8}\n            value={confirm}\n            onChange={(e) => setConfirm(e.target.value)}\n            className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500\"\n          />\n          <button\n            type=\"submit\"\n            disabled={status === 'loading' || !canSubmit}\n            className=\"mt-4 inline-flex items-center justify-center rounded-md bg-indigo-600 px-4 py-2 text-white hover:bg-indigo-700 disabled:opacity-50\"\n          >\n            {status === 'loading' ? 'Resettingâ€¦' : 'Reset Password'}\n          </button>\n          {message && <p className=\"mt-3 text-sm text-gray-700\">{message}</p>}\n        </form>\n      </div>\n    </>\n  );\n}\n\n\n"],"names":["window","__NEXT_P","push","__webpack_require__","ResetPasswordPage","token","queryToken","router","useRouter","query","password","setPassword","useState","confirm","setConfirm","status","setStatus","message","setMessage","undefined","canSubmit","length","submit","e","res","preventDefault","api","post","data","response","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","jsxs","Fragment","jsx","Head","title","div","className","form","onSubmit","h1","label","htmlFor","input","id","type","required","minLength","value","onChange","target","button","disabled","p"],"sourceRoot":""}