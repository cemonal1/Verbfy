(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1027],{54570:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/lessons",function(){return a(67196)}])},67196:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return h}});var t=a(85893),l=a(67294),n=a(11163),r=a(10571),d=a(32798),i=a(72509),c=a(64964),o=a(71263),u=a(11429),m=a(46162),x=a(3950),g=a(29711),h=function(){let e=(0,n.useRouter)(),[s,a]=(0,l.useState)([]),[h,p]=(0,l.useState)(!0),[v,j]=(0,l.useState)({status:"all",level:"all",page:1,limit:10}),[b,N]=(0,l.useState)({page:1,limit:10,total:0,pages:0});(0,l.useEffect)(()=>{y()},[v]);let y=async()=>{try{p(!0);let e=await d.BF.getStudentLessons(v);a(e.data),N(e.pagination)}catch(a){var e,s;i.Am.error((null===(s=a.response)||void 0===s?void 0:null===(e=s.data)||void 0===e?void 0:e.message)||"Failed to load lessons")}finally{p(!1)}},f=e=>{switch(e){case"completed":return(0,t.jsx)(u.Z,{className:"w-5 h-5 text-green-500"});case"cancelled":return(0,t.jsx)(g.Z,{className:"w-5 h-5 text-red-500"});case"upcoming":return(0,t.jsx)(m.Z,{className:"w-5 h-5 text-blue-500"});default:return(0,t.jsx)(m.Z,{className:"w-5 h-5 text-gray-500"})}},w=e=>{switch(e){case"completed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";case"upcoming":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},_=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return h?(0,t.jsx)(r.Z,{allowedRoles:["student"],children:(0,t.jsx)("div",{className:"max-w-6xl mx-auto p-6",children:(0,t.jsxs)("div",{className:"animate-pulse",children:[(0,t.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-4"}),(0,t.jsx)("div",{className:"space-y-4",children:[void 0,void 0,void 0,void 0,void 0].map((e,s)=>(0,t.jsx)("div",{className:"h-24 bg-gray-200 rounded"},s))})]})})}):(0,t.jsx)(r.Z,{allowedRoles:["student"],children:(0,t.jsxs)("div",{className:"max-w-6xl mx-auto p-6",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsxs)("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[(0,t.jsx)(c.Z,{className:"w-8 h-8 text-blue-600"}),"My Lessons"]}),(0,t.jsx)("p",{className:"text-gray-600 mt-2",children:"Track your learning progress and upcoming sessions"})]}),(0,t.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-4 mb-6",children:(0,t.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,t.jsxs)("select",{value:v.status,onChange:e=>j({...v,status:e.target.value}),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,t.jsx)("option",{value:"all",children:"All Status"}),(0,t.jsx)("option",{value:"upcoming",children:"Upcoming"}),(0,t.jsx)("option",{value:"completed",children:"Completed"}),(0,t.jsx)("option",{value:"cancelled",children:"Cancelled"})]}),(0,t.jsxs)("select",{value:v.level,onChange:e=>j({...v,level:e.target.value}),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,t.jsx)("option",{value:"all",children:"All Levels"}),(0,t.jsx)("option",{value:"beginner",children:"Beginner"}),(0,t.jsx)("option",{value:"intermediate",children:"Intermediate"}),(0,t.jsx)("option",{value:"advanced",children:"Advanced"})]})]})}),(0,t.jsx)("div",{className:"space-y-4",children:0===s.length?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(c.Z,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No lessons found"}),(0,t.jsx)("p",{className:"text-gray-500",children:"You haven't taken any lessons yet."})]}):s.map(s=>{var a;return(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6 hover:shadow-md transition-shadow",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:s.title||s.topic}),(0,t.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(w(s.status)),children:s.status})]}),(0,t.jsx)("p",{className:"text-gray-600 mb-4",children:s.description||"No description available"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-gray-500",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(o.Z,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:_(s.scheduledAt)})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(m.Z,{className:"w-4 h-4"}),(0,t.jsxs)("span",{children:[s.duration||60," minutes"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(x.Z,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:(null===(a=s.teacher)||void 0===a?void 0:a.name)||"Teacher TBD"})]})]})]}),(0,t.jsx)("div",{className:"flex items-center gap-2",children:f(s.status)})]}),"upcoming"===s.status&&(0,t.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:(0,t.jsx)("button",{onClick:()=>e.push("/lessons/".concat(s._id)),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors",children:"View Details"})})]},s._id)})}),b.pages>1&&(0,t.jsx)("div",{className:"mt-8 flex justify-center",children:(0,t.jsxs)("nav",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{onClick:()=>j({...v,page:Math.max(1,v.page-1)}),disabled:1===v.page,className:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),(0,t.jsxs)("span",{className:"px-3 py-2 text-sm text-gray-700",children:["Page ",v.page," of ",b.pages]}),(0,t.jsx)("button",{onClick:()=>j({...v,page:Math.min(b.pages,v.page+1)}),disabled:v.page===b.pages,className:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})})]})})}}},function(e){e.O(0,[5522,2138,9226,9496,8484,437,5823,2244,6235,5323,747,3365,8638,9806,7093,8510,8424,8639,7855,7446,2169,8308,1408,6259,4657,8212,571,1493,2888,5514,179],function(){return e(e.s=54570)}),_N_E=e.O()}]);