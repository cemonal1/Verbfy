(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[495],{54722:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/register",function(){return r(41325)}])},41325:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return g}});var s=r(85893),a=r(67294),l=r(11163),o=r(41664),n=r.n(o),i=r(36197),d=r(32798),c=r(6642),u=r(25748),m=r(55797),h=r(54310);function x(){let{setUser:e,setAccessToken:t}=(0,i.Eu)(),o=(0,l.useRouter)(),{t:x,locale:g,setLocale:f}=(0,h.Q)(),[p,b]=(0,a.useState)(""),[y,v]=(0,a.useState)(""),[w,j]=(0,a.useState)(""),[N,k]=(0,a.useState)("student"),[C,E]=(0,a.useState)(!1),[A,_]=(0,a.useState)(null),S=async r=>{if(r.preventDefault(),p&&y&&w){if(w.length<8){_("Password must be at least 8 characters");return}E(!0),_(null);try{let r=await d.ZP.post("/api/auth/register",{name:p,email:y,password:w,role:N});(0,d.nt)(r.data.accessToken),e(r.data.user),t(r.data.accessToken),console.log("Registration successful:",r.data.user),"student"===r.data.user.role?o.push("/student/dashboard"):"teacher"===r.data.user.role?o.push("/teacher/dashboard"):o.push("/dashboard"),(0,c.x9)("Account created successfully!")}catch(t){var s,a;let e=(null===(a=t.response)||void 0===a?void 0:null===(s=a.data)||void 0===s?void 0:s.message)||"Registration failed";_(e),(0,c._N)(e)}finally{E(!1)}}},T=e=>{var t,s;let a="https://api.verbfy.com",l=(null===(t=window.top)||void 0===t?void 0:t.outerHeight)?Math.max(0,(window.top.outerHeight-600)/2):100,o=(null===(s=window.top)||void 0===s?void 0:s.outerWidth)?Math.max(0,(window.top.outerWidth-520)/2):100,n=window.open("".concat(a,"/api/auth/oauth/").concat(e),"oauthLogin","width=".concat(520,",height=").concat(600,",left=").concat(o,",top=").concat(l,",scrollbars=yes,resizable=yes")),i=e=>{let t=new URL(a).origin;if(e.origin!==t){console.warn("OAuth message from unexpected origin:",e.origin);return}let s=e.data||{};if(console.log("OAuth message received:",s),(null==s?void 0:s.type)==="oauth-success"&&(null==s?void 0:s.token)&&(null==s?void 0:s.user)){try{let{tokenStorage:e}=r(5704);e.setToken(s.token),e.setUser(s.user)}catch(e){}n&&n.close(),window.location.href="/dashboard"}else(null==s?void 0:s.type)==="oauth-error"&&(console.error("OAuth error:",s.message),n&&n.close(),alert("OAuth authentication failed. Please try again."))};window.addEventListener("message",i,{once:!1});let d=setInterval(()=>{(null==n?void 0:n.closed)&&(clearInterval(d),window.removeEventListener("message",i))},1e3)};return(0,s.jsxs)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 py-4 sm:py-8 px-4 sm:px-6 lg:px-8 relative overflow-hidden",children:[(0,s.jsx)("div",{className:"absolute top-4 right-4 z-10",children:(0,s.jsx)("button",{onClick:()=>f("en"===g?"tr":"en"),className:"px-2 py-1 text-xs rounded-md border border-gray-300 text-gray-700 hover:bg-gray-50","aria-label":"Toggle language",title:"en"===g?"T\xfcrk\xe7e":"English",children:"en"===g?"TR":"EN"})}),(0,s.jsxs)("div",{className:"absolute inset-0 overflow-hidden",children:[(0,s.jsx)("div",{className:"absolute -top-40 -right-40 w-60 h-60 sm:w-80 sm:h-80 bg-gradient-to-br from-blue-400/20 to-purple-400/20 rounded-full blur-3xl animate-pulse"}),(0,s.jsx)("div",{className:"absolute -bottom-40 -left-40 w-60 h-60 sm:w-80 sm:h-80 bg-gradient-to-tr from-indigo-400/20 to-pink-400/20 rounded-full blur-3xl animate-pulse delay-1000"})]}),(0,s.jsxs)("div",{className:"relative w-full max-w-sm sm:max-w-md space-y-6 sm:space-y-8",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"flex justify-center mb-4 sm:mb-6",children:(0,s.jsx)(m.Z,{size:88,withTitle:!1})}),(0,s.jsx)("p",{className:"text-xs text-blue-600 font-semibold mb-1",children:"Verbing Up Your Language Skills!"}),(0,s.jsx)("p",{className:"text-gray-600 text-base sm:text-lg",children:x("auth.register.tagline","Join the learning revolution")})]}),(0,s.jsxs)("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-white/20 p-6 sm:p-8 space-y-6",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-2",children:x("auth.register.title","Create your account")}),(0,s.jsx)("p",{className:"text-gray-600 text-sm sm:text-base",children:"Start your English learning journey today"})]}),(0,s.jsxs)("form",{className:"space-y-4 sm:space-y-6",onSubmit:S,children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:x("auth.register.name","Full Name")}),(0,s.jsx)("input",{id:"name",name:"name",type:"text",autoComplete:"name",required:!0,className:"w-full px-3 sm:px-4 py-2.5 sm:py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 placeholder-gray-400 text-gray-900 bg-white/50 backdrop-blur-sm text-sm sm:text-base",placeholder:x("auth.register.namePlaceholder","Enter your full name"),value:p,onChange:e=>b(e.target.value)})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:x("auth.register.email","Email Address")}),(0,s.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"w-full px-3 sm:px-4 py-2.5 sm:py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 placeholder-gray-400 text-gray-900 bg-white/50 backdrop-blur-sm text-sm sm:text-base",placeholder:x("auth.register.emailPlaceholder","Enter your email"),value:y,onChange:e=>v(e.target.value)})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:x("auth.register.password","Password")}),(0,s.jsx)("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,className:"w-full px-3 sm:px-4 py-2.5 sm:py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 placeholder-gray-400 text-gray-900 bg-white/50 backdrop-blur-sm text-sm sm:text-base",placeholder:x("auth.register.passwordPlaceholder","Create a strong password"),value:w,onChange:e=>j(e.target.value)})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700",children:x("auth.register.role","I want to join as")}),(0,s.jsxs)("select",{id:"role",name:"role",required:!0,className:"w-full px-3 sm:px-4 py-2.5 sm:py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-gray-900 bg-white/50 backdrop-blur-sm text-sm sm:text-base",value:N,onChange:e=>k(e.target.value),children:[(0,s.jsx)("option",{value:"student",children:x("auth.register.role.student","Student - Learn English")}),(0,s.jsx)("option",{value:"teacher",children:x("auth.register.role.teacher","Teacher - Teach English (requires admin approval)")})]})]}),A&&(0,s.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-xl p-3 sm:p-4",children:(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsx)("i",{className:"fas fa-exclamation-circle text-red-400 mt-0.5 mr-3"}),(0,s.jsx)("p",{className:"text-sm text-red-600",children:A})]})}),(0,s.jsx)("button",{type:"submit",disabled:C,className:"group relative w-full flex justify-center py-2.5 sm:py-3 px-4 border border-transparent text-sm sm:text-base font-semibold rounded-xl text-white bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transform hover:scale-[1.02] transition-all duration-200 shadow-lg hover:shadow-xl",children:C?(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),x("auth.register.creating","Creating account...")]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("i",{className:"fas fa-user-plus mr-2"}),x("auth.register.submit","Create account")]})})]}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,s.jsx)("div",{className:"w-full border-t border-gray-300"})}),(0,s.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,s.jsx)("span",{className:"px-2 bg-white text-gray-500",children:x("auth.register.or","Or sign up with")})})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 gap-3",children:[(0,s.jsxs)("button",{onClick:()=>T("google"),className:"w-full inline-flex justify-center py-2.5 sm:py-3 px-4 border border-gray-300 rounded-xl shadow-sm bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all duration-200 transform hover:scale-[1.02]",children:[(0,s.jsx)("i",{className:"fab fa-google text-red-500 mr-3"}),x("auth.register.google","Continue with Google")]}),(0,s.jsxs)("button",{onClick:()=>T("outlook"),className:"w-full inline-flex justify-center py-2.5 sm:py-3 px-4 border border-gray-300 rounded-xl shadow-sm bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all duration-200 transform hover:scale-[1.02]",children:[(0,s.jsx)("i",{className:"fas fa-envelope text-blue-500 mr-3"}),x("auth.register.outlook","Continue with Outlook")]}),(0,s.jsxs)("button",{onClick:()=>T("apple"),className:"w-full inline-flex justify-center py-2.5 sm:py-3 px-4 border border-gray-300 rounded-xl shadow-sm bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all duration-200 transform hover:scale-[1.02]",children:[(0,s.jsx)("i",{className:"fab fa-apple text-gray-900 mr-3"}),x("auth.register.apple","Continue with Apple")]})]})]}),(0,s.jsx)("div",{className:"text-center",children:(0,s.jsxs)("p",{className:"text-gray-600 text-sm sm:text-base",children:[x("auth.register.have","Already have an account?")," ",(0,s.jsx)(n(),{href:"/login",className:"font-semibold text-blue-600 hover:text-blue-500 transition-colors duration-200 hover:underline",children:x("auth.register.signin","Sign in here")})]})}),(0,s.jsxs)("div",{className:"text-center space-y-2",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row justify-center space-y-2 sm:space-y-0 sm:space-x-4 text-sm text-gray-500",children:[(0,s.jsx)(n(),{href:"/privacy",className:"hover:text-gray-700 transition-colors",children:x("footer.privacy","Privacy Policy")}),(0,s.jsx)(n(),{href:"/terms",className:"hover:text-gray-700 transition-colors",children:x("footer.terms","Terms of Service")}),(0,s.jsx)(n(),{href:"/help",className:"hover:text-gray-700 transition-colors",children:x("footer.help","Help Center")})]}),(0,s.jsxs)("p",{className:"text-xs text-gray-400",children:["\xa9 2024 Verbfy. ",x("footer.rights","All rights reserved.")]})]})]}),(0,s.jsx)(u.Z,{})]})}function g(){return(0,s.jsx)(x,{})}},55797:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var s=r(85893);r(67294);var a=r(41664),l=r.n(a),o=r(25675),n=r.n(o);function i(e){let{size:t=40,withTitle:r=!1,href:a="/",className:o="",titleClassName:i="text-2xl font-extrabold text-gray-900 dark:text-white"}=e;return(0,s.jsxs)(l(),{href:a,className:"flex items-center justify-center ".concat(o),"aria-label":"Verbfy Home",children:[(0,s.jsx)(n(),{src:"/logo.png",alt:"Verbfy logo",width:t,height:t,priority:!0,className:"mx-auto"}),r&&(0,s.jsx)("span",{className:i,children:"Verbfy"})]})}},25748:function(e,t,r){"use strict";var s=r(85893);r(67294);var a=r(41664),l=r.n(a),o=r(36197);t.Z=e=>{let{className:t="",showText:r=!1}=e,{user:a}=(0,o.Eu)(),n=a?"student"===a.role?"/student/dashboard":"/teacher/dashboard":"/";return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(l(),{href:n,className:"hidden lg:flex items-center px-3 py-2 text-sm font-medium text-gray-700 rounded-lg hover:bg-gray-100 hover:text-gray-900 transition-all duration-200 ".concat(t),title:a?"Dashboard":"Anasayfa",children:[(0,s.jsx)("i",{className:"fas fa-home w-5 h-5 mr-2"}),r&&(0,s.jsx)("span",{children:a?"Dashboard":"Anasayfa"})]}),(0,s.jsx)(l(),{href:n,className:"lg:hidden fixed bottom-6 right-6 z-50 w-14 h-14 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200",title:a?"Dashboard":"Anasayfa",children:(0,s.jsx)("span",{className:"text-white text-xl",children:"\uD83C\uDFE0"})})]})}},6642:function(e,t,r){"use strict";r.d(t,{_N:function(){return a},x9:function(){return l}});var s=r(56158);let a=e=>{s.Am.error(e)},l=e=>{s.Am.success(e)}}},function(e){e.O(0,[1216,2888,179],function(){return e(e.s=54722)}),_N_E=e.O()}]);
//# sourceMappingURL=register-559eb50b8494213a.js.map