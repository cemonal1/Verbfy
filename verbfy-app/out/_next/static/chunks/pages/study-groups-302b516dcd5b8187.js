(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4076],{16007:function(e,s,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/study-groups",function(){return r(15715)}])},15715:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return m}});var t=r(85893),a=r(67294),l=r(11163),i=r(9008),n=r.n(i),d=r(11088),c=r(36197),o=r(56158);function m(){let e=(0,l.useRouter)(),{user:s}=(0,c.Eu)(),{success:r,error:i}=(0,o.pm)(),[m,u]=(0,a.useState)(null),[x,h]=(0,a.useState)(!0),[p,g]=(0,a.useState)("my-groups"),[b,y]=(0,a.useState)(!1),[v,j]=(0,a.useState)({name:"",description:"",maxMembers:10,level:"B1",isPrivate:!1,password:""});(0,a.useEffect)(()=>{f()},[]);let f=async()=>{try{h(!0),u({myGroups:[{id:1,name:"Grammar Masters",description:"Advanced grammar practice and discussion group",level:"B2",memberCount:8,maxMembers:12,isPrivate:!1,isOwner:!0,lastActivity:"2 hours ago",nextSession:"2024-01-20T18:00:00Z",members:[{id:1,name:"Sarah Johnson",avatar:"\uD83D\uDC69‍\uD83C\uDF93",role:"owner",level:"B2"},{id:2,name:"Mike Chen",avatar:"\uD83D\uDC68‍\uD83C\uDF93",role:"member",level:"B1"},{id:3,name:"Emma Davis",avatar:"\uD83D\uDC69‍\uD83C\uDF93",role:"member",level:"B2"}],recentMessages:[{id:1,user:"Sarah Johnson",message:"Great session today!",time:"2 hours ago"},{id:2,user:"Mike Chen",message:"When is our next meeting?",time:"1 hour ago"}]},{id:2,name:"Speaking Practice",description:"Daily speaking practice and conversation",level:"B1",memberCount:5,maxMembers:8,isPrivate:!0,isOwner:!1,lastActivity:"1 day ago",nextSession:"2024-01-21T19:00:00Z",members:[{id:1,name:"Lisa Wang",avatar:"\uD83D\uDC69‍\uD83C\uDF93",role:"owner",level:"B2"},{id:2,name:"Alex Thompson",avatar:"\uD83D\uDC68‍\uD83C\uDF93",role:"member",level:"B1"}],recentMessages:[{id:1,user:"Lisa Wang",message:"Tomorrow's topic: Travel experiences",time:"1 day ago"}]}],discoverGroups:[{id:3,name:"Vocabulary Builders",description:"Learn new words and expand your vocabulary together",level:"A2",memberCount:15,maxMembers:20,isPrivate:!1,isOwner:!1,lastActivity:"30 minutes ago",tags:["vocabulary","beginner","daily"]},{id:4,name:"Writing Workshop",description:"Improve your writing skills with peer feedback",level:"B1",memberCount:6,maxMembers:10,isPrivate:!1,isOwner:!1,lastActivity:"3 hours ago",tags:["writing","feedback","intermediate"]},{id:5,name:"Test Prep Squad",description:"Prepare for CEFR tests together",level:"B2",memberCount:12,maxMembers:15,isPrivate:!1,isOwner:!1,lastActivity:"1 hour ago",tags:["test-prep","cefr","advanced"]}],recommendedGroups:[{id:6,name:"Reading Club",description:"Read and discuss English literature",level:"B1",memberCount:8,maxMembers:12,isPrivate:!1,isOwner:!1,lastActivity:"4 hours ago",tags:["reading","literature","discussion"]}]})}catch(e){i("Failed to load study groups"),console.error("Error loading study groups:",e)}finally{h(!1)}},N=async()=>{try{r("Study group created successfully!"),y(!1),j({name:"",description:"",maxMembers:10,level:"B1",isPrivate:!1,password:""}),f()}catch(e){i("Failed to create study group"),console.error("Error creating study group:",e)}},w=async e=>{try{r("Joined study group successfully!"),f()}catch(e){i("Failed to join study group"),console.error("Error joining study group:",e)}},D=async e=>{try{r("Left study group successfully!"),f()}catch(e){i("Failed to leave study group"),console.error("Error leaving study group:",e)}},C=e=>new Date(e).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),k=e=>({A1:"bg-red-100 text-red-800",A2:"bg-orange-100 text-orange-800",B1:"bg-yellow-100 text-yellow-800",B2:"bg-green-100 text-green-800",C1:"bg-blue-100 text-blue-800",C2:"bg-purple-100 text-purple-800"})[e]||"bg-gray-100 text-gray-800";return x?(0,t.jsx)(d.Z,{allowedRoles:["student"],children:(0,t.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):m?(0,t.jsxs)(d.Z,{allowedRoles:["student"],children:[(0,t.jsx)(n(),{children:(0,t.jsx)("title",{children:"Study Groups - Verbfy"})}),(0,t.jsxs)("div",{className:"p-6 max-w-7xl mx-auto",children:[(0,t.jsx)("div",{className:"mb-8",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Study Groups"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Learn together with peers and practice English in a collaborative environment"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)("button",{onClick:()=>y(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Create Group"}),(0,t.jsx)("button",{onClick:()=>e.push("/personalized-curriculum"),className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",children:"Back to Curriculum"})]})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,t.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"My Groups"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:m.myGroups.length})]}),(0,t.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-blue-600 text-xl",children:"\uD83D\uDC65"})})]})}),(0,t.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Members"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:m.myGroups.reduce((e,s)=>e+s.memberCount,0)})]}),(0,t.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-green-600 text-xl",children:"\uD83D\uDC68‍\uD83C\uDF93"})})]})}),(0,t.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Active Sessions"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:m.myGroups.filter(e=>new Date(e.nextSession)>new Date).length})]}),(0,t.jsx)("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-purple-600 text-xl",children:"\uD83C\uDFAF"})})]})}),(0,t.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Groups Owned"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:m.myGroups.filter(e=>e.isOwner).length})]}),(0,t.jsx)("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-yellow-600 text-xl",children:"\uD83D\uDC51"})})]})})]}),(0,t.jsx)("div",{className:"mb-6",children:(0,t.jsx)("div",{className:"border-b border-gray-200",children:(0,t.jsx)("nav",{className:"-mb-px flex space-x-8",children:[{id:"my-groups",label:"My Groups",count:m.myGroups.length},{id:"discover",label:"Discover",count:m.discoverGroups.length},{id:"create",label:"Create Group",count:0}].map(e=>(0,t.jsxs)("button",{onClick:()=>g(e.id),className:"py-2 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ".concat(p===e.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,t.jsx)("span",{children:e.label}),e.count>0&&(0,t.jsx)("span",{className:"bg-gray-100 text-gray-600 px-2 py-1 rounded-full text-xs",children:e.count})]},e.id))})})}),"my-groups"===p&&(0,t.jsx)("div",{className:"space-y-6",children:m.myGroups.map(s=>(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:s.name}),(0,t.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat(k(s.level)),children:s.level}),s.isPrivate&&(0,t.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-gray-100 text-gray-800",children:"\uD83D\uDD12 Private"}),s.isOwner&&(0,t.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-yellow-100 text-yellow-800",children:"\uD83D\uDC51 Owner"})]}),(0,t.jsx)("p",{className:"text-gray-600 mb-3",children:s.description}),(0,t.jsxs)("div",{className:"flex items-center space-x-6 text-sm text-gray-500",children:[(0,t.jsxs)("span",{children:["\uD83D\uDC65 ",s.memberCount,"/",s.maxMembers," members"]}),(0,t.jsxs)("span",{children:["\uD83D\uDD52 Last activity: ",s.lastActivity]}),s.nextSession&&(0,t.jsxs)("span",{children:["\uD83D\uDCC5 Next session: ",C(s.nextSession)]})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("button",{onClick:()=>e.push("/study-groups/".concat(s.id)),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"View Group"}),!s.isOwner&&(0,t.jsx)("button",{onClick:()=>D(s.id),className:"px-4 py-2 text-red-600 border border-red-300 rounded-md hover:bg-red-50 transition-colors",children:"Leave"})]})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Members"}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[s.members.slice(0,5).map(e=>(0,t.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,t.jsx)("span",{className:"text-lg",children:e.avatar}),(0,t.jsx)("span",{className:"text-xs text-gray-600",children:e.name})]},e.id)),s.members.length>5&&(0,t.jsxs)("span",{className:"text-xs text-gray-500",children:["+",s.members.length-5," more"]})]})]}),s.recentMessages.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Recent Messages"}),(0,t.jsx)("div",{className:"space-y-1",children:s.recentMessages.slice(0,2).map(e=>(0,t.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,t.jsxs)("span",{className:"font-medium",children:[e.user,":"]})," ",e.message,(0,t.jsx)("span",{className:"text-gray-400 ml-2",children:e.time})]},e.id))})]})]},s.id))}),"discover"===p&&(0,t.jsxs)("div",{className:"space-y-6",children:[m.recommendedGroups.length>0&&(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recommended for You"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:m.recommendedGroups.map(e=>(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("h4",{className:"font-medium text-gray-900",children:e.name}),(0,t.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat(k(e.level)),children:e.level})]}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:e.description}),(0,t.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-3",children:[(0,t.jsxs)("span",{children:["\uD83D\uDC65 ",e.memberCount,"/",e.maxMembers]}),(0,t.jsxs)("span",{children:["\uD83D\uDD52 ",e.lastActivity]})]}),(0,t.jsx)("div",{className:"flex flex-wrap gap-1 mb-3",children:e.tags.map((e,s)=>(0,t.jsx)("span",{className:"px-2 py-1 text-xs bg-gray-100 text-gray-600 rounded-full",children:e},s))}),(0,t.jsx)("button",{onClick:()=>w(e.id),className:"w-full px-3 py-2 bg-blue-600 text-white text-sm rounded-md hover:bg-blue-700 transition-colors",children:"Join Group"})]},e.id))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"All Groups"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:m.discoverGroups.map(e=>(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("h4",{className:"font-medium text-gray-900",children:e.name}),(0,t.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat(k(e.level)),children:e.level})]}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:e.description}),(0,t.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-3",children:[(0,t.jsxs)("span",{children:["\uD83D\uDC65 ",e.memberCount,"/",e.maxMembers]}),(0,t.jsxs)("span",{children:["\uD83D\uDD52 ",e.lastActivity]})]}),(0,t.jsx)("div",{className:"flex flex-wrap gap-1 mb-3",children:e.tags.map((e,s)=>(0,t.jsx)("span",{className:"px-2 py-1 text-xs bg-gray-100 text-gray-600 rounded-full",children:e},s))}),(0,t.jsx)("button",{onClick:()=>w(e.id),className:"w-full px-3 py-2 bg-blue-600 text-white text-sm rounded-md hover:bg-blue-700 transition-colors",children:"Join Group"})]},e.id))})]})]}),"create"===p&&(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Create a New Study Group"}),(0,t.jsx)("p",{className:"text-gray-600 mb-6",children:"Create a study group to learn together with other students. You can make it public or private."}),(0,t.jsx)("button",{onClick:()=>y(!0),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Create Study Group"})]}),b&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Create Study Group"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Group Name"}),(0,t.jsx)("input",{type:"text",value:v.name,onChange:e=>j({...v,name:e.target.value}),placeholder:"Enter group name",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,t.jsx)("textarea",{value:v.description,onChange:e=>j({...v,description:e.target.value}),placeholder:"Describe your study group",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CEFR Level"}),(0,t.jsxs)("select",{value:v.level,onChange:e=>j({...v,level:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,t.jsx)("option",{value:"A1",children:"A1 - Beginner"}),(0,t.jsx)("option",{value:"A2",children:"A2 - Elementary"}),(0,t.jsx)("option",{value:"B1",children:"B1 - Intermediate"}),(0,t.jsx)("option",{value:"B2",children:"B2 - Upper Intermediate"}),(0,t.jsx)("option",{value:"C1",children:"C1 - Advanced"}),(0,t.jsx)("option",{value:"C2",children:"C2 - Mastery"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Maximum Members"}),(0,t.jsxs)("select",{value:v.maxMembers,onChange:e=>j({...v,maxMembers:parseInt(e.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,t.jsx)("option",{value:5,children:"5 members"}),(0,t.jsx)("option",{value:10,children:"10 members"}),(0,t.jsx)("option",{value:15,children:"15 members"}),(0,t.jsx)("option",{value:20,children:"20 members"})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("input",{type:"checkbox",id:"isPrivate",checked:v.isPrivate,onChange:e=>j({...v,isPrivate:e.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,t.jsx)("label",{htmlFor:"isPrivate",className:"text-sm font-medium text-gray-700",children:"Make this group private"})]}),v.isPrivate&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),(0,t.jsx)("input",{type:"password",value:v.password,onChange:e=>j({...v,password:e.target.value}),placeholder:"Enter group password",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,t.jsxs)("div",{className:"flex space-x-3 mt-6",children:[(0,t.jsx)("button",{onClick:()=>y(!1),className:"flex-1 px-4 py-2 text-gray-600 border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,t.jsx)("button",{onClick:N,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Create Group"})]})]})})]})]}):(0,t.jsx)(d.Z,{allowedRoles:["student"],children:(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No study groups available"}),(0,t.jsx)("p",{className:"text-gray-600 mb-4",children:"Create or join a study group to start learning together."}),(0,t.jsx)("button",{onClick:()=>y(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Create Group"})]})})}}},function(e){e.O(0,[1216,1088,2888,179],function(){return e(e.s=16007)}),_N_E=e.O()}]);