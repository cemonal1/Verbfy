{"version":3,"file":"static/chunks/pages/reset-password-5693ce97a59c7ab8.js","mappings":"sFACA,CAAAA,OAAAC,QAAA,CAAAD,OAAAC,QAAA,MAAAC,IAAA,EACA,kBACA,WACA,OAAeC,EAAQ,MACvB,EACA,sJCDe,SAASC,IAEtB,GAAM,CAAEC,MAAOC,CAAU,CAAE,CAAGC,CADfC,EAAAA,EAAAA,SAAAA,IACsBC,KAAK,CACpC,CAACC,EAAUC,EAAY,CAAGC,CAAAA,EAAAA,EAAAA,QAAAA,EAAS,IACnC,CAACC,EAASC,EAAW,CAAGF,CAAAA,EAAAA,EAAAA,QAAAA,EAAS,IACjC,CAACG,EAAQC,EAAU,CAAGJ,CAAAA,EAAAA,EAAAA,QAAAA,EAAsC,QAC5D,CAACK,EAASC,EAAW,CAAGN,CAAAA,EAAAA,EAAAA,QAAAA,EAAS,IAEjCP,EAAQ,iBAAOC,EAA0BA,EAAa,aAEtDa,EAAYT,EAASU,MAAM,EAAI,GAAKV,IAAaG,GAAW,iBAAOR,EAEnEgB,EAAS,MAAOC,QAQPC,EAGAD,EAAAA,EATb,GADAA,EAAEE,cAAc,GACXL,GACLH,EAAU,WACVE,EAAW,IACX,GAAI,CACF,IAAMK,EAAM,MAAME,EAAAA,EAAGA,CAACC,IAAI,CAAC,2BAA4B,CAAErB,MAAAA,EAAOK,SAAAA,CAAS,GACzEM,EAAU,QACVE,EAAWK,CAAAA,OAAAA,CAAAA,EAAAA,EAAII,IAAI,GAARJ,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAUN,OAAO,GAAI,0BAClC,CAAE,MAAOK,EAAQ,CACfN,EAAU,QACVE,EAAWI,CAAAA,MAAAA,EAAAA,KAAAA,EAAAA,OAAAA,CAAAA,EAAAA,EAAGM,QAAQ,GAAXN,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,OAAAA,CAAAA,EAAAA,EAAaK,IAAI,GAAjBL,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAmBL,OAAO,GAAI,kCAC3C,EACF,EAEA,MACE,GAAAY,EAAAC,IAAA,EAAAD,EAAAE,QAAA,YACE,GAAAF,EAAAG,GAAA,EAACC,IAAIA,UACH,GAAAJ,EAAAG,GAAA,EAACE,QAAAA,UAAM,8BAET,GAAAL,EAAAG,GAAA,EAACG,MAAAA,CAAIC,UAAU,wEACb,GAAAP,EAAAC,IAAA,EAACO,OAAAA,CAAKC,SAAUjB,EAAQe,UAAU,2DAChC,GAAAP,EAAAG,GAAA,EAACO,KAAAA,CAAGH,UAAU,uCAA8B,mBAC5C,GAAAP,EAAAG,GAAA,EAACQ,QAAAA,CAAMC,QAAQ,cAAcL,UAAU,mDAA0C,+BACjF,GAAAP,EAAAG,GAAA,EAACU,QAAAA,CACCC,GAAG,cACHC,KAAK,WACLC,SAAQ,GACRC,UAAW,EACXC,MAAOrC,EACPsC,SAAU,GAAOrC,EAAYW,EAAE2B,MAAM,CAACF,KAAK,EAC3CX,UAAU,yGAEZ,GAAAP,EAAAG,GAAA,EAACQ,QAAAA,CAAMC,QAAQ,kBAAkBL,UAAU,wDAA+C,qBAC1F,GAAAP,EAAAG,GAAA,EAACU,QAAAA,CACCC,GAAG,kBACHC,KAAK,WACLC,SAAQ,GACRC,UAAW,EACXC,MAAOlC,EACPmC,SAAU,GAAOlC,EAAWQ,EAAE2B,MAAM,CAACF,KAAK,EAC1CX,UAAU,yGAEZ,GAAAP,EAAAG,GAAA,EAACkB,SAAAA,CACCN,KAAK,SACLO,SAAUpC,YAAAA,GAAwB,CAACI,EACnCiB,UAAU,8IAETrB,YAAAA,EAAuB,aAAe,mBAExCE,GAAW,GAAAY,EAAAG,GAAA,EAACoB,IAAAA,CAAEhB,UAAU,sCAA8BnB,WAKjE","sources":["webpack://_N_E/?bc31","webpack://_N_E/./pages/reset-password.tsx"],"sourcesContent":["\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/reset-password\",\n      function () {\n        return require(\"private-next-pages/reset-password.tsx\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/reset-password\"])\n      });\n    }\n  ","import { useEffect, useState } from 'react';\r\nimport { useRouter } from 'next/router';\r\nimport Head from 'next/head';\r\nimport api from '../src/lib/api';\r\n\r\nexport default function ResetPasswordPage() {\r\n  const router = useRouter();\r\n  const { token: queryToken } = router.query;\r\n  const [password, setPassword] = useState('');\r\n  const [confirm, setConfirm] = useState('');\r\n  const [status, setStatus] = useState<'idle' | 'loading' | 'done'>('idle');\r\n  const [message, setMessage] = useState('');\r\n\r\n  const token = typeof queryToken === 'string' ? queryToken : 'test-token';\r\n\r\n  const canSubmit = password.length >= 8 && password === confirm && typeof token === 'string';\r\n\r\n  const submit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (!canSubmit) return;\r\n    setStatus('loading');\r\n    setMessage('');\r\n    try {\r\n      const res = await api.post('/api/auth/password/reset', { token, password });\r\n      setStatus('done');\r\n      setMessage(res.data?.message || 'Password has been reset');\r\n    } catch (e: any) {\r\n      setStatus('done');\r\n      setMessage(e?.response?.data?.message || 'Reset failed. Please try again.');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Head>\r\n        <title>Reset Password - Verbfy</title>\r\n      </Head>\r\n      <div className=\"min-h-screen flex items-center justify-center bg-gray-50 p-6\">\r\n        <form onSubmit={submit} className=\"max-w-md w-full bg-white rounded-xl shadow p-6\">\r\n          <h1 className=\"text-2xl font-semibold mb-4\">Reset Password</h1>\r\n          <label htmlFor=\"newPassword\" className=\"block text-sm font-medium text-gray-700\">New Password (min 8 chars)</label>\r\n          <input\r\n            id=\"newPassword\"\r\n            type=\"password\"\r\n            required\r\n            minLength={8}\r\n            value={password}\r\n            onChange={(e) => setPassword(e.target.value)}\r\n            className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500\"\r\n          />\r\n          <label htmlFor=\"confirmPassword\" className=\"block text-sm font-medium text-gray-700 mt-3\">Confirm Password</label>\r\n          <input\r\n            id=\"confirmPassword\"\r\n            type=\"password\"\r\n            required\r\n            minLength={8}\r\n            value={confirm}\r\n            onChange={(e) => setConfirm(e.target.value)}\r\n            className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500\"\r\n          />\r\n          <button\r\n            type=\"submit\"\r\n            disabled={status === 'loading' || !canSubmit}\r\n            className=\"mt-4 inline-flex items-center justify-center rounded-md bg-indigo-600 px-4 py-2 text-white hover:bg-indigo-700 disabled:opacity-50\"\r\n          >\r\n            {status === 'loading' ? 'Resettingâ€¦' : 'Reset Password'}\r\n          </button>\r\n          {message && <p className=\"mt-3 text-sm text-gray-700\">{message}</p>}\r\n        </form>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\n\r\n"],"names":["window","__NEXT_P","push","__webpack_require__","ResetPasswordPage","token","queryToken","router","useRouter","query","password","setPassword","useState","confirm","setConfirm","status","setStatus","message","setMessage","canSubmit","length","submit","e","res","preventDefault","api","post","data","response","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","jsxs","Fragment","jsx","Head","title","div","className","form","onSubmit","h1","label","htmlFor","input","id","type","required","minLength","value","onChange","target","button","disabled","p"],"sourceRoot":""}