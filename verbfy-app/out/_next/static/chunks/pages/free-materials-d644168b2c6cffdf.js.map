{"version":3,"file":"static/chunks/pages/free-materials-d644168b2c6cffdf.js","mappings":"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","sources":["webpack://_N_E/?2a00","webpack://_N_E/./pages/free-materials/index.tsx"],"sourcesContent":["\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/free-materials\",\n      function () {\n        return require(\"private-next-pages/free-materials/index.tsx\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/free-materials\"])\n      });\n    }\n  ","import React, { useEffect, useState } from 'react';\r\nimport { useRouter } from 'next/router';\r\nimport DashboardLayout from '@/components/layout/DashboardLayout';\r\nimport { freeMaterialsAPI } from '@/lib/api';\r\nimport { FreeMaterial, MaterialFilters } from '@/types/freeMaterials';\r\nimport { toast } from 'react-hot-toast';\r\nimport { \r\n  MagnifyingGlassIcon,\r\n  FunnelIcon,\r\n  StarIcon,\r\n  DocumentArrowDownIcon,\r\n  AcademicCapIcon,\r\n  BookOpenIcon,\r\n  EyeIcon,\r\n  HeartIcon\r\n} from '@heroicons/react/24/outline';\r\nimport { StarIcon as StarIconSolid } from '@heroicons/react/24/solid';\r\n\r\nfunction FreeMaterialsPage() {\r\n  const router = useRouter();\r\n  const [materials, setMaterials] = useState<FreeMaterial[]>([]);\r\n  const [featuredMaterials, setFeaturedMaterials] = useState<FreeMaterial[]>([]);\r\n  const [categories, setCategories] = useState<string[]>([]);\r\n  const [levels, setLevels] = useState<string[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [filters, setFilters] = useState<MaterialFilters>({\r\n    category: 'All',\r\n    level: 'All',\r\n    search: '',\r\n    sortBy: 'createdAt',\r\n    sortOrder: 'desc',\r\n    page: 1,\r\n    limit: 12\r\n  });\r\n  const [pagination, setPagination] = useState({\r\n    page: 1,\r\n    limit: 12,\r\n    total: 0,\r\n    pages: 0\r\n  });\r\n  const [showFilters, setShowFilters] = useState(false);\r\n\r\n  useEffect(() => {\r\n    loadInitialData();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    loadMaterials();\r\n  }, [filters]);\r\n\r\n  const loadInitialData = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const [categoriesRes, levelsRes, featuredRes] = await Promise.all([\r\n        freeMaterialsAPI.getCategories(),\r\n        freeMaterialsAPI.getLevels(),\r\n        freeMaterialsAPI.getFeaturedMaterials()\r\n      ]);\r\n      \r\n      setCategories(categoriesRes.data);\r\n      setLevels(levelsRes.data);\r\n      setFeaturedMaterials(featuredRes.data);\r\n    } catch (error) {\r\n      toast.error('Failed to load initial data');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const loadMaterials = async () => {\r\n    try {\r\n      const response = await freeMaterialsAPI.getMaterials(filters);\r\n      setMaterials(response.data);\r\n      setPagination(response.pagination);\r\n    } catch (error) {\r\n      toast.error('Failed to load materials');\r\n    }\r\n  };\r\n\r\n  const handleDownload = async (material: FreeMaterial) => {\r\n    try {\r\n      const blob = await freeMaterialsAPI.downloadMaterial(material._id);\r\n      const url = window.URL.createObjectURL(blob);\r\n      const a = document.createElement('a');\r\n      a.href = url;\r\n      a.download = material.title;\r\n      document.body.appendChild(a);\r\n      a.click();\r\n      window.URL.revokeObjectURL(url);\r\n      document.body.removeChild(a);\r\n      toast.success('Download started!');\r\n    } catch (error) {\r\n      toast.error('Failed to download material');\r\n    }\r\n  };\r\n\r\n  const handleRate = async (materialId: string, rating: number) => {\r\n    try {\r\n      await freeMaterialsAPI.rateMaterial(materialId, rating);\r\n      toast.success('Rating submitted!');\r\n      loadMaterials(); // Refresh to get updated ratings\r\n    } catch (error) {\r\n      toast.error('Failed to submit rating');\r\n    }\r\n  };\r\n\r\n  const getFileTypeIcon = (type: string) => {\r\n    switch (type) {\r\n      case 'pdf':\r\n        return <DocumentArrowDownIcon className=\"w-5 h-5 text-red-500\" />;\r\n      case 'image':\r\n        return <EyeIcon className=\"w-5 h-5 text-green-500\" />;\r\n      case 'video':\r\n        return <EyeIcon className=\"w-5 h-5 text-blue-500\" />;\r\n      case 'audio':\r\n        return <EyeIcon className=\"w-5 h-5 text-purple-500\" />;\r\n      case 'presentation':\r\n        return <BookOpenIcon className=\"w-5 h-5 text-orange-500\" />;\r\n      default:\r\n        return <DocumentArrowDownIcon className=\"w-5 h-5 text-gray-500\" />;\r\n    }\r\n  };\r\n\r\n  const getLevelColor = (level: string) => {\r\n    switch (level) {\r\n      case 'Beginner':\r\n        return 'bg-green-100 text-green-800';\r\n      case 'Intermediate':\r\n        return 'bg-yellow-100 text-yellow-800';\r\n      case 'Advanced':\r\n        return 'bg-red-100 text-red-800';\r\n      default:\r\n        return 'bg-blue-100 text-blue-800';\r\n    }\r\n  };\r\n\r\n  const formatFileSize = (bytes: number) => {\r\n    if (bytes === 0) return '0 Bytes';\r\n    const k = 1024;\r\n    const sizes = ['Bytes', 'KB', 'MB', 'GB'];\r\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\r\n  };\r\n\r\n  const renderStars = (rating: number, onClick?: (rating: number) => void) => {\r\n    return (\r\n      <div className=\"flex items-center gap-1\">\r\n        {[1, 2, 3, 4, 5].map((star) => (\r\n          <button\r\n            key={star}\r\n            onClick={() => onClick?.(star)}\r\n            className=\"text-yellow-400 hover:text-yellow-500 transition-colors\"\r\n            disabled={!onClick}\r\n          >\r\n            {star <= rating ? (\r\n              <StarIconSolid className=\"w-4 h-4\" />\r\n            ) : (\r\n              <StarIcon className=\"w-4 h-4\" />\r\n            )}\r\n          </button>\r\n        ))}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <DashboardLayout allowedRoles={['student', 'teacher']}>\r\n      <div className=\"max-w-7xl mx-auto p-6\">\r\n        {/* Header */}\r\n        <div className=\"mb-8\">\r\n          <h1 className=\"text-3xl font-bold text-gray-900 flex items-center gap-3\">\r\n            <BookOpenIcon className=\"w-8 h-8 text-green-600\" />\r\n            Free Learning Materials\r\n          </h1>\r\n          <p className=\"text-gray-600 mt-2\">Access high-quality English learning resources for free</p>\r\n        </div>\r\n\r\n        {/* Featured Materials */}\r\n        {featuredMaterials.length > 0 && (\r\n          <div className=\"mb-8\">\r\n            <h2 className=\"text-xl font-semibold text-gray-900 mb-4 flex items-center gap-2\">\r\n              <HeartIcon className=\"w-5 h-5 text-red-500\" />\r\n              Featured Materials\r\n            </h2>\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n              {featuredMaterials.map((material) => (\r\n                <div key={material._id} className=\"bg-white rounded-lg shadow-sm border p-6 hover:shadow-md transition-shadow\">\r\n                  <div className=\"flex items-start justify-between mb-3\">\r\n                    <div className=\"flex items-center gap-2\">\r\n                      {getFileTypeIcon(material.type)}\r\n                      <span className=\"text-sm text-gray-500\">{material.type.toUpperCase()}</span>\r\n                    </div>\r\n                    <span className=\"text-xs px-2 py-1 rounded-full bg-red-100 text-red-800\">\r\n                      Featured\r\n                    </span>\r\n                  </div>\r\n                  \r\n                  <h3 className=\"font-semibold text-lg text-gray-900 mb-2 line-clamp-2\">{material.title}</h3>\r\n                  <p className=\"text-gray-600 text-sm mb-4 line-clamp-3\">{material.description}</p>\r\n                  \r\n                  <div className=\"flex items-center justify-between mb-4\">\r\n                    <span className={`text-xs px-2 py-1 rounded-full ${getLevelColor(material.level)}`}>\r\n                      {material.level}\r\n                    </span>\r\n                    <span className=\"text-xs text-gray-500\">{formatFileSize(material.fileSize)}</span>\r\n                  </div>\r\n                  \r\n                  <div className=\"flex items-center justify-between mb-4\">\r\n                    {renderStars(Number(material.averageRating || 0))}\r\n                    <span className=\"text-xs text-gray-500\">{material.downloadCount} downloads</span>\r\n                  </div>\r\n                  \r\n                  <button\r\n                    onClick={() => handleDownload(material)}\r\n                    className=\"w-full bg-green-600 hover:bg-green-700 text-white py-2 px-4 rounded-md transition-colors flex items-center justify-center gap-2\"\r\n                  >\r\n                    <DocumentArrowDownIcon className=\"w-4 h-4\" />\r\n                    Download Free\r\n                  </button>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Filters and Search */}\r\n        <div className=\"bg-white rounded-lg shadow-sm border p-4 mb-6\">\r\n          <div className=\"flex flex-wrap items-center gap-4\">\r\n            <div className=\"flex-1 min-w-64\">\r\n              <div className=\"relative\">\r\n                <MagnifyingGlassIcon className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400\" />\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Search materials...\"\r\n                  value={filters.search}\r\n                  onChange={(e) => setFilters({ ...filters, search: e.target.value, page: 1 })}\r\n                  className=\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500\"\r\n                />\r\n              </div>\r\n            </div>\r\n            \r\n            <button\r\n              onClick={() => setShowFilters(!showFilters)}\r\n              className=\"flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50 transition-colors\"\r\n            >\r\n              <FunnelIcon className=\"w-4 h-4\" />\r\n              Filters\r\n            </button>\r\n            \r\n            <select\r\n              value={`${filters.sortBy}-${filters.sortOrder}`}\r\n              onChange={(e) => {\r\n                const [sortBy, sortOrder] = e.target.value.split('-');\r\n                setFilters({ ...filters, sortBy, sortOrder: sortOrder as 'asc' | 'desc', page: 1 });\r\n              }}\r\n              className=\"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500\"\r\n            >\r\n              <option value=\"createdAt-desc\">Newest First</option>\r\n              <option value=\"createdAt-asc\">Oldest First</option>\r\n              <option value=\"rating-desc\">Highest Rated</option>\r\n              <option value=\"downloadCount-desc\">Most Downloaded</option>\r\n              <option value=\"title-asc\">A-Z</option>\r\n              <option value=\"title-desc\">Z-A</option>\r\n            </select>\r\n          </div>\r\n\r\n          {/* Expanded Filters */}\r\n          {showFilters && (\r\n            <div className=\"mt-4 pt-4 border-t grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Category</label>\r\n                <select\r\n                  value={filters.category}\r\n                  onChange={(e) => setFilters({ ...filters, category: e.target.value, page: 1 })}\r\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500\"\r\n                >\r\n                  <option value=\"All\">All Categories</option>\r\n                  {categories.map((category) => (\r\n                    <option key={category} value={category}>{category}</option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n              \r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Level</label>\r\n                <select\r\n                  value={filters.level}\r\n                  onChange={(e) => setFilters({ ...filters, level: e.target.value, page: 1 })}\r\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500\"\r\n                >\r\n                  <option value=\"All\">All Levels</option>\r\n                  {levels.map((level) => (\r\n                    <option key={level} value={level}>{level}</option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n              \r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Items per page</label>\r\n                <select\r\n                  value={filters.limit}\r\n                  onChange={(e) => setFilters({ ...filters, limit: Number(e.target.value), page: 1 })}\r\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500\"\r\n                >\r\n                  <option value={12}>12 per page</option>\r\n                  <option value={24}>24 per page</option>\r\n                  <option value={48}>48 per page</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Materials Grid */}\r\n        {loading ? (\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\">\r\n            {[...Array(8)].map((_, i) => (\r\n              <div key={i} className=\"bg-white rounded-lg shadow-sm border p-6 animate-pulse\">\r\n                <div className=\"h-4 bg-gray-200 rounded mb-2\"></div>\r\n                <div className=\"h-3 bg-gray-200 rounded mb-4\"></div>\r\n                <div className=\"h-3 bg-gray-200 rounded w-2/3\"></div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        ) : (\r\n          <>\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\">\r\n              {materials.map((material) => (\r\n                <div key={material._id} className=\"bg-white rounded-lg shadow-sm border p-6 hover:shadow-md transition-shadow\">\r\n                  <div className=\"flex items-start justify-between mb-3\">\r\n                    <div className=\"flex items-center gap-2\">\r\n                      {getFileTypeIcon(material.type)}\r\n                      <span className=\"text-sm text-gray-500\">{material.type.toUpperCase()}</span>\r\n                    </div>\r\n                    {material.isFeatured && (\r\n                      <span className=\"text-xs px-2 py-1 rounded-full bg-red-100 text-red-800\">\r\n                        Featured\r\n                      </span>\r\n                    )}\r\n                  </div>\r\n                  \r\n                  <h3 className=\"font-semibold text-lg text-gray-900 mb-2 line-clamp-2\">{material.title}</h3>\r\n                  <p className=\"text-gray-600 text-sm mb-4 line-clamp-3\">{material.description}</p>\r\n                  \r\n                  <div className=\"flex items-center justify-between mb-4\">\r\n                    <span className={`text-xs px-2 py-1 rounded-full ${getLevelColor(material.level)}`}>\r\n                      {material.level}\r\n                    </span>\r\n                    <span className=\"text-xs text-gray-500\">{formatFileSize(material.fileSize)}</span>\r\n                  </div>\r\n                  \r\n                  <div className=\"flex items-center justify-between mb-4\">\r\n                    <div className=\"flex items-center gap-2\">\r\n                      {renderStars(Number(material.averageRating || 0), (rating) => handleRate(material._id, rating))}\r\n                      <span className=\"text-xs text-gray-500\">({material.ratingCount})</span>\r\n                    </div>\r\n                    <span className=\"text-xs text-gray-500\">{material.downloadCount} downloads</span>\r\n                  </div>\r\n                  \r\n                  <div className=\"text-xs text-gray-500 mb-4\">\r\n                    By {material.uploadedBy.name}\r\n                  </div>\r\n                  \r\n                  <button\r\n                    onClick={() => handleDownload(material)}\r\n                    className=\"w-full bg-green-600 hover:bg-green-700 text-white py-2 px-4 rounded-md transition-colors flex items-center justify-center gap-2\"\r\n                  >\r\n                    <DocumentArrowDownIcon className=\"w-4 h-4\" />\r\n                    Download Free\r\n                  </button>\r\n                </div>\r\n              ))}\r\n            </div>\r\n\r\n            {materials.length === 0 && (\r\n              <div className=\"text-center py-12\">\r\n                <BookOpenIcon className=\"w-16 h-16 text-gray-300 mx-auto mb-4\" />\r\n                <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No materials found</h3>\r\n                <p className=\"text-gray-500\">Try adjusting your search or filters</p>\r\n              </div>\r\n            )}\r\n          </>\r\n        )}\r\n\r\n        {/* Pagination */}\r\n        {pagination.pages > 1 && (\r\n          <div className=\"flex justify-center mt-8\">\r\n            <div className=\"flex gap-2\">\r\n              {[...Array(pagination.pages)].map((_, i) => (\r\n                <button\r\n                  key={i}\r\n                  onClick={() => setFilters({ ...filters, page: i + 1 })}\r\n                  className={`px-3 py-2 rounded-md text-sm ${\r\n                    pagination.page === i + 1\r\n                      ? 'bg-green-600 text-white'\r\n                      : 'bg-white text-gray-700 border hover:bg-gray-50'\r\n                  }`}\r\n                >\r\n                  {i + 1}\r\n                </button>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </DashboardLayout>\r\n  );\r\n}\r\n\r\nexport default FreeMaterialsPage; "],"names":["window","__NEXT_P","push","__webpack_require__","__webpack_exports__","useRouter","materials","setMaterials","useState","featuredMaterials","setFeaturedMaterials","categories","setCategories","levels","setLevels","loading","setLoading","filters","setFilters","category","level","search","sortBy","sortOrder","page","limit","pagination","setPagination","total","pages","showFilters","setShowFilters","useEffect","loadInitialData","loadMaterials","categoriesRes","levelsRes","featuredRes","Promise","all","freeMaterialsAPI","getCategories","getLevels","getFeaturedMaterials","data","error","toast","response","getMaterials","handleDownload","material","blob","downloadMaterial","_id","url","URL","createObjectURL","a","document","createElement","href","download","title","body","appendChild","click","revokeObjectURL","removeChild","success","handleRate","materialId","rating","rateMaterial","getFileTypeIcon","type","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","jsx","DocumentArrowDownIcon","className","EyeIcon","BookOpenIcon","getLevelColor","formatFileSize","bytes","i","Math","floor","log","parseFloat","pow","toFixed","sizes","renderStars","onClick","div","map","button","star","disabled","StarIconSolid","StarIcon","DashboardLayout","allowedRoles","jsxs","h1","p","length","h2","HeartIcon","span","toUpperCase","h3","description","concat","fileSize","Number","averageRating","downloadCount","MagnifyingGlassIcon","input","placeholder","value","onChange","e","target","FunnelIcon","select","split","option","label","Array","_","Fragment","isFeatured","ratingCount","uploadedBy","name"],"sourceRoot":""}