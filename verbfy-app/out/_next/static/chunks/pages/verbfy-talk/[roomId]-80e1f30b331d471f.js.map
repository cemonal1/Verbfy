{"version":3,"file":"static/chunks/pages/verbfy-talk/[roomId]-80e1f30b331d471f.js","mappings":"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","sources":["webpack://_N_E/?9c3e","webpack://_N_E/./pages/verbfy-talk/[roomId].tsx"],"sourcesContent":["\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/verbfy-talk/[roomId]\",\n      function () {\n        return require(\"private-next-pages/verbfy-talk/[roomId].tsx\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/verbfy-talk/[roomId]\"])\n      });\n    }\n  ","import React, { useEffect, useState } from 'react';\r\nimport { useRouter } from 'next/router';\r\nimport DashboardLayout from '@/components/layout/DashboardLayout';\r\nimport { useI18n } from '@/lib/i18n';\r\nimport { verbfyTalkAPI } from '@/lib/api';\r\nimport dynamic from 'next/dynamic';\r\n\r\nconst LiveKitRoom = dynamic<any>(\r\n  () => import('@/components/livekit/LiveKitRoom' as any) as any,\r\n  { ssr: false }\r\n);\r\n\r\nexport default function VerbfyTalkRoomPage() {\r\n  const router = useRouter();\r\n  const { roomId } = router.query as { roomId?: string };\r\n  const { t } = useI18n();\r\n  const [room, setRoom] = useState<any | null>(null);\r\n  const [joinData, setJoinData] = useState<{ token?: string; url?: string } | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [joining, setJoining] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (!roomId) return;\r\n    const load = async () => {\r\n      try {\r\n        const res: any = await verbfyTalkAPI.getRoomDetails(roomId);\r\n        setRoom(res.data || res);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    load();\r\n  }, [roomId]);\r\n\r\n  const handleJoin = async () => {\r\n    if (!roomId) return;\r\n    try {\r\n      setJoining(true);\r\n      const res: any = await verbfyTalkAPI.joinRoom(roomId);\r\n      setJoinData({ token: res.token ?? res.data?.token, url: res.url ?? res.data?.url });\r\n    } finally {\r\n      setJoining(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <DashboardLayout title={room?.name || t('talk.title','VerbfyTalk Rooms')}>\r\n      {loading ? (\r\n        <div className=\"p-8 text-center text-gray-500\">{t('common.loading','Loading...')}</div>\r\n      ) : joinData?.token && joinData?.url ? (\r\n        <div className=\"rounded-lg border overflow-hidden\">\r\n          <LiveKitRoom token={joinData.token} url={joinData.url} />\r\n        </div>\r\n      ) : (\r\n        <div className=\"rounded-lg border p-4 bg-white\">\r\n          <div className=\"text-xl font-semibold text-gray-900\">{room?.name || t('home.room','Room')}</div>\r\n          <div className=\"text-sm text-gray-600 mb-4\">{room?.isPrivate ? t('home.private','Private') : t('home.public','Public')}</div>\r\n          <button onClick={handleJoin} disabled={joining} className=\"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700\">\r\n            {joining ? t('talk.joining','Joining...') : t('talk.join','Join Room')}\r\n          </button>\r\n        </div>\r\n      )}\r\n    </DashboardLayout>\r\n  );\r\n}"],"names":["window","__NEXT_P","push","__webpack_require__","LiveKitRoom","dynamic","Promise","all","e","then","bind","ssr","VerbfyTalkRoomPage","roomId","router","useRouter","query","t","useI18n","room","setRoom","useState","joinData","setJoinData","loading","setLoading","joining","setJoining","useEffect","load","res","verbfyTalkAPI","getRoomDetails","data","handleJoin","joinRoom","token","url","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","jsx","DashboardLayout","title","name","div","className","jsxs","isPrivate","button","onClick","disabled"],"sourceRoot":""}