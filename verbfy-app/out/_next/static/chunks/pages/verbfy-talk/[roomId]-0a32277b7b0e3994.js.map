{"version":3,"file":"static/chunks/pages/verbfy-talk/[roomId]-0a32277b7b0e3994.js","mappings":"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","sources":["webpack://_N_E/?9c3e","webpack://_N_E/./pages/verbfy-talk/[roomId].tsx"],"sourcesContent":["\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/verbfy-talk/[roomId]\",\n      function () {\n        return require(\"private-next-pages/verbfy-talk/[roomId].tsx\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/verbfy-talk/[roomId]\"])\n      });\n    }\n  ","import React, { useEffect, useState, useRef } from 'react';\r\nimport { useRouter } from 'next/router';\r\nimport Head from 'next/head';\r\nimport DashboardLayout from '@/components/layout/DashboardLayout';\r\nimport { useAuthContext } from '@/context/AuthContext';\r\nimport io, { Socket } from 'socket.io-client';\r\n\r\ninterface Peer {\r\n  id: string;\r\n  name: string;\r\n  isMuted: boolean;\r\n  isSpeaking: boolean;\r\n}\r\n\r\nexport default function VerbfyTalkRoom() {\r\n  const router = useRouter();\r\n  const { roomId } = router.query as { roomId?: string };\r\n  const { user } = useAuthContext();\r\n  const [stream, setStream] = useState<MediaStream | null>(null);\r\n  const [peers, setPeers] = useState<{ [key: string]: Peer }>({});\r\n  const [isMicOn, setIsMicOn] = useState(true);\r\n  const [isConnecting, setIsConnecting] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [socket, setSocket] = useState<Socket | null>(null);\r\n  const [audioContext, setAudioContext] = useState<AudioContext | null>(null);\r\n  \r\n  const audioRefs = useRef<{ [key: string]: HTMLAudioElement }>({});\r\n  const peerConnections = useRef<{ [key: string]: RTCPeerConnection }>({});\r\n  const localStreamRef = useRef<MediaStream | null>(null);\r\n\r\n  // WebRTC configuration\r\n  const webrtcConfig = {\r\n    iceServers: [\r\n      { urls: 'stun:stun.l.google.com:19302' },\r\n      { urls: 'stun:stun1.l.google.com:19302' },\r\n      { urls: 'stun:stun2.l.google.com:19302' },\r\n      { urls: 'stun:stun3.l.google.com:19302' }\r\n    ]\r\n  };\r\n\r\n  // Initialize audio context for Safari\r\n  useEffect(() => {\r\n    const initAudioContext = () => {\r\n      if (!audioContext) {\r\n        const ctx = new (window.AudioContext || (window as any).webkitAudioContext)();\r\n        setAudioContext(ctx);\r\n        \r\n        // Resume audio context on user interaction\r\n        const resumeAudio = () => {\r\n          if (ctx.state === 'suspended') {\r\n            ctx.resume();\r\n          }\r\n        };\r\n        \r\n        document.addEventListener('click', resumeAudio, { once: true });\r\n        document.addEventListener('touchstart', resumeAudio, { once: true });\r\n      }\r\n    };\r\n\r\n    initAudioContext();\r\n  }, [audioContext]);\r\n\r\n  // Request microphone access with user gesture\r\n  const requestMic = async () => {\r\n    try {\r\n      console.log(\"🎤 Requesting microphone...\");\r\n      \r\n      // Check if we're in a secure context\r\n      if (!window.isSecureContext) {\r\n        throw new Error('Microphone access requires HTTPS');\r\n      }\r\n\r\n      // Check permissions policy\r\n      if (navigator.permissions) {\r\n        try {\r\n          const permission = await navigator.permissions.query({ name: 'microphone' as PermissionName });\r\n          console.log('🔍 Microphone permission status:', permission.state);\r\n          \r\n          if (permission.state === 'denied') {\r\n            throw new Error('Microphone permission permanently denied');\r\n          }\r\n        } catch (permError) {\r\n          console.log('⚠️ Could not check permission status, proceeding with getUserMedia');\r\n        }\r\n      }\r\n\r\n      const localStream = await navigator.mediaDevices.getUserMedia({\r\n        audio: {\r\n          echoCancellation: true,\r\n          noiseSuppression: true,\r\n          autoGainControl: true,\r\n          sampleRate: 44100,\r\n          channelCount: 1\r\n        }\r\n      });\r\n\r\n      console.log('✅ Microphone access granted');\r\n      setStream(localStream);\r\n      localStreamRef.current = localStream;\r\n      return localStream;\r\n    } catch (err: any) {\r\n      console.error(\"❌ Mic error:\", err);\r\n      \r\n      let errorMessage = 'Microphone access denied';\r\n      if (err.name === 'NotAllowedError') {\r\n        errorMessage = 'Microphone permission denied. Please allow microphone access and try again.';\r\n      } else if (err.name === 'NotFoundError') {\r\n        errorMessage = 'No microphone found. Please connect a microphone and try again.';\r\n      } else if (err.name === 'NotSupportedError') {\r\n        errorMessage = 'Microphone access not supported in this browser.';\r\n      } else if (err.name === 'NotReadableError') {\r\n        errorMessage = 'Microphone is already in use by another application.';\r\n      } else if (err.message.includes('secure context')) {\r\n        errorMessage = 'Microphone access requires HTTPS. Please use https://verbfy.com instead of http.';\r\n      } else if (err.message.includes('permanently denied')) {\r\n        errorMessage = 'Microphone access permanently blocked. Please enable it in browser settings.';\r\n      } else if (err.message.includes('permissions policy')) {\r\n        errorMessage = 'Permissions policy violation. Please try the User Interaction button or check browser settings.';\r\n      }\r\n      \r\n      setError(errorMessage);\r\n      return null;\r\n    }\r\n  };\r\n\r\n  // Create peer connection\r\n  const createPeer = (userId: string, initiator: boolean, localStream: MediaStream) => {\r\n    const peer = new RTCPeerConnection(webrtcConfig);\r\n    \r\n    // Add local stream\r\n    localStream.getTracks().forEach(track => {\r\n      peer.addTrack(track, localStream);\r\n    });\r\n\r\n    // Handle remote stream\r\n    peer.ontrack = (event) => {\r\n      console.log(`🎵 Received audio stream from ${userId}`);\r\n      \r\n      const remoteStream = event.streams[0];\r\n      \r\n      // Create audio element for remote peer with cross-platform compatibility\r\n      const audio = document.createElement('audio');\r\n      audio.srcObject = remoteStream;\r\n      audio.autoplay = true;\r\n      audio.volume = 0.8;\r\n      audio.muted = false;\r\n      \r\n      // Cross-platform audio attributes (iOS Safari compatibility)\r\n      audio.setAttribute('playsinline', 'true');\r\n      audio.setAttribute('webkit-playsinline', 'true');\r\n      audio.setAttribute('controls', 'false');\r\n      audio.setAttribute('preload', 'none');\r\n      \r\n      // Store reference\r\n      audioRefs.current[userId] = audio;\r\n      \r\n      // Add to DOM\r\n      document.body.appendChild(audio);\r\n      \r\n      // Update peer state\r\n      setPeers(prev => ({\r\n        ...prev,\r\n        [userId]: {\r\n          id: userId,\r\n          name: `User ${userId.slice(0, 4)}`,\r\n          isMuted: false,\r\n          isSpeaking: false\r\n        }\r\n      }));\r\n    };\r\n\r\n    // Handle ICE candidates\r\n    peer.onicecandidate = (event) => {\r\n      if (event.candidate) {\r\n        socket?.emit('signal', {\r\n          to: userId,\r\n          data: {\r\n            type: 'ice-candidate',\r\n            candidate: event.candidate\r\n          }\r\n        });\r\n      }\r\n    };\r\n\r\n    // Handle connection state changes\r\n    peer.onconnectionstatechange = () => {\r\n      console.log(`🔗 Peer connection state with ${userId}:`, peer.connectionState);\r\n    };\r\n\r\n    peerConnections.current[userId] = peer;\r\n    return peer;\r\n  };\r\n\r\n  // Handle signaling data\r\n  const handleSignal = async (data: any) => {\r\n    const { from, data: signalData } = data;\r\n    \r\n    if (!localStreamRef.current) return;\r\n\r\n    let peer = peerConnections.current[from];\r\n    \r\n    if (!peer) {\r\n      peer = createPeer(from, false, localStreamRef.current);\r\n    }\r\n\r\n    if (signalData.type === 'offer') {\r\n      await peer.setRemoteDescription(new RTCSessionDescription(signalData));\r\n      const answer = await peer.createAnswer();\r\n      await peer.setLocalDescription(answer);\r\n      \r\n      socket?.emit('signal', {\r\n        to: from,\r\n        data: {\r\n          type: 'answer',\r\n          answer: answer\r\n        }\r\n      });\r\n    } else if (signalData.type === 'answer') {\r\n      await peer.setRemoteDescription(new RTCSessionDescription(signalData.answer));\r\n    } else if (signalData.type === 'ice-candidate') {\r\n      await peer.addIceCandidate(new RTCIceCandidate(signalData.candidate));\r\n    }\r\n  };\r\n\r\n  // Initialize socket connection\r\n  useEffect(() => {\r\n    if (!roomId) return;\r\n\r\n    const initSocket = () => {\r\n      console.log('🔌 Initializing socket connection...');\r\n      \r\n      const newSocket = io(process.env.NEXT_PUBLIC_BACKEND_URL || 'https://api.verbfy.com', {\r\n        path: '/socket.io',\r\n        transports: ['websocket', 'polling'],\r\n        upgrade: true,\r\n        rememberUpgrade: true,\r\n        timeout: 20000,\r\n        forceNew: true\r\n      });\r\n\r\n      newSocket.on('connect', () => {\r\n        console.log('✅ Socket connected successfully');\r\n        setIsConnecting(false);\r\n        setError(null);\r\n      });\r\n\r\n      newSocket.on('connect_error', (err) => {\r\n        console.error('❌ Socket connection error:', err);\r\n        setError('Failed to connect to server. Please try again.');\r\n        setIsConnecting(false);\r\n      });\r\n\r\n      newSocket.on('disconnect', (reason) => {\r\n        console.log('🔌 Socket disconnected:', reason);\r\n        if (reason === 'io server disconnect') {\r\n          // Server disconnected, try to reconnect\r\n          setTimeout(() => {\r\n            newSocket.connect();\r\n          }, 1000);\r\n        }\r\n      });\r\n\r\n      newSocket.on('userJoined', (userId) => {\r\n        console.log(`👤 User joined: ${userId}`);\r\n        \r\n        if (localStreamRef.current) {\r\n          const peer = createPeer(userId, true, localStreamRef.current);\r\n          \r\n          // Create offer\r\n          peer.createOffer().then(offer => {\r\n            peer.setLocalDescription(offer);\r\n            newSocket.emit('signal', {\r\n              to: userId,\r\n              data: {\r\n                type: 'offer',\r\n                offer: offer\r\n              }\r\n            });\r\n          });\r\n        }\r\n      });\r\n\r\n      newSocket.on('userLeft', (userId) => {\r\n        console.log(`👤 User left: ${userId}`);\r\n        \r\n        // Close peer connection\r\n        if (peerConnections.current[userId]) {\r\n          peerConnections.current[userId].close();\r\n          delete peerConnections.current[userId];\r\n        }\r\n        \r\n        // Remove audio element\r\n        if (audioRefs.current[userId]) {\r\n          document.body.removeChild(audioRefs.current[userId]);\r\n          delete audioRefs.current[userId];\r\n        }\r\n        \r\n        // Update peers state\r\n        setPeers(prev => {\r\n          const newPeers = { ...prev };\r\n          delete newPeers[userId];\r\n          return newPeers;\r\n        });\r\n      });\r\n\r\n      newSocket.on('signal', handleSignal);\r\n\r\n      newSocket.on('roomFull', () => {\r\n        setError('Room is full (max 5 users)');\r\n      });\r\n\r\n      setSocket(newSocket);\r\n\r\n      return newSocket;\r\n    };\r\n\r\n    const newSocket = initSocket();\r\n\r\n    return () => {\r\n      if (newSocket) {\r\n        newSocket.disconnect();\r\n      }\r\n      \r\n      // Cleanup peer connections\r\n      Object.values(peerConnections.current).forEach(peer => peer.close());\r\n      peerConnections.current = {};\r\n      \r\n      // Cleanup audio elements\r\n      Object.values(audioRefs.current).forEach(audio => {\r\n        if (audio.parentNode) {\r\n          audio.parentNode.removeChild(audio);\r\n        }\r\n      });\r\n      audioRefs.current = {};\r\n      \r\n      // Cleanup local stream\r\n      if (localStreamRef.current) {\r\n        localStreamRef.current.getTracks().forEach(track => track.stop());\r\n        localStreamRef.current = null;\r\n      }\r\n    };\r\n  }, [roomId]);\r\n\r\n  // Join room function\r\n  const joinRoom = async () => {\r\n    if (!socket || !roomId) return;\r\n\r\n    try {\r\n      const localStream = await requestMic();\r\n      if (localStream) {\r\n        socket.emit('joinRoom', roomId);\r\n        setError(null);\r\n      }\r\n    } catch (err) {\r\n      console.error('Failed to join room:', err);\r\n      setError('Failed to join room. Please try again.');\r\n    }\r\n  };\r\n\r\n  // Leave room function\r\n  const leaveRoom = () => {\r\n    if (socket) {\r\n      socket.emit('leaveRoom', roomId);\r\n    }\r\n    \r\n    // Cleanup\r\n    if (localStreamRef.current) {\r\n      localStreamRef.current.getTracks().forEach(track => track.stop());\r\n      localStreamRef.current = null;\r\n    }\r\n    \r\n    setStream(null);\r\n    setPeers({});\r\n    router.push('/verbfy-talk');\r\n  };\r\n\r\n  // Toggle microphone\r\n  const toggleMic = () => {\r\n    if (localStreamRef.current) {\r\n      const audioTrack = localStreamRef.current.getAudioTracks()[0];\r\n      if (audioTrack) {\r\n        audioTrack.enabled = !audioTrack.enabled;\r\n        setIsMicOn(audioTrack.enabled);\r\n      }\r\n    }\r\n  };\r\n\r\n  if (!roomId) {\r\n    return (\r\n      <DashboardLayout title=\"VerbfyTalk\">\r\n        <div className=\"flex items-center justify-center min-h-screen\">\r\n          <div className=\"text-center\">\r\n            <h1 className=\"text-2xl font-bold text-gray-900 mb-4\">Room Not Found</h1>\r\n            <p className=\"text-gray-600 mb-6\">The room you're looking for doesn't exist.</p>\r\n            <button\r\n              onClick={() => router.push('/verbfy-talk')}\r\n              className=\"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-medium transition-colors\"\r\n            >\r\n              Back to Rooms\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </DashboardLayout>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Head>\r\n        <title>VerbfyTalk Room - {roomId}</title>\r\n        <meta name=\"description\" content=\"Join the conversation in VerbfyTalk\" />\r\n      </Head>\r\n      \r\n      <DashboardLayout title={`VerbfyTalk Room: ${roomId}`}>\r\n        <div className=\"max-w-4xl mx-auto p-6\">\r\n          {/* Header */}\r\n          <div className=\"bg-white rounded-lg shadow-sm border p-6 mb-6\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <h1 className=\"text-2xl font-bold text-gray-900 flex items-center gap-3\">\r\n                  🎤 VerbfyTalk Room\r\n                </h1>\r\n                <p className=\"text-gray-600 mt-1\">Room ID: {roomId}</p>\r\n                <p className=\"text-sm text-gray-500 mt-2\">\r\n                  Maximum 5 participants • Audio only • P2P connection\r\n                </p>\r\n              </div>\r\n              \r\n              <div className=\"flex items-center gap-3\">\r\n                {!stream ? (\r\n                  <button\r\n                    onClick={joinRoom}\r\n                    disabled={isConnecting}\r\n                    className=\"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-medium transition-colors disabled:opacity-50\"\r\n                  >\r\n                    {isConnecting ? 'Connecting...' : '🎧 Join Room'}\r\n                  </button>\r\n                ) : (\r\n                  <button\r\n                    onClick={leaveRoom}\r\n                    className=\"bg-red-600 hover:bg-red-700 text-white px-6 py-3 rounded-lg font-medium transition-colors\"\r\n                  >\r\n                    Leave Room\r\n                  </button>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Error Display */}\r\n          {error && (\r\n            <div className=\"bg-red-50 border border-red-200 rounded-lg p-4 mb-6\">\r\n              <div className=\"flex items-center gap-2\">\r\n                <span className=\"text-red-600\">❌</span>\r\n                <p className=\"text-red-800\">{error}</p>\r\n              </div>\r\n              <button\r\n                onClick={() => setError(null)}\r\n                className=\"mt-2 text-sm text-red-600 hover:text-red-800 underline\"\r\n              >\r\n                Dismiss\r\n              </button>\r\n            </div>\r\n          )}\r\n\r\n          {/* Connection Status */}\r\n          <div className=\"bg-white rounded-lg shadow-sm border p-6 mb-6\">\r\n            <h2 className=\"text-lg font-semibold text-gray-900 mb-4\">Connection Status</h2>\r\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n              <div className=\"flex items-center gap-3\">\r\n                <div className={`w-3 h-3 rounded-full ${socket?.connected ? 'bg-green-500' : 'bg-red-500'}`}></div>\r\n                <span className=\"text-sm text-gray-700\">\r\n                  WebSocket: {socket?.connected ? 'Connected' : 'Disconnected'}\r\n                </span>\r\n              </div>\r\n              <div className=\"flex items-center gap-3\">\r\n                <div className={`w-3 h-3 rounded-full ${stream ? 'bg-green-500' : 'bg-gray-400'}`}></div>\r\n                <span className=\"text-sm text-gray-700\">\r\n                  Microphone: {stream ? 'Active' : 'Inactive'}\r\n                </span>\r\n              </div>\r\n              <div className=\"flex items-center gap-3\">\r\n                <div className={`w-3 h-3 rounded-full ${audioContext ? 'bg-green-500' : 'bg-gray-400'}`}></div>\r\n                <span className=\"text-sm text-gray-700\">\r\n                  Audio Context: {audioContext ? 'Ready' : 'Not Ready'}\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Main Content */}\r\n          <div className=\"flex-1 flex flex-col items-center justify-center p-8\">\r\n            {/* Join Room Button (if not connected) */}\r\n            {!stream && !isConnecting && (\r\n              <div className=\"text-center mb-8\">\r\n                <div className=\"bg-white rounded-lg shadow-md p-8 max-w-md mx-auto\">\r\n                  <div className=\"w-20 h-20 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4\">\r\n                    <span className=\"text-3xl\">🎤</span>\r\n                  </div>\r\n                  <h3 className=\"text-xl font-semibold text-gray-900 mb-4\">\r\n                    Join VerbfyTalk Room\r\n                  </h3>\r\n                  <p className=\"text-gray-600 mb-6\">\r\n                    Click the button below to join the audio conversation. You'll need to allow microphone access.\r\n                  </p>\r\n                  <button\r\n                    onClick={joinRoom}\r\n                    className=\"bg-blue-600 hover:bg-blue-700 text-white px-8 py-3 rounded-lg font-medium transition-colors\"\r\n                  >\r\n                    🎧 Join Room\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Participants Grid */}\r\n            {stream && (\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 max-w-4xl w-full\">\r\n                {/* Local User */}\r\n                <div className=\"bg-white rounded-lg shadow-md p-6 text-center\">\r\n                  <div className=\"w-20 h-20 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4\">\r\n                    <svg className=\"w-10 h-10 text-blue-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\" />\r\n                    </svg>\r\n                  </div>\r\n                  <h3 className=\"font-semibold text-gray-900 mb-2\">\r\n                    {user?.name || 'You'} {isMicOn ? '🎤' : '🔇'}\r\n                  </h3>\r\n                  <p className=\"text-sm text-gray-600\">Local</p>\r\n                  {!isMicOn && (\r\n                    <div className=\"mt-2 text-xs text-red-500 bg-red-50 px-2 py-1 rounded\">\r\n                      Microphone Off\r\n                    </div>\r\n                  )}\r\n                </div>\r\n\r\n                {/* Remote Users */}\r\n                {Object.values(peers).map((peer) => (\r\n                  <div key={peer.id} className=\"bg-white rounded-lg shadow-md p-6 text-center\">\r\n                    <div className=\"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4\">\r\n                      <svg className=\"w-10 h-10 text-green-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\" />\r\n                      </svg>\r\n                    </div>\r\n                    <h3 className=\"font-semibold text-gray-900 mb-2\">\r\n                      {peer.name} {peer.isMuted ? '🔇' : '🎤'}\r\n                    </h3>\r\n                    <p className=\"text-sm text-gray-600\">Remote</p>\r\n                    {peer.isMuted && (\r\n                      <div className=\"mt-2 text-xs text-red-500 bg-red-50 px-2 py-1 rounded\">\r\n                        Muted\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            )}\r\n\r\n            {/* Room Info */}\r\n            <div className=\"mt-8 text-center\">\r\n              <div className=\"bg-white rounded-lg shadow-sm border p-6 max-w-2xl mx-auto\">\r\n                <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Room Information</h3>\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-600\">\r\n                  <div>\r\n                    <span className=\"font-medium\">Room ID:</span> {roomId}\r\n                  </div>\r\n                  <div>\r\n                    <span className=\"font-medium\">Participants:</span> {Object.keys(peers).length + (stream ? 1 : 0)}/5\r\n                  </div>\r\n                  <div>\r\n                    <span className=\"font-medium\">Connection:</span> P2P WebRTC\r\n                  </div>\r\n                  <div>\r\n                    <span className=\"font-medium\">Audio Quality:</span> High\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Audio Controls */}\r\n          {stream && (\r\n            <div className=\"bg-white rounded-lg shadow-sm border p-6 mt-6\">\r\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Audio Controls</h3>\r\n              <div className=\"flex items-center justify-center gap-4\">\r\n                <button\r\n                  onClick={toggleMic}\r\n                  className={`flex items-center gap-2 px-6 py-3 rounded-lg font-medium transition-colors ${\r\n                    isMicOn \r\n                      ? 'bg-green-100 text-green-700 hover:bg-green-200' \r\n                      : 'bg-red-100 text-red-700 hover:bg-red-200'\r\n                  }`}\r\n                >\r\n                  {isMicOn ? '🎤 Mute' : '🔇 Unmute'}\r\n                </button>\r\n                \r\n                <button\r\n                  onClick={leaveRoom}\r\n                  className=\"flex items-center gap-2 px-6 py-3 rounded-lg font-medium transition-colors bg-red-100 text-red-700 hover:bg-red-200\"\r\n                >\r\n                  🚪 Leave Room\r\n                </button>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </DashboardLayout>\r\n    </>\r\n  );\r\n}\r\n"],"names":["window","__NEXT_P","push","__webpack_require__","VerbfyTalkRoom","router","useRouter","roomId","query","user","useAuthContext","stream","setStream","useState","peers","setPeers","isMicOn","setIsMicOn","isConnecting","setIsConnecting","error","setError","socket","setSocket","audioContext","setAudioContext","audioRefs","useRef","peerConnections","localStreamRef","webrtcConfig","iceServers","urls","useEffect","initAudioContext","ctx","AudioContext","webkitAudioContext","resumeAudio","state","resume","document","addEventListener","once","requestMic","console","log","isSecureContext","navigator","permissions","permission","name","permError","localStream","mediaDevices","getUserMedia","audio","echoCancellation","noiseSuppression","autoGainControl","sampleRate","channelCount","current","err","errorMessage","message","includes","createPeer","userId","initiator","peer","RTCPeerConnection","getTracks","forEach","track","addTrack","ontrack","concat","remoteStream","event","streams","createElement","srcObject","autoplay","volume","muted","setAttribute","body","appendChild","prev","id","slice","isMuted","isSpeaking","onicecandidate","candidate","emit","to","data","type","onconnectionstatechange","connectionState","handleSignal","from","signalData","setRemoteDescription","RTCSessionDescription","answer","createAnswer","setLocalDescription","addIceCandidate","RTCIceCandidate","newSocket","initSocket","io","process","env","NEXT_PUBLIC_BACKEND_URL","path","transports","upgrade","rememberUpgrade","timeout","forceNew","on","reason","setTimeout","connect","createOffer","then","offer","close","removeChild","newPeers","disconnect","Object","values","parentNode","stop","joinRoom","leaveRoom","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","jsxs","Fragment","Head","title","jsx","meta","content","DashboardLayout","div","className","h1","p","button","onClick","disabled","span","h2","connected","h3","svg","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","map","keys","length","audioTrack","getAudioTracks","enabled"],"sourceRoot":""}