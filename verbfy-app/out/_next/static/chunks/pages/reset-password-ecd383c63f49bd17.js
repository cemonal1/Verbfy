(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8006],{21173:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/reset-password",function(){return t(45750)}])},45750:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return l}});var n=t(85893),r=t(67294),a=t(11163),i=t(9008),o=t.n(i),d=t(32798);function l(){let{token:e}=(0,a.useRouter)().query,[s,t]=(0,r.useState)(""),[i,l]=(0,r.useState)(""),[u,c]=(0,r.useState)("idle"),[m,g]=(0,r.useState)(""),f="string"==typeof e?e:"test-token",h=s.length>=8&&s===i&&"string"==typeof f,w=async e=>{var t,n,r;if(e.preventDefault(),h){c("loading"),g("");try{let e=await d.ZP.post("/api/auth/password/reset",{token:f,password:s});c("done"),g((null===(t=e.data)||void 0===t?void 0:t.message)||"Password has been reset")}catch(e){c("done"),g((null==e?void 0:null===(r=e.response)||void 0===r?void 0:null===(n=r.data)||void 0===n?void 0:n.message)||"Reset failed. Please try again.")}}};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o(),{children:(0,n.jsx)("title",{children:"Reset Password - Verbfy"})}),(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-6",children:(0,n.jsxs)("form",{onSubmit:w,className:"max-w-md w-full bg-white rounded-xl shadow p-6",children:[(0,n.jsx)("h1",{className:"text-2xl font-semibold mb-4",children:"Reset Password"}),(0,n.jsx)("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-700",children:"New Password (min 8 chars)"}),(0,n.jsx)("input",{id:"newPassword",type:"password",required:!0,minLength:8,value:s,onChange:e=>t(e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"}),(0,n.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mt-3",children:"Confirm Password"}),(0,n.jsx)("input",{id:"confirmPassword",type:"password",required:!0,minLength:8,value:i,onChange:e=>l(e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"}),(0,n.jsx)("button",{type:"submit",disabled:"loading"===u||!h,className:"mt-4 inline-flex items-center justify-center rounded-md bg-indigo-600 px-4 py-2 text-white hover:bg-indigo-700 disabled:opacity-50",children:"loading"===u?"Resettingâ€¦":"Reset Password"}),m&&(0,n.jsx)("p",{className:"mt-3 text-sm text-gray-700",children:m})]})})]})}}},function(e){e.O(0,[1216,2888,179],function(){return e(e.s=21173)}),_N_E=e.O()}]);