{"version":3,"file":"static/chunks/pages/teacher/materials-342e05a32801f2a4.js","mappings":"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","sources":["webpack://_N_E/?a24c","webpack://_N_E/./pages/teacher/materials.tsx"],"sourcesContent":["\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/teacher/materials\",\n      function () {\n        return require(\"private-next-pages/teacher/materials.tsx\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/teacher/materials\"])\n      });\n    }\n  ","import React, { useEffect, useState } from 'react';\r\nimport DashboardLayout from '@/components/layout/DashboardLayout';\r\nimport { useI18n } from '@/lib/i18n';\r\nimport { freeMaterialsAPI } from '@/lib/api';\r\n\r\nexport default function TeacherMaterialsPage() {\r\n  const { t } = useI18n();\r\n  const [items, setItems] = useState<any[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [editing, setEditing] = useState<null | { id: string; title: string; description: string; level: string; category: string }>(null);\r\n\r\n  const load = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const res: any = await freeMaterialsAPI.getMaterials({ limit: 30 });\r\n      setItems(res.data ?? res ?? []);\r\n    } finally { setLoading(false); }\r\n  };\r\n\r\n  useEffect(() => { load(); }, []);\r\n\r\n  return (\r\n    <DashboardLayout allowedRoles={['teacher']} title={t('tmaterials.title','My Materials')}>\r\n      <div className=\"rounded-lg border bg-white p-4 mb-4\">\r\n        <div className=\"text-lg font-semibold mb-3\">{t('tmaterials.upload','Upload new material')}</div>\r\n        <UploadForm onUploaded={load} />\r\n      </div>\r\n      {loading ? (\r\n        <div className=\"p-8 text-center text-gray-500\">{t('common.loading','Loading...')}</div>\r\n      ) : (\r\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n          {items.map((m: any) => (\r\n            <div key={m._id || m.id} className=\"p-4 rounded-lg border bg-white\">\r\n              <div className=\"flex items-start justify-between gap-2\">\r\n                <div>\r\n                  <div className=\"font-medium text-gray-900\">{m.title}</div>\r\n                  <div className=\"text-sm text-gray-600 line-clamp-2\">{m.description}</div>\r\n                </div>\r\n                <div className=\"flex items-center gap-2\">\r\n                  <button onClick={()=>setEditing({ id: m._id || m.id, title: m.title || '', description: m.description || '', level: m.level || 'Beginner', category: m.category || 'General' })} className=\"px-3 py-1 rounded-md text-xs bg-blue-600 text-white hover:bg-blue-700\">{t('common.edit','Edit')}</button>\r\n                  <button onClick={async()=>{ try{ const blob = await freeMaterialsAPI.downloadMaterial(m._id || m.id); const url = window.URL.createObjectURL(blob); window.open(url, '_blank'); } catch{} }} className=\"px-3 py-1 rounded-md text-xs bg-gray-100 text-gray-800 hover:bg-gray-200\">{t('common.preview','Preview')}</button>\r\n                  <button onClick={async()=>{ try{ await freeMaterialsAPI.deleteMaterial(m._id || m.id); setItems(prev=>prev.filter((x:any)=> (x._id||x.id)!==(m._id||m.id))); } catch{} }} className=\"px-3 py-1 rounded-md text-xs bg-red-600 text-white hover:bg-red-700\">{t('common.delete','Delete')}</button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n\r\n      {editing && (\r\n        <EditModal\r\n          initial={editing}\r\n          onClose={()=>setEditing(null)}\r\n          onSave={async (data)=>{\r\n            try { await freeMaterialsAPI.updateMaterial(editing.id, data as any); await load(); setEditing(null); } catch {}\r\n          }}\r\n        />\r\n      )}\r\n    </DashboardLayout>\r\n  );\r\n}\r\n\r\nfunction UploadForm({ onUploaded }: { onUploaded: () => void }) {\r\n  const { t } = useI18n();\r\n  const [title, setTitle] = useState('');\r\n  const [description, setDescription] = useState('');\r\n  const [level, setLevel] = useState('Beginner');\r\n  const [category, setCategory] = useState('General');\r\n  const [file, setFile] = useState<File | null>(null);\r\n  const [submitting, setSubmitting] = useState(false);\r\n\r\n  const submit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (!file) return;\r\n    try {\r\n      setSubmitting(true);\r\n      await freeMaterialsAPI.uploadMaterial({ title, description, level, category, file } as any);\r\n      setTitle(''); setDescription(''); setFile(null);\r\n      onUploaded();\r\n    } finally {\r\n      setSubmitting(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={submit} className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n      <div>\r\n        <label className=\"block text-sm text-gray-700 mb-1\">{t('tmaterials.titleLabel','Title')}</label>\r\n        <input value={title} onChange={(e)=>setTitle(e.target.value)} className=\"w-full border rounded-md px-3 py-2\" required />\r\n      </div>\r\n      <div>\r\n        <label className=\"block text-sm text-gray-700 mb-1\">{t('tmaterials.level','Level')}</label>\r\n        <select value={level} onChange={(e)=>setLevel(e.target.value)} className=\"w-full border rounded-md px-3 py-2\">\r\n          <option>Beginner</option>\r\n          <option>Intermediate</option>\r\n          <option>Advanced</option>\r\n        </select>\r\n      </div>\r\n      <div className=\"md:col-span-2\">\r\n        <label className=\"block text-sm text-gray-700 mb-1\">{t('tmaterials.category','Category')}</label>\r\n        <input value={category} onChange={(e)=>setCategory(e.target.value)} className=\"w-full border rounded-md px-3 py-2\" />\r\n      </div>\r\n      <div className=\"md:col-span-2\">\r\n        <label className=\"block text-sm text-gray-700 mb-1\">{t('tmaterials.description','Description')}</label>\r\n        <textarea value={description} onChange={(e)=>setDescription(e.target.value)} className=\"w-full border rounded-md px-3 py-2\" rows={3} />\r\n      </div>\r\n      <div className=\"md:col-span-2\">\r\n        <label className=\"block text-sm text-gray-700 mb-1\">{t('tmaterials.file','File')}</label>\r\n        <input type=\"file\" onChange={(e)=>setFile(e.target.files?.[0] || null)} className=\"block\" required />\r\n      </div>\r\n      <div className=\"md:col-span-2\">\r\n        <button disabled={submitting} className=\"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700\">\r\n          {submitting ? t('common.submitting','Submitting...') : t('tmaterials.uploadBtn','Upload')}\r\n        </button>\r\n      </div>\r\n    </form>\r\n  );\r\n}\r\n\r\nfunction EditModal({ initial, onClose, onSave }: { initial: { id: string; title: string; description: string; level: string; category: string }; onClose: ()=>void; onSave: (data: { title: string; description: string; level: string; category: string })=>Promise<void> }) {\r\n  const { t } = useI18n();\r\n  const [title, setTitle] = useState(initial.title);\r\n  const [description, setDescription] = useState(initial.description);\r\n  const [level, setLevel] = useState(initial.level || 'Beginner');\r\n  const [category, setCategory] = useState(initial.category || 'General');\r\n  const [saving, setSaving] = useState(false);\r\n\r\n  const submit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    try { setSaving(true); await onSave({ title, description, level, category }); } finally { setSaving(false); }\r\n  };\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n      <div className=\"bg-white rounded-lg shadow-xl w-full max-w-lg\">\r\n        <div className=\"px-6 py-4 border-b\">\r\n          <div className=\"text-lg font-semibold\">{t('tmaterials.edit','Edit Material')}</div>\r\n        </div>\r\n        <form onSubmit={submit} className=\"p-6 space-y-4\">\r\n          <div>\r\n            <label className=\"block text-sm text-gray-700 mb-1\">{t('tmaterials.titleLabel','Title')}</label>\r\n            <input value={title} onChange={(e)=>setTitle(e.target.value)} className=\"w-full border rounded-md px-3 py-2\" required />\r\n          </div>\r\n          <div>\r\n            <label className=\"block text-sm text-gray-700 mb-1\">{t('tmaterials.level','Level')}</label>\r\n            <select value={level} onChange={(e)=>setLevel(e.target.value)} className=\"w-full border rounded-md px-3 py-2\">\r\n              <option>Beginner</option>\r\n              <option>Intermediate</option>\r\n              <option>Advanced</option>\r\n            </select>\r\n          </div>\r\n          <div>\r\n            <label className=\"block text-sm text-gray-700 mb-1\">{t('tmaterials.category','Category')}</label>\r\n            <input value={category} onChange={(e)=>setCategory(e.target.value)} className=\"w-full border rounded-md px-3 py-2\" />\r\n          </div>\r\n          <div>\r\n            <label className=\"block text-sm text-gray-700 mb-1\">{t('tmaterials.description','Description')}</label>\r\n            <textarea value={description} onChange={(e)=>setDescription(e.target.value)} className=\"w-full border rounded-md px-3 py-2\" rows={3} />\r\n          </div>\r\n          <div className=\"flex items-center justify-end gap-2 pt-2\">\r\n            <button type=\"button\" onClick={onClose} className=\"px-4 py-2 rounded-md bg-gray-200 text-gray-800 hover:bg-gray-300\">{t('common.cancel','Cancel')}</button>\r\n            <button disabled={saving} className=\"px-4 py-2 rounded-md bg-blue-600 text-white hover:bg-blue-700\">{saving ? t('common.submitting','Submitting...') : t('common.save','Save')}</button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":["window","__NEXT_P","push","__webpack_require__","TeacherMaterialsPage","t","useI18n","items","setItems","useState","loading","setLoading","editing","setEditing","load","res","freeMaterialsAPI","getMaterials","limit","data","useEffect","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","jsxs","DashboardLayout","allowedRoles","title","div","className","jsx","UploadForm","onUploaded","map","m","description","button","onClick","id","_id","level","category","blob","downloadMaterial","url","URL","createObjectURL","open","e","deleteMaterial","prev","filter","x","EditModal","initial","onClose","onSave","updateMaterial","param","setTitle","setDescription","setLevel","setCategory","file","setFile","submitting","setSubmitting","submit","preventDefault","uploadMaterial","form","onSubmit","label","input","value","onChange","target","required","select","option","textarea","rows","type","files","disabled","saving","setSaving"],"sourceRoot":""}