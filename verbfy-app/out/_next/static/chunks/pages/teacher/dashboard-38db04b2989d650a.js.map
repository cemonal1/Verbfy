{"version":3,"file":"static/chunks/pages/teacher/dashboard-38db04b2989d650a.js","mappings":"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","sources":["webpack://_N_E/?a22a","webpack://_N_E/./pages/teacher/dashboard.tsx"],"sourcesContent":["\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/teacher/dashboard\",\n      function () {\n        return require(\"private-next-pages/teacher/dashboard.tsx\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/teacher/dashboard\"])\n      });\n    }\n  ","import React, { useEffect, useState } from 'react';\nimport DashboardLayout from '@/components/layout/DashboardLayout';\nimport { useAuthContext } from '@/context/AuthContext';\nimport api from '@/lib/api';\nimport Link from 'next/link';\n\ninterface Booking {\n  id: string;\n  student: {\n    name: string;\n    email: string;\n  };\n  date: string;\n  startTime: string;\n  endTime: string;\n  status: string;\n  createdAt: string;\n}\n\ninterface UpcomingReservation {\n  id: string;\n  student: {\n    name: string;\n    email: string;\n  };\n  date: string;\n  startTime: string;\n  endTime: string;\n  status: string;\n}\n\ninterface Notification {\n  id: string;\n  type: string;\n  title: string;\n  message: string;\n  isRead: boolean;\n  createdAt: string;\n  sender: {\n    name: string;\n    email: string;\n  };\n  relatedReservation?: {\n    actualDate: string;\n    startTime: string;\n    endTime: string;\n    lessonType: string;\n    lessonLevel: string;\n  };\n}\n\nfunction TeacherDashboardPage() {\n  const { user } = useAuthContext();\n  const [bookings, setBookings] = useState<Booking[]>([]);\n  const [upcomingReservations, setUpcomingReservations] = useState<UpcomingReservation[]>([]);\n  const [notifications, setNotifications] = useState<Notification[]>([]);\n  const [unreadCount, setUnreadCount] = useState(0);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  // Calculate duration between two time strings\n  const calculateDuration = (startTime: string, endTime: string) => {\n    const [startHour, startMin] = startTime.split(':').map(Number);\n    const [endHour, endMin] = endTime.split(':').map(Number);\n    const startMinutes = startHour * 60 + startMin;\n    const endMinutes = endHour * 60 + endMin;\n    return endMinutes - startMinutes;\n  };\n\n  // Get time ago helper function\n  const getTimeAgo = (date: Date) => {\n    const now = new Date();\n    const diffInSeconds = Math.floor((now.getTime() - date.getTime()) / 1000);\n    \n    if (diffInSeconds < 60) return 'Just now';\n    if (diffInSeconds < 3600) return `${Math.floor(diffInSeconds / 60)} minutes ago`;\n    if (diffInSeconds < 86400) return `${Math.floor(diffInSeconds / 3600)} hours ago`;\n    return `${Math.floor(diffInSeconds / 86400)} days ago`;\n  };\n\n  // Fetch teacher data\n  useEffect(() => {\n    const fetchTeacherData = async () => {\n      try {\n        setLoading(true);\n        \n        // Fetch bookings, upcoming reservations, and notifications in parallel\n        const [bookingsResponse, upcomingResponse, notificationsResponse, unreadCountResponse] = await Promise.all([\n          api.get('/api/reservations/teacher'),\n          api.get('/api/reservations/upcoming'),\n          api.get('/api/notifications?limit=5'),\n          api.get('/api/notifications/unread-count')\n        ]);\n\n        setBookings(bookingsResponse.data.bookings || []);\n        setUpcomingReservations(upcomingResponse.data.upcomingReservations || []);\n        setNotifications(notificationsResponse.data.notifications || []);\n        setUnreadCount(unreadCountResponse.data.unreadCount || 0);\n        \n      } catch (err: any) {\n        console.error('Error fetching teacher data:', err);\n        setError(err.response?.data?.message || 'Failed to load dashboard data');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    if (user) {\n      fetchTeacherData();\n    }\n  }, [user]);\n\n  // Calculate stats from real data\n  const completedLessons = bookings.filter(b => b.status === 'completed').length;\n  const upcomingLessons = upcomingReservations.length;\n  const totalBookings = bookings.length;\n  const uniqueStudents = new Set(bookings.map(b => b.student.email)).size;\n\n  const stats = [\n    {\n      title: 'Total Students',\n      value: `${uniqueStudents}+`,\n      icon: 'fas fa-user-graduate',\n      color: 'blue',\n      trend: 'up',\n      trendValue: '+8%'\n    },\n    {\n      title: 'Completed Lessons',\n      value: `${completedLessons}+`,\n      icon: 'fas fa-graduation-cap',\n      color: 'green',\n      trend: 'up',\n      trendValue: '+15%'\n    },\n    {\n      title: 'Upcoming Lessons',\n      value: `${upcomingLessons}`,\n      icon: 'fas fa-clock',\n      color: 'purple',\n      trend: 'up',\n      trendValue: '+5'\n    },\n    {\n      title: 'Total Bookings',\n      value: `${totalBookings}`,\n      icon: 'fas fa-calendar-check',\n      color: 'orange',\n      trend: 'up',\n      trendValue: '+12%'\n    }\n  ];\n\n  // Format upcoming lessons for display\n  const formattedUpcomingLessons = upcomingReservations.map(reservation => {\n    // Ensure date is properly formatted\n    const lessonDate = new Date(reservation.date);\n    const formattedDate = isNaN(lessonDate.getTime()) \n      ? 'Date not available' \n      : lessonDate.toLocaleDateString('en-US', { \n          weekday: 'long', \n          year: 'numeric', \n          month: 'long', \n          day: 'numeric' \n        });\n\n    return {\n      reservationId: reservation.id,\n      student: reservation.student.name,\n      topic: 'General Lesson',\n      date: formattedDate,\n      time: `${reservation.startTime} - ${reservation.endTime}`,\n      duration: `${calculateDuration(reservation.startTime, reservation.endTime)} min`,\n      status: reservation.status\n    };\n  });\n\n  // Get recent students from bookings\n  const recentStudents = bookings\n    .filter(booking => booking.status === 'completed')\n    .reduce((acc, booking) => {\n      const existing = acc.find(s => s.email === booking.student.email);\n      if (!existing) {\n        acc.push({\n          name: booking.student.name,\n          email: booking.student.email,\n          level: 'Intermediate', // This would come from student profile in real app\n          lessons: bookings.filter(b => b.student.email === booking.student.email).length,\n          lastSeen: getTimeAgo(new Date(booking.date))\n        });\n      }\n      return acc;\n    }, [] as Array<{\n      name: string;\n      email: string;\n      level: string;\n      lessons: number;\n      lastSeen: string;\n    }>)\n    .slice(0, 4);\n\n  const teachingStats = [\n    { label: 'Teaching Hours', value: `${Math.round(completedLessons * 0.75)}`, unit: 'hrs', color: 'blue' },\n    { label: 'Student Satisfaction', value: '96', unit: '%', color: 'green' },\n    { label: 'Lesson Completion', value: `${Math.round((completedLessons / totalBookings) * 100)}`, unit: '%', color: 'purple' },\n    { label: 'Response Rate', value: '98', unit: '%', color: 'orange' }\n  ];\n\n  if (loading) {\n    return (\n      <DashboardLayout allowedRoles={['teacher']}>\n        <div className=\"flex items-center justify-center h-64\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500\"></div>\n        </div>\n      </DashboardLayout>\n    );\n  }\n\n  // Pending approval notice\n  if ((user as any)?.approvalStatus === 'pending' || (user as any)?.isApproved === false) {\n    return (\n      <DashboardLayout allowedRoles={['teacher']}>\n        <div className=\"max-w-2xl mx-auto bg-yellow-50 border border-yellow-200 rounded-xl p-6 mt-6\">\n          <h2 className=\"text-lg font-semibold text-yellow-800\">Your teacher account is awaiting approval</h2>\n          <p className=\"text-yellow-700 mt-2\">Our team will review your application shortly. You will receive a notification once approved. You can continue exploring as a student in the meantime.</p>\n        </div>\n      </DashboardLayout>\n    );\n  }\n\n  if (error) {\n    return (\n      <DashboardLayout allowedRoles={['teacher']}>\n        <div className=\"bg-red-50 border border-red-200 rounded-lg p-4\">\n          <p className=\"text-red-800\">{error}</p>\n        </div>\n      </DashboardLayout>\n    );\n  }\n\n  return (\n    <DashboardLayout allowedRoles={['teacher']}>\n      <div className=\"space-y-4 sm:space-y-6\">\n        {/* Welcome Section */}\n        <div className=\"bg-white rounded-xl shadow-sm p-4 sm:p-6 hover:shadow-md transition-all duration-300\">\n          <div className=\"flex flex-col lg:flex-row lg:items-center lg:justify-between\">\n            <div className=\"flex-1\">\n              <h1 className=\"text-xl sm:text-2xl font-bold text-gray-900 mb-2\">\n                Hi, {user?.name || 'Teacher'} 👋\n              </h1>\n              <p className=\"text-base sm:text-lg font-semibold text-gray-700 mb-2\">\n                Ready to inspire your students today?\n              </p>\n              <p className=\"text-gray-600 mb-4 text-sm sm:text-base\">\n                Manage your schedule, track student progress, and grow your teaching business.\n              </p>\n              <div className=\"flex flex-col sm:flex-row gap-3\">\n                <Link href=\"/teacher/availability\" className=\"bg-gradient-to-r from-blue-500 to-purple-600 text-white px-4 sm:px-6 py-2.5 sm:py-3 rounded-lg font-semibold hover:shadow-lg transition-all duration-200 transform hover:scale-105 text-sm sm:text-base text-center\">\n                  Manage Availability\n                </Link>\n                <Link href=\"/teacher/reservations\" className=\"bg-white border-2 border-blue-500 text-blue-600 px-4 sm:px-6 py-2.5 sm:py-3 rounded-lg font-semibold hover:bg-blue-50 transition-all duration-200 transform hover:scale-105 text-center text-sm sm:text-base\">\n                  View All Bookings\n                </Link>\n              </div>\n            </div>\n            <div className=\"hidden lg:block lg:ml-8\">\n              <div className=\"w-24 sm:w-32 h-24 sm:h-32 bg-gradient-to-br from-green-100 to-blue-100 rounded-full flex items-center justify-center animate-pulse\">\n                <i className=\"fas fa-chalkboard-teacher text-2xl sm:text-4xl text-green-600\"></i>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Statistics Cards */}\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6\">\n          {stats.map((stat, index) => (\n            <div key={index} className=\"bg-white rounded-xl shadow-sm p-4 sm:p-6 hover:shadow-md transition-all duration-300\">\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <p className=\"text-sm font-medium text-gray-600\">{stat.title}</p>\n                  <p className=\"text-2xl sm:text-3xl font-bold text-gray-900\">{stat.value}</p>\n                </div>\n                <div className={`w-12 h-12 rounded-lg flex items-center justify-center bg-${stat.color}-100`}>\n                  <i className={`${stat.icon} text-xl text-${stat.color}-600`}></i>\n                </div>\n              </div>\n              <div className=\"mt-4 flex items-center\">\n                <span className={`text-sm font-medium text-${stat.color}-600 flex items-center`}>\n                  <i className={`fas fa-arrow-${stat.trend} mr-1`}></i>\n                  {stat.trendValue}\n                </span>\n                <span className=\"text-sm text-gray-500 ml-2\">from last month</span>\n              </div>\n            </div>\n          ))}\n        </div>\n\n        {/* Upcoming Lessons */}\n        <div className=\"bg-white rounded-xl shadow-sm p-4 sm:p-6 hover:shadow-md transition-all duration-300\">\n          <div className=\"flex items-center justify-between mb-4 sm:mb-6\">\n            <h2 className=\"text-lg sm:text-xl font-bold text-gray-900\">Upcoming Lessons</h2>\n            <Link href=\"/teacher/reservations\" className=\"text-blue-600 hover:text-blue-700 text-sm font-medium\">\n              View All →\n            </Link>\n          </div>\n          \n          {formattedUpcomingLessons.length > 0 ? (\n            <div className=\"space-y-4\">\n              {formattedUpcomingLessons.map((lesson, index) => {\n                // Find the original reservation to get time data\n                const originalReservation = upcomingReservations.find(r => r.id === lesson.reservationId);\n                let canJoin = false;\n                let statusMessage = '';\n                \n                if (originalReservation) {\n                  const lessonDate = new Date(originalReservation.date);\n                  const now = new Date();\n                  \n                  // Calculate lesson start and end times\n                  const [startHours, startMinutes] = originalReservation.startTime.split(':');\n                  const lessonStartTime = new Date(lessonDate);\n                  lessonStartTime.setHours(parseInt(startHours), parseInt(startMinutes), 0, 0);\n                  \n                  const [endHours, endMinutes] = originalReservation.endTime.split(':');\n                  const lessonEndTime = new Date(lessonDate);\n                  lessonEndTime.setHours(parseInt(endHours), parseInt(endMinutes), 0, 0);\n                  \n                  // Teachers can join anytime before the lesson ends\n                  canJoin = lesson.status === 'booked' && now <= lessonEndTime;\n                  \n                  if (!canJoin) {\n                    statusMessage = now > lessonEndTime ? 'Time expired' : 'Not available';\n                  }\n                }\n                \n                return (\n                  <div key={index} className=\"flex items-center justify-between p-4 bg-gray-50 rounded-lg\">\n                    <div className=\"flex items-center space-x-4\">\n                      <div className=\"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center\">\n                        <i className=\"fas fa-user-graduate text-green-600\"></i>\n                      </div>\n                      <div>\n                        <h3 className=\"font-semibold text-gray-900\">{lesson.student}</h3>\n                        <p className=\"text-sm text-gray-600\">{lesson.topic}</p>\n                        <p className=\"text-sm text-gray-500\">{lesson.date}</p>\n                      </div>\n                    </div>\n                    <div className=\"text-right\">\n                      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800\">\n                        {lesson.status}\n                      </span>\n                      <p className=\"text-sm text-gray-600 mt-1\">{lesson.duration}</p>\n                      {lesson.status === 'booked' && canJoin && (\n                        <Link \n                          href={`/talk/${lesson.reservationId}`}\n                          className=\"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-md text-white bg-green-600 hover:bg-green-700 mt-2\"\n                        >\n                          Start Lesson\n                        </Link>\n                      )}\n                      {lesson.status === 'booked' && !canJoin && (\n                        <span className=\"text-xs text-gray-500 mt-2 block\">\n                          {statusMessage}\n                        </span>\n                      )}\n                    </div>\n                  </div>\n                );\n              })}\n            </div>\n          ) : (\n            <div className=\"text-center py-8\">\n              <i className=\"fas fa-calendar-times text-4xl text-gray-300 mb-4\"></i>\n              <p className=\"text-gray-500 mb-4\">No upcoming lessons scheduled</p>\n              <Link href=\"/teacher/availability\" className=\"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700\">\n                Set Your Availability\n              </Link>\n            </div>\n          )}\n        </div>\n\n        {/* Teaching Statistics */}\n        <div className=\"bg-white rounded-xl shadow-sm p-4 sm:p-6 hover:shadow-md transition-all duration-300\">\n          <h2 className=\"text-lg sm:text-xl font-bold text-gray-900 mb-4 sm:mb-6\">Teaching Statistics</h2>\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6\">\n            {teachingStats.map((stat, index) => (\n              <div key={index} className=\"text-center\">\n                <div className={`w-16 h-16 mx-auto mb-3 bg-${stat.color}-100 rounded-full flex items-center justify-center`}>\n                  <i className={`fas fa-chart-line text-xl text-${stat.color}-600`}></i>\n                </div>\n                <h3 className=\"font-semibold text-gray-900 mb-2\">{stat.label}</h3>\n                <p className=\"text-2xl font-bold text-gray-900\">{stat.value}</p>\n                <p className=\"text-sm text-gray-600\">{stat.unit}</p>\n              </div>\n            ))}\n          </div>\n        </div>\n\n        {/* Recent Students */}\n        <div className=\"bg-white rounded-xl shadow-sm p-4 sm:p-6 hover:shadow-md transition-all duration-300\">\n          <div className=\"flex items-center justify-between mb-4 sm:mb-6\">\n            <h2 className=\"text-lg sm:text-xl font-bold text-gray-900\">Recent Students</h2>\n            <Link href=\"/teacher/students\" className=\"text-blue-600 hover:text-blue-700 text-sm font-medium\">\n              View All →\n            </Link>\n          </div>\n          \n          {recentStudents.length > 0 ? (\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4\">\n              {recentStudents.map((student, index) => (\n                <div key={index} className=\"text-center p-4 bg-gray-50 rounded-lg\">\n                  <div className=\"w-12 h-12 mx-auto mb-3 bg-blue-100 rounded-full flex items-center justify-center\">\n                    <i className=\"fas fa-user text-blue-600\"></i>\n                  </div>\n                  <h3 className=\"font-semibold text-gray-900 mb-1\">{student.name}</h3>\n                  <p className=\"text-sm text-gray-600 mb-2\">{student.level}</p>\n                  <p className=\"text-xs text-gray-500\">{student.lessons} lessons</p>\n                  <p className=\"text-xs text-gray-400 mt-1\">{student.lastSeen}</p>\n                </div>\n              ))}\n            </div>\n          ) : (\n            <div className=\"text-center py-8\">\n              <i className=\"fas fa-users text-4xl text-gray-300 mb-4\"></i>\n              <p className=\"text-gray-500\">No students yet</p>\n            </div>\n          )}\n        </div>\n      </div>\n    </DashboardLayout>\n  );\n}\n\nexport default TeacherDashboardPage; "],"names":["window","__NEXT_P","push","__webpack_require__","__webpack_exports__","user","useAuthContext","bookings","setBookings","useState","upcomingReservations","setUpcomingReservations","notifications","setNotifications","unreadCount","setUnreadCount","loading","setLoading","error","setError","calculateDuration","startTime","endTime","startHour","startMin","split","map","Number","endHour","endMin","endMinutes","getTimeAgo","diffInSeconds","Math","floor","now","Date","getTime","date","concat","useEffect","fetchTeacherData","bookingsResponse","upcomingResponse","notificationsResponse","unreadCountResponse","Promise","all","api","get","data","err","console","response","message","completedLessons","filter","b","status","length","upcomingLessons","totalBookings","uniqueStudents","Set","student","email","size","formattedUpcomingLessons","reservation","lessonDate","formattedDate","isNaN","toLocaleDateString","weekday","year","month","day","reservationId","id","name","topic","time","duration","recentStudents","booking","reduce","acc","find","s","level","lessons","lastSeen","slice","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","jsx","DashboardLayout","allowedRoles","div","className","approvalStatus","isApproved","jsxs","h2","p","h1","Link","href","i","stats","title","value","icon","color","trend","trendValue","stat","index","span","lesson","originalReservation","r","canJoin","statusMessage","startHours","startMinutes","lessonStartTime","setHours","parseInt","endHours","lessonEndTime","h3","teachingStats","label","round","unit"],"sourceRoot":""}