{"version":3,"file":"static/chunks/pages/teacher/analytics-advanced-3c10380cfa0e4521.js","mappings":"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","sources":["webpack://_N_E/?a1d3","webpack://_N_E/./pages/teacher/analytics-advanced.tsx"],"sourcesContent":["\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/teacher/analytics-advanced\",\n      function () {\n        return require(\"private-next-pages/teacher/analytics-advanced.tsx\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/teacher/analytics-advanced\"])\n      });\n    }\n  ","import React, { useState, useEffect } from 'react';\r\nimport { useAuth } from '@/context/AuthContext';\r\nimport { teacherAnalyticsAPI } from '@/lib/api';\r\nimport { TeacherAnalytics, StudentPerformanceData, LessonAnalyticsData, EngagementMetricsData, AnalyticsFilters } from '@/types/teacherAnalytics';\r\nimport { \r\n  ChartBarIcon, \r\n  UsersIcon,\r\n  AcademicCapIcon,\r\n  CurrencyDollarIcon,\r\n  ClockIcon,\r\n  StarIcon,\r\n  ArrowTrendingUpIcon,\r\n  ArrowTrendingDownIcon,\r\n  EyeIcon,\r\n  ChatBubbleLeftRightIcon,\r\n  DocumentTextIcon,\r\n  HeartIcon\r\n} from '@heroicons/react/24/outline';\r\nimport { toast } from 'react-hot-toast';\r\n\r\nconst TeacherAnalyticsAdvancedPage: React.FC = () => {\r\n  const { user } = useAuth();\r\n  const [analytics, setAnalytics] = useState<TeacherAnalytics | null>(null);\r\n  const [studentPerformance, setStudentPerformance] = useState<StudentPerformanceData[]>([]);\r\n  const [lessonAnalytics, setLessonAnalytics] = useState<LessonAnalyticsData[]>([]);\r\n  const [engagementMetrics, setEngagementMetrics] = useState<EngagementMetricsData | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [filters, setFilters] = useState<AnalyticsFilters>({\r\n    timeRange: '30d',\r\n    includeInactive: false\r\n  });\r\n\r\n  useEffect(() => {\r\n    loadAnalytics();\r\n  }, [filters]);\r\n\r\n  const loadAnalytics = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const [analyticsRes, studentsRes, lessonsRes, engagementRes] = await Promise.all([\r\n        teacherAnalyticsAPI.getAnalytics(filters),\r\n        teacherAnalyticsAPI.getStudentPerformance(filters),\r\n        teacherAnalyticsAPI.getLessonAnalytics(filters),\r\n        teacherAnalyticsAPI.getEngagementMetrics(filters)\r\n      ]);\r\n\r\n      setAnalytics(analyticsRes.analytics);\r\n      setStudentPerformance(studentsRes.students);\r\n      setLessonAnalytics(lessonsRes.lessons);\r\n      setEngagementMetrics(engagementRes.metrics);\r\n    } catch (error) {\r\n      console.error('Error loading teacher analytics:', error);\r\n      toast.error('Failed to load analytics data');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const generateAnalytics = async () => {\r\n    try {\r\n      const response = await teacherAnalyticsAPI.generateAnalytics({\r\n        timeRange: filters.timeRange,\r\n        includeStudentDetails: true,\r\n        includeRevenueData: true\r\n      });\r\n      setAnalytics(response.analytics);\r\n      toast.success('Analytics generated successfully!');\r\n    } catch (error) {\r\n      console.error('Error generating analytics:', error);\r\n      toast.error('Failed to generate analytics');\r\n    }\r\n  };\r\n\r\n  const getTrendIcon = (value: number, isPositive: boolean) => {\r\n    if (isPositive) {\r\n      return value > 0 ? (\r\n        <ArrowTrendingUpIcon className=\"h-4 w-4 text-green-500\" />\r\n      ) : (\r\n        <ArrowTrendingDownIcon className=\"h-4 w-4 text-red-500\" />\r\n      );\r\n    }\r\n    return value > 0 ? (\r\n      <ArrowTrendingDownIcon className=\"h-4 w-4 text-red-500\" />\r\n    ) : (\r\n      <ArrowTrendingUpIcon className=\"h-4 w-4 text-green-500\" />\r\n    );\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"bg-gray-50 flex items-center justify-center py-20\">\r\n        <div className=\"text-center\">\r\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto\"></div>\r\n          <p className=\"mt-4 text-gray-600\">Loading Advanced Analytics...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"bg-gray-50\">\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n        {/* Header */}\r\n        <div className=\"mb-8\">\r\n          <h1 className=\"text-3xl font-bold text-gray-900 flex items-center\">\r\n            <ChartBarIcon className=\"h-8 w-8 text-blue-600 mr-3\" />\r\n            Advanced Teacher Analytics\r\n          </h1>\r\n          <p className=\"mt-2 text-gray-600\">\r\n            Comprehensive insights into your teaching performance, student progress, and engagement metrics.\r\n          </p>\r\n        </div>\r\n\r\n        {/* Filters */}\r\n        <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div className=\"flex items-center space-x-4\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Time Range</label>\r\n                <select\r\n                  value={filters.timeRange}\r\n                  onChange={(e) => setFilters(prev => ({ ...prev, timeRange: e.target.value as any }))}\r\n                  className=\"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                >\r\n                  <option value=\"7d\">Last 7 days</option>\r\n                  <option value=\"30d\">Last 30 days</option>\r\n                  <option value=\"90d\">Last 90 days</option>\r\n                  <option value=\"1y\">Last year</option>\r\n                </select>\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Student Level</label>\r\n                <select\r\n                  value={filters.studentLevel || ''}\r\n                  onChange={(e) => setFilters(prev => ({ ...prev, studentLevel: e.target.value as any || undefined }))}\r\n                  className=\"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                >\r\n                  <option value=\"\">All Levels</option>\r\n                  <option value=\"A1\">A1 - Beginner</option>\r\n                  <option value=\"A2\">A2 - Elementary</option>\r\n                  <option value=\"B1\">B1 - Intermediate</option>\r\n                  <option value=\"B2\">B2 - Upper Intermediate</option>\r\n                  <option value=\"C1\">C1 - Advanced</option>\r\n                  <option value=\"C2\">C2 - Mastery</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n            <button\r\n              onClick={generateAnalytics}\r\n              className=\"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors\"\r\n            >\r\n              Generate Analytics\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {analytics && (\r\n          <>\r\n            {/* Key Metrics */}\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\">\r\n              {/* Student Metrics */}\r\n              <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\r\n                <div className=\"flex items-center\">\r\n                  <div className=\"flex-shrink-0\">\r\n                    <UsersIcon className=\"h-8 w-8 text-blue-600\" />\r\n                  </div>\r\n                  <div className=\"ml-4\">\r\n                    <p className=\"text-sm font-medium text-gray-500\">Total Students</p>\r\n                    <p className=\"text-2xl font-bold text-gray-900\">{analytics.studentMetrics.totalStudents}</p>\r\n                    <div className=\"flex items-center mt-1\">\r\n                      {getTrendIcon(analytics.studentMetrics.newStudentsThisMonth, true)}\r\n                      <span className=\"text-sm text-gray-600 ml-1\">\r\n                        +{analytics.studentMetrics.newStudentsThisMonth} this month\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Performance Metrics */}\r\n              <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\r\n                <div className=\"flex items-center\">\r\n                  <div className=\"flex-shrink-0\">\r\n                    <AcademicCapIcon className=\"h-8 w-8 text-green-600\" />\r\n                  </div>\r\n                  <div className=\"ml-4\">\r\n                    <p className=\"text-sm font-medium text-gray-500\">Average Rating</p>\r\n                    <p className=\"text-2xl font-bold text-gray-900\">{analytics.performanceMetrics.averageLessonRating.toFixed(1)}</p>\r\n                    <div className=\"flex items-center mt-1\">\r\n                      <StarIcon className=\"h-4 w-4 text-yellow-400\" />\r\n                      <span className=\"text-sm text-gray-600 ml-1\">\r\n                        {analytics.performanceMetrics.totalLessons} lessons\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Revenue Metrics */}\r\n              <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\r\n                <div className=\"flex items-center\">\r\n                  <div className=\"flex-shrink-0\">\r\n                    <CurrencyDollarIcon className=\"h-8 w-8 text-green-600\" />\r\n                  </div>\r\n                  <div className=\"ml-4\">\r\n                    <p className=\"text-sm font-medium text-gray-500\">Monthly Revenue</p>\r\n                    <p className=\"text-2xl font-bold text-gray-900\">${analytics.revenueMetrics.monthlyRevenue.toLocaleString()}</p>\r\n                    <div className=\"flex items-center mt-1\">\r\n                      {getTrendIcon(analytics.revenueMetrics.revenueGrowth, true)}\r\n                      <span className=\"text-sm text-gray-600 ml-1\">\r\n                        {analytics.revenueMetrics.revenueGrowth > 0 ? '+' : ''}{analytics.revenueMetrics.revenueGrowth}% growth\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Engagement Metrics */}\r\n              <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\r\n                <div className=\"flex items-center\">\r\n                  <div className=\"flex-shrink-0\">\r\n                    <HeartIcon className=\"h-8 w-8 text-red-600\" />\r\n                  </div>\r\n                  <div className=\"ml-4\">\r\n                    <p className=\"text-sm font-medium text-gray-500\">Student Satisfaction</p>\r\n                    <p className=\"text-2xl font-bold text-gray-900\">{analytics.studentMetrics.studentSatisfactionScore.toFixed(1)}</p>\r\n                    <div className=\"flex items-center mt-1\">\r\n                      <span className=\"text-sm text-gray-600\">\r\n                        {analytics.engagementMetrics.messageResponseRate}% response rate\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\r\n              {/* Student Performance */}\r\n              <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\r\n                <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Top Performing Students</h3>\r\n                <div className=\"space-y-3\">\r\n                  {analytics.studentProgress.topPerformingStudents.slice(0, 5).map((student, index) => (\r\n                    <div key={student.studentId} className=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\">\r\n                      <div className=\"flex items-center space-x-3\">\r\n                        <div className=\"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center\">\r\n                          <span className=\"text-sm font-medium text-blue-600\">{index + 1}</span>\r\n                        </div>\r\n                        <div>\r\n                          <p className=\"font-medium text-gray-900\">{student.name}</p>\r\n                          <p className=\"text-sm text-gray-500\">{student.lessonsCompleted} lessons</p>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"text-right\">\r\n                        <p className=\"font-medium text-green-600\">{student.progress}%</p>\r\n                        <p className=\"text-xs text-gray-500\">progress</p>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n\r\n              {/* Struggling Students */}\r\n              <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\r\n                <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Students Needing Support</h3>\r\n                <div className=\"space-y-3\">\r\n                  {analytics.studentProgress.strugglingStudents.slice(0, 5).map((student, index) => (\r\n                    <div key={student.studentId} className=\"p-3 bg-red-50 rounded-lg border border-red-200\">\r\n                      <div className=\"flex items-center justify-between mb-2\">\r\n                        <p className=\"font-medium text-gray-900\">{student.name}</p>\r\n                        <span className=\"text-xs bg-red-100 text-red-700 px-2 py-1 rounded\">Needs Help</span>\r\n                      </div>\r\n                      <div className=\"text-sm text-gray-600\">\r\n                        <p className=\"mb-1\"><strong>Issues:</strong> {student.issues.join(', ')}</p>\r\n                        <p><strong>Recommendations:</strong> {student.recommendations.slice(0, 2).join(', ')}</p>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Lesson Analytics */}\r\n            <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mt-8\">\r\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Recent Lesson Performance</h3>\r\n              <div className=\"overflow-x-auto\">\r\n                <table className=\"min-w-full divide-y divide-gray-200\">\r\n                  <thead className=\"bg-gray-50\">\r\n                    <tr>\r\n                      <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Lesson</th>\r\n                      <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Type</th>\r\n                      <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Rating</th>\r\n                      <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Duration</th>\r\n                      <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Revenue</th>\r\n                      <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Status</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody className=\"bg-white divide-y divide-gray-200\">\r\n                    {lessonAnalytics.slice(0, 10).map((lesson) => (\r\n                      <tr key={lesson.lessonId} className=\"hover:bg-gray-50\">\r\n                        <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                          <div className=\"text-sm font-medium text-gray-900\">{lesson.title}</div>\r\n                          <div className=\"text-sm text-gray-500\">{new Date(lesson.date).toLocaleDateString()}</div>\r\n                        </td>\r\n                        <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">{lesson.type}</td>\r\n                        <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                          <div className=\"flex items-center\">\r\n                            <StarIcon className=\"h-4 w-4 text-yellow-400 mr-1\" />\r\n                            <span className=\"text-sm text-gray-900\">{lesson.rating.toFixed(1)}</span>\r\n                          </div>\r\n                        </td>\r\n                        <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">{lesson.duration} min</td>\r\n                        <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">${lesson.revenue}</td>\r\n                        <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                          <span className={`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${\r\n                            lesson.completionStatus === 'completed' ? 'bg-green-100 text-green-800' :\r\n                            lesson.completionStatus === 'cancelled' ? 'bg-red-100 text-red-800' :\r\n                            'bg-yellow-100 text-yellow-800'\r\n                          }`}>\r\n                            {lesson.completionStatus}\r\n                          </span>\r\n                        </td>\r\n                      </tr>\r\n                    ))}\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Engagement Metrics */}\r\n            {engagementMetrics && (\r\n              <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mt-8\">\r\n                <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Engagement Metrics</h3>\r\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n                  <div className=\"text-center\">\r\n                    <div className=\"flex items-center justify-center w-12 h-12 bg-blue-100 rounded-full mx-auto mb-3\">\r\n                      <ClockIcon className=\"h-6 w-6 text-blue-600\" />\r\n                    </div>\r\n                    <p className=\"text-sm font-medium text-gray-500\">Response Time</p>\r\n                    <p className=\"text-2xl font-bold text-gray-900\">{engagementMetrics.responseTime} min</p>\r\n                  </div>\r\n                  <div className=\"text-center\">\r\n                    <div className=\"flex items-center justify-center w-12 h-12 bg-green-100 rounded-full mx-auto mb-3\">\r\n                      <ChatBubbleLeftRightIcon className=\"h-6 w-6 text-green-600\" />\r\n                    </div>\r\n                    <p className=\"text-sm font-medium text-gray-500\">Message Count</p>\r\n                    <p className=\"text-2xl font-bold text-gray-900\">{engagementMetrics.messageCount}</p>\r\n                  </div>\r\n                  <div className=\"text-center\">\r\n                    <div className=\"flex items-center justify-center w-12 h-12 bg-purple-100 rounded-full mx-auto mb-3\">\r\n                      <DocumentTextIcon className=\"h-6 w-6 text-purple-600\" />\r\n                    </div>\r\n                    <p className=\"text-sm font-medium text-gray-500\">Materials Uploaded</p>\r\n                    <p className=\"text-2xl font-bold text-gray-900\">{engagementMetrics.materialCount}</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TeacherAnalyticsAdvancedPage; "],"names":["window","__NEXT_P","push","__webpack_require__","__webpack_exports__","user","useAuth","analytics","setAnalytics","useState","studentPerformance","setStudentPerformance","lessonAnalytics","setLessonAnalytics","engagementMetrics","setEngagementMetrics","loading","setLoading","filters","setFilters","timeRange","includeInactive","useEffect","loadAnalytics","analyticsRes","studentsRes","lessonsRes","engagementRes","Promise","all","teacherAnalyticsAPI","getAnalytics","getStudentPerformance","getLessonAnalytics","getEngagementMetrics","students","lessons","metrics","error","console","toast","generateAnalytics","response","includeStudentDetails","includeRevenueData","success","getTrendIcon","value","isPositive","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","jsx","ArrowTrendingUpIcon","className","ArrowTrendingDownIcon","div","jsxs","p","h1","ChartBarIcon","label","select","onChange","prev","e","target","option","studentLevel","undefined","button","onClick","Fragment","UsersIcon","studentMetrics","totalStudents","newStudentsThisMonth","span","AcademicCapIcon","performanceMetrics","averageLessonRating","toFixed","StarIcon","totalLessons","CurrencyDollarIcon","revenueMetrics","monthlyRevenue","toLocaleString","revenueGrowth","HeartIcon","studentSatisfactionScore","messageResponseRate","h3","studentProgress","topPerformingStudents","slice","map","student","index","name","lessonsCompleted","progress","studentId","strugglingStudents","strong","issues","join","recommendations","table","thead","tr","th","tbody","td","lesson","title","Date","date","toLocaleDateString","type","rating","duration","revenue","concat","completionStatus","lessonId","ClockIcon","responseTime","ChatBubbleLeftRightIcon","messageCount","DocumentTextIcon","materialCount"],"sourceRoot":""}