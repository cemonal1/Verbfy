(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2044],{84924:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/personalized-curriculum/schedule",function(){return t(14579)}])},14579:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return m}});var l=t(85893),r=t(67294),a=t(11163),n=t(9008),i=t.n(n),d=t(11088),c=t(36197),o=t(56158);function m(){let e=(0,a.useRouter)(),{user:s}=(0,c.Eu)(),{success:t,error:n}=(0,o.pm)(),[m,u]=(0,r.useState)(null),[x,g]=(0,r.useState)(!0),[h,p]=(0,r.useState)(new Date),[b,y]=(0,r.useState)(new Date),[j,f]=(0,r.useState)(!1),[N,v]=(0,r.useState)({date:"",time:"",duration:30,type:"lesson",goal:""});(0,r.useEffect)(()=>{w()},[]);let w=async()=>{try{g(!0),u({weeklyGoal:5,completedThisWeek:3,dailyGoal:45,averageTimePerDay:38,studySessions:[{id:1,date:"2024-01-15",time:"18:00",duration:45,type:"lesson",title:"Grammar Practice",completed:!0,goal:"Complete 3 grammar exercises"},{id:2,date:"2024-01-16",time:"19:30",duration:30,type:"test",title:"CEFR Progress Test",completed:!0,goal:"Achieve 80% or higher"},{id:3,date:"2024-01-17",time:"17:00",duration:60,type:"lesson",title:"Reading Comprehension",completed:!1,goal:"Read and analyze 2 passages"},{id:4,date:"2024-01-18",time:"20:00",duration:30,type:"practice",title:"Vocabulary Review",completed:!1,goal:"Review 50 new words"},{id:5,date:"2024-01-19",time:"16:30",duration:45,type:"lesson",title:"Speaking Practice",completed:!1,goal:"Practice pronunciation exercises"}],studyGoals:[{id:1,title:"Complete 5 lessons this week",progress:60,target:5,current:3},{id:2,title:"Study for 45 minutes daily",progress:84,target:45,current:38},{id:3,title:"Take 2 CEFR tests",progress:50,target:2,current:1},{id:4,title:"Achieve 80% in all skills",progress:75,target:80,current:60}],recommendedTimes:[{day:"Monday",time:"18:00",reason:"Based on your evening study pattern"},{day:"Wednesday",time:"17:00",reason:"Your most productive day"},{day:"Friday",time:"19:30",reason:"Weekend preparation"}]})}catch(e){n("Failed to load schedule"),console.error("Error loading schedule:",e)}finally{g(!1)}},D=async()=>{try{t("Study session added successfully!"),f(!1),v({date:"",time:"",duration:30,type:"lesson",goal:""}),w()}catch(e){n("Failed to add study session"),console.error("Error adding study session:",e)}},S=async e=>{try{t("Session marked as completed!"),w()}catch(e){n("Failed to complete session"),console.error("Error completing session:",e)}},C=e=>({lesson:"\uD83D\uDCDD",test:"\uD83E\uDDEA",practice:"\uD83D\uDCAA",review:"\uD83D\uDD04"})[e]||"\uD83D\uDCDA",k=e=>({lesson:"bg-blue-100 text-blue-800",test:"bg-purple-100 text-purple-800",practice:"bg-green-100 text-green-800",review:"bg-orange-100 text-orange-800"})[e]||"bg-gray-100 text-gray-800",T=e=>{if(!m)return[];let s=e.toISOString().split("T")[0];return m.studySessions.filter(e=>e.date===s)};if(x)return(0,l.jsx)(d.Z,{allowedRoles:["student"],children:(0,l.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,l.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})});if(!m)return(0,l.jsx)(d.Z,{allowedRoles:["student"],children:(0,l.jsxs)("div",{className:"text-center py-12",children:[(0,l.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No schedule found"}),(0,l.jsx)("p",{className:"text-gray-600 mb-4",children:"Create your study schedule to get started."}),(0,l.jsx)("button",{onClick:()=>f(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Create Schedule"})]})});let E=(e=>{let s=e.getFullYear(),t=e.getMonth(),l=new Date(s,t+1,0).getDate(),r=new Date(s,t,1).getDay(),a=[];for(let e=0;e<r;e++)a.push(null);for(let e=1;e<=l;e++)a.push(new Date(s,t,e));return a})(h),A=T(b);return(0,l.jsxs)(d.Z,{allowedRoles:["student"],children:[(0,l.jsx)(i(),{children:(0,l.jsx)("title",{children:"Study Schedule - Verbfy"})}),(0,l.jsxs)("div",{className:"p-6 max-w-7xl mx-auto",children:[(0,l.jsx)("div",{className:"mb-8",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Study Schedule"}),(0,l.jsx)("p",{className:"text-gray-600",children:"Plan your learning journey and track your study goals"})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,l.jsx)("button",{onClick:()=>f(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Add Session"}),(0,l.jsx)("button",{onClick:()=>e.push("/personalized-curriculum"),className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",children:"Back to Curriculum"})]})]})}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,l.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Weekly Goal"}),(0,l.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:[m.completedThisWeek,"/",m.weeklyGoal]})]}),(0,l.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,l.jsx)("span",{className:"text-blue-600 text-xl",children:"\uD83D\uDCC5"})})]})}),(0,l.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Daily Goal"}),(0,l.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:[m.dailyGoal," min"]})]}),(0,l.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:(0,l.jsx)("span",{className:"text-green-600 text-xl",children:"⏰"})})]})}),(0,l.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Average Time"}),(0,l.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:[m.averageTimePerDay," min"]})]}),(0,l.jsx)("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:(0,l.jsx)("span",{className:"text-purple-600 text-xl",children:"\uD83D\uDCCA"})})]})}),(0,l.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Upcoming"}),(0,l.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:m.studySessions.filter(e=>!e.completed).length})]}),(0,l.jsx)("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center",children:(0,l.jsx)("span",{className:"text-orange-600 text-xl",children:"\uD83C\uDFAF"})})]})})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,l.jsxs)("div",{className:"lg:col-span-2 bg-white rounded-lg shadow-sm border p-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Study Calendar"}),(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("button",{onClick:()=>p(new Date(h.getFullYear(),h.getMonth()-1)),className:"p-2 text-gray-400 hover:text-gray-600",children:"←"}),(0,l.jsx)("span",{className:"font-medium text-gray-900",children:h.toLocaleDateString("en-US",{month:"long",year:"numeric"})}),(0,l.jsx)("button",{onClick:()=>p(new Date(h.getFullYear(),h.getMonth()+1)),className:"p-2 text-gray-400 hover:text-gray-600",children:"→"})]})]}),(0,l.jsx)("div",{className:"grid grid-cols-7 gap-1 mb-4",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(e=>(0,l.jsx)("div",{className:"p-2 text-center text-sm font-medium text-gray-500",children:e},e))}),(0,l.jsx)("div",{className:"grid grid-cols-7 gap-1",children:E.map((e,s)=>{if(!e)return(0,l.jsx)("div",{className:"p-2"},s);let t=T(e),r=b.toDateString()===e.toDateString(),a=new Date().toDateString()===e.toDateString();return(0,l.jsxs)("button",{onClick:()=>y(e),className:"p-2 text-sm border rounded-lg hover:bg-gray-50 transition-colors ".concat(r?"bg-blue-100 border-blue-300":"border-gray-200"," ").concat(a?"ring-2 ring-blue-500":""),children:[(0,l.jsx)("div",{className:"text-right mb-1",children:(0,l.jsx)("span",{className:"font-medium ".concat(a?"text-blue-600":"text-gray-900"),children:e.getDate()})}),t.length>0&&(0,l.jsxs)("div",{className:"space-y-1",children:[t.slice(0,2).map(e=>(0,l.jsx)("div",{className:"w-full h-1 rounded-full ".concat(e.completed?"bg-green-500":"bg-blue-500")},e.id)),t.length>2&&(0,l.jsxs)("div",{className:"text-xs text-gray-500",children:["+",t.length-2]})]})]},s)})})]}),(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:new Date(b.toISOString()).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})}),0===A.length?(0,l.jsxs)("div",{className:"text-center py-8",children:[(0,l.jsx)("div",{className:"text-gray-400 text-4xl mb-2",children:"\uD83D\uDCC5"}),(0,l.jsx)("p",{className:"text-gray-600 mb-4",children:"No study sessions scheduled"}),(0,l.jsx)("button",{onClick:()=>{v({...N,date:b.toISOString().split("T")[0]}),f(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Add Session"})]}):(0,l.jsx)("div",{className:"space-y-4",children:A.map(e=>(0,l.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("span",{children:C(e.type)}),(0,l.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat(k(e.type)),children:e.type})]}),(0,l.jsx)("span",{className:"text-sm text-gray-500",children:e.time})]}),(0,l.jsx)("h4",{className:"font-medium text-gray-900 mb-1",children:e.title}),(0,l.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:e.goal}),(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("span",{className:"text-sm text-gray-500",children:[e.duration," minutes"]}),e.completed?(0,l.jsx)("span",{className:"text-sm text-green-600 font-medium",children:"✓ Completed"}):(0,l.jsx)("button",{onClick:()=>S(e.id),className:"px-3 py-1 bg-green-600 text-white text-sm rounded-md hover:bg-green-700 transition-colors",children:"Mark Complete"})]})]},e.id))})]})]}),(0,l.jsxs)("div",{className:"mt-8 bg-white rounded-lg shadow-sm border p-6",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Study Goals"}),(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:m.studyGoals.map(e=>(0,l.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,l.jsx)("h4",{className:"font-medium text-gray-900",children:e.title}),(0,l.jsxs)("span",{className:"text-sm font-semibold text-gray-600",children:[e.current,"/",e.target]})]}),(0,l.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-2",children:(0,l.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:"".concat(e.progress,"%")}})}),(0,l.jsxs)("div",{className:"flex justify-between text-xs text-gray-500",children:[(0,l.jsx)("span",{children:"Progress"}),(0,l.jsxs)("span",{children:[e.progress,"%"]})]})]},e.id))})]}),(0,l.jsxs)("div",{className:"mt-8 bg-white rounded-lg shadow-sm border p-6",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Recommended Study Times"}),(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:m.recommendedTimes.map((e,s)=>(0,l.jsxs)("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,l.jsx)("span",{className:"font-medium text-blue-900",children:e.day}),(0,l.jsx)("span",{className:"text-sm text-blue-700",children:e.time})]}),(0,l.jsx)("p",{className:"text-sm text-blue-600",children:e.reason})]},s))})]}),j&&(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,l.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Add Study Session"}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),(0,l.jsx)("input",{type:"date",value:N.date,onChange:e=>v({...N,date:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Time"}),(0,l.jsx)("input",{type:"time",value:N.time,onChange:e=>v({...N,time:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Duration (minutes)"}),(0,l.jsxs)("select",{value:N.duration,onChange:e=>v({...N,duration:parseInt(e.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,l.jsx)("option",{value:15,children:"15 minutes"}),(0,l.jsx)("option",{value:30,children:"30 minutes"}),(0,l.jsx)("option",{value:45,children:"45 minutes"}),(0,l.jsx)("option",{value:60,children:"1 hour"}),(0,l.jsx)("option",{value:90,children:"1.5 hours"}),(0,l.jsx)("option",{value:120,children:"2 hours"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),(0,l.jsxs)("select",{value:N.type,onChange:e=>v({...N,type:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,l.jsx)("option",{value:"lesson",children:"Lesson"}),(0,l.jsx)("option",{value:"test",children:"Test"}),(0,l.jsx)("option",{value:"practice",children:"Practice"}),(0,l.jsx)("option",{value:"review",children:"Review"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Goal"}),(0,l.jsx)("input",{type:"text",value:N.goal,onChange:e=>v({...N,goal:e.target.value}),placeholder:"e.g., Complete 3 grammar exercises",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,l.jsxs)("div",{className:"flex space-x-3 mt-6",children:[(0,l.jsx)("button",{onClick:()=>f(!1),className:"flex-1 px-4 py-2 text-gray-600 border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,l.jsx)("button",{onClick:D,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Add Session"})]})]})})]})]})}}},function(e){e.O(0,[1216,1088,2888,179],function(){return e(e.s=84924)}),_N_E=e.O()}]);
//# sourceMappingURL=schedule-6b6d081a3aafd835.js.map