"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[571],{10571:function(e,t,a){a.d(t,{Z:function(){return T}});var r=a(85893),s=a(67294),n=a(41664),l=a.n(n),i=a(55797),c=a(11163),o=a(36197),d=a(56158),x=a(46826);function m(e){let{onClick:t,className:a="",showCount:s=!0}=e,{state:n}=(0,x.z)(),{unreadCount:l}=n;return(0,r.jsxs)("button",{onClick:t,className:"relative inline-flex items-center justify-center p-2 text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-white transition-colors ".concat(a),"aria-label":"".concat(l," unread notifications"),children:[(0,r.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-5 5v-5zM10.5 3.75a6 6 0 0 1 6 6v4.5l2.25 2.25a2.25 2.25 0 0 1-2.25 2.25h-13.5a2.25 2.25 0 0 1-2.25-2.25L6 14.25V9.75a6 6 0 0 1 6-6z"})}),l>0&&(0,r.jsx)("span",{className:"absolute -top-1 -right-1 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white transform translate-x-1/2 -translate-y-1/2 bg-red-500 rounded-full min-w-[20px] h-5",children:s&&l>99?"99+":l}),l>0&&(0,r.jsxs)("span",{className:"absolute -top-1 -right-1 inline-flex items-center justify-center w-5 h-5",children:[(0,r.jsx)("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),(0,r.jsx)("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-red-500"})]})]})}let h={message:{label:"Message",icon:"\uD83D\uDCAC",color:"bg-blue-500",textColor:"text-blue-600"},reservation:{label:"Reservation",icon:"\uD83D\uDCC5",color:"bg-green-500",textColor:"text-green-600"},material:{label:"Material",icon:"\uD83D\uDCDA",color:"bg-purple-500",textColor:"text-purple-600"},admin:{label:"Admin",icon:"⚙️",color:"bg-red-500",textColor:"text-red-600"},lesson:{label:"Lesson",icon:"\uD83C\uDF93",color:"bg-yellow-500",textColor:"text-yellow-600"},payment:{label:"Payment",icon:"\uD83D\uDCB0",color:"bg-emerald-500",textColor:"text-emerald-600"},system:{label:"System",icon:"\uD83D\uDD14",color:"bg-gray-500",textColor:"text-gray-600"}},u=e=>h[e]||h.system;function g(e){let{isOpen:t,onClose:a}=e,n=(0,c.useRouter)(),{state:l,fetchNotifications:i,markAsRead:o,markAllAsRead:d,deleteNotification:m}=(0,x.z)(),{notifications:h,loading:g,pagination:y,unreadCount:b}=l,[p,f]=(0,s.useState)("all"),[v,j]=(0,s.useState)("all");(0,s.useEffect)(()=>{if(t){let e={};"unread"===p&&(e.isRead=!1),"read"===p&&(e.isRead=!0),"all"!==v&&(e.type=v),i(e)}},[t,p,v]);let N=async e=>{e.isRead||await o(e._id),e.link&&(n.push(e.link),a())},k=async()=>{await d()},w=async(e,t)=>{e.stopPropagation(),await m(t)},D=e=>{let t=new Date,a=new Date(e),r=Math.floor((t.getTime()-a.getTime())/1e3);return r<60?"Just now":r<3600?"".concat(Math.floor(r/60),"m ago"):r<86400?"".concat(Math.floor(r/3600),"h ago"):r<2592e3?"".concat(Math.floor(r/86400),"d ago"):"".concat(Math.floor(r/2592e3),"mo ago")},C=h.filter(e=>("unread"!==p||!e.isRead)&&("read"!==p||!!e.isRead)&&("all"===v||e.type===v));return t?(0,r.jsxs)("div",{className:"fixed inset-0 z-50 overflow-hidden",children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50 transition-opacity",onClick:a}),(0,r.jsxs)("div",{className:"absolute right-0 top-0 h-full w-full max-w-md bg-white dark:bg-gray-800 shadow-xl transform transition-transform duration-300 ease-in-out",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Notifications"}),b>0&&(0,r.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",children:b})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[b>0&&(0,r.jsx)("button",{onClick:k,className:"text-sm text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300",children:"Mark all read"}),(0,r.jsx)("button",{onClick:a,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),(0,r.jsxs)("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 space-y-3",children:[(0,r.jsx)("div",{className:"flex space-x-2",children:["all","unread","read"].map(e=>(0,r.jsx)("button",{onClick:()=>f(e),className:"px-3 py-1 text-sm rounded-md transition-colors ".concat(p===e?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":"text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-white"),children:e.charAt(0).toUpperCase()+e.slice(1)},e))}),(0,r.jsxs)("select",{value:v,onChange:e=>j(e.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-blue-500 focus:border-blue-500",children:[(0,r.jsx)("option",{value:"all",children:"All Types"}),(0,r.jsx)("option",{value:"message",children:"Messages"}),(0,r.jsx)("option",{value:"reservation",children:"Reservations"}),(0,r.jsx)("option",{value:"material",children:"Materials"}),(0,r.jsx)("option",{value:"lesson",children:"Lessons"}),(0,r.jsx)("option",{value:"payment",children:"Payments"}),(0,r.jsx)("option",{value:"admin",children:"Admin"}),(0,r.jsx)("option",{value:"system",children:"System"})]})]}),(0,r.jsx)("div",{className:"flex-1 overflow-y-auto",children:g?(0,r.jsx)("div",{className:"p-4 space-y-4",children:Array.from({length:5}).map((e,t)=>(0,r.jsx)("div",{className:"animate-pulse",children:(0,r.jsxs)("div",{className:"flex space-x-3",children:[(0,r.jsx)("div",{className:"w-8 h-8 bg-gray-200 dark:bg-gray-700 rounded-full"}),(0,r.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,r.jsx)("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4"}),(0,r.jsx)("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-1/2"})]})]})},t))}):0===C.length?(0,r.jsxs)("div",{className:"p-8 text-center",children:[(0,r.jsx)("div",{className:"text-gray-400 text-6xl mb-4",children:"\uD83D\uDD14"}),(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No notifications"}),(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"all"===p?"You're all caught up!":"No notifications match your filter."})]}):(0,r.jsx)("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:C.map(e=>{let t=u(e.type);return(0,r.jsx)("div",{onClick:()=>N(e),className:"p-4 hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer transition-colors ".concat(e.isRead?"":"bg-blue-50 dark:bg-blue-900/20"),children:(0,r.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,r.jsx)("div",{className:"flex-shrink-0 w-8 h-8 rounded-full ".concat(t.color," flex items-center justify-center text-white text-sm"),children:t.icon}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsx)("p",{className:"text-sm font-medium ".concat(e.isRead?"text-gray-600 dark:text-gray-400":"text-gray-900 dark:text-white"),children:e.title}),(0,r.jsx)("button",{onClick:t=>w(t,e._id),className:"flex-shrink-0 ml-2 text-gray-400 hover:text-red-500 transition-colors",title:"Delete notification",children:(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,r.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1 line-clamp-2",children:e.body}),(0,r.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[(0,r.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:D(e.createdAt)}),!e.isRead&&(0,r.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",children:"New"})]})]})]})},e._id)})})}),y.pages>1&&(0,r.jsx)("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700",children:(0,r.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-600 dark:text-gray-400",children:[(0,r.jsxs)("span",{children:["Page ",y.page," of ",y.pages]}),(0,r.jsxs)("span",{children:[y.total," total"]})]})})]})]}):null}var y=a(77918),b=a(32203),p=a(12658),f=a(32286),v=a(14235),j=a(1998),N=a(82591),k=a(74598),w=a(73416),D=a(37864),C=a(89176),L=a(62190),M=e=>{let{isOpen:t,onClose:a}=e,{isConnected:n,systemHealth:l,securityAlerts:i,userActivities:c,paymentNotifications:o,teacherNotifications:d,adminNotifications:x,unreadCount:m,markAsRead:h,clearNotifications:u}=(0,f.e)(),[g,b]=(0,s.useState)("all"),[p,M]=(0,s.useState)("all");(0,s.useEffect)(()=>{t&&h()},[t,h]);let A=e=>{switch(e){case"high":return"bg-red-100 border-red-300 text-red-800";case"medium":return"bg-yellow-100 border-yellow-300 text-yellow-800";case"low":return"bg-blue-100 border-blue-300 text-blue-800";default:return"bg-gray-100 border-gray-300 text-gray-800"}},S=e=>{switch(e){case"success":return"bg-green-100 border-green-300 text-green-800";case"error":return"bg-red-100 border-red-300 text-red-800";case"warning":return"bg-yellow-100 border-yellow-300 text-yellow-800";case"info":return"bg-blue-100 border-blue-300 text-blue-800";default:return"bg-gray-100 border-gray-300 text-gray-800"}},T=e=>{let t=new Date(e),a=new Date().getTime()-t.getTime(),r=Math.floor(a/6e4),s=Math.floor(a/36e5);return r<1?"Just now":r<60?"".concat(r,"m ago"):s<24?"".concat(s,"h ago"):"".concat(Math.floor(a/864e5),"d ago")},Z=e=>{let t=new Date(e),a=Math.floor((new Date().getTime()-t.getTime())/864e5);switch(p){case"today":return 0===a;case"week":return a<=7;default:return!0}},W=()=>[...i.map(e=>({...e,category:"security",icon:(0,r.jsx)(w.Z,{className:"w-4 h-4 text-red-500"})})),...c.map(e=>({...e,category:"user",icon:(0,r.jsx)(C.Z,{className:"w-4 h-4 text-blue-500"})})),...o.map(e=>({...e,category:"payment",icon:(0,r.jsx)(v.Z,{className:"w-4 h-4 text-green-500"})})),...d.map(e=>({...e,category:"teacher",icon:(0,r.jsx)(N.Z,{className:"w-4 h-4 text-purple-500"})})),...x.map(e=>({...e,category:"system",icon:(0,r.jsx)(k.Z,{className:"w-4 h-4 text-gray-500"})}))].filter(e=>Z(e.timestamp)).filter(e=>"all"===g||e.category===g).sort((e,t)=>new Date(t.timestamp).getTime()-new Date(e.timestamp).getTime()),E=e=>{switch(e){case"security":return i.filter(e=>Z(e.timestamp)).length;case"users":return c.filter(e=>Z(e.timestamp)).length;case"payments":return o.filter(e=>Z(e.timestamp)).length;case"teachers":return d.filter(e=>Z(e.timestamp)).length;case"system":return x.filter(e=>Z(e.timestamp)).length;default:return W().length}};return t?(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-end",children:(0,r.jsxs)("div",{className:"bg-white w-96 h-full shadow-xl overflow-hidden flex flex-col",children:[(0,r.jsxs)("div",{className:"bg-gray-50 border-b border-gray-200 p-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(y.Z,{className:"w-5 h-5 text-gray-600"}),(0,r.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Admin Notifications"}),m>0&&(0,r.jsx)("span",{className:"bg-red-500 text-white text-xs rounded-full px-2 py-1",children:m})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(n?"bg-green-500":"bg-red-500")}),(0,r.jsx)("button",{onClick:a,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,r.jsx)(L.Z,{className:"w-5 h-5"})})]})]}),(0,r.jsxs)("div",{className:"mt-2 text-sm text-gray-600",children:["Status: ",n?"Connected":"Disconnected"]})]}),(0,r.jsx)("div",{className:"border-b border-gray-200 bg-white",children:(0,r.jsx)("div",{className:"flex overflow-x-auto",children:[{key:"all",label:"All",icon:y.Z},{key:"security",label:"Security",icon:w.Z},{key:"users",label:"Users",icon:C.Z},{key:"payments",label:"Payments",icon:v.Z},{key:"teachers",label:"Teachers",icon:N.Z},{key:"system",label:"System",icon:k.Z}].map(e=>{let t=e.icon,a=E(e.key);return(0,r.jsxs)("button",{onClick:()=>b(e.key),className:"flex items-center space-x-1 px-3 py-2 text-sm font-medium border-b-2 whitespace-nowrap ".concat(g===e.key?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"),children:[(0,r.jsx)(t,{className:"w-4 h-4"}),(0,r.jsx)("span",{children:e.label}),a>0&&(0,r.jsx)("span",{className:"bg-gray-200 text-gray-700 text-xs rounded-full px-1.5 py-0.5",children:a})]},e.key)})})}),(0,r.jsx)("div",{className:"bg-gray-50 border-b border-gray-200 p-3",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(j.Z,{className:"w-4 h-4 text-gray-500"}),(0,r.jsxs)("select",{value:p,onChange:e=>M(e.target.value),className:"text-sm border border-gray-300 rounded px-2 py-1",children:[(0,r.jsx)("option",{value:"all",children:"All time"}),(0,r.jsx)("option",{value:"today",children:"Today"}),(0,r.jsx)("option",{value:"week",children:"This week"})]})]}),(0,r.jsxs)("button",{onClick:u,className:"flex items-center space-x-1 text-sm text-red-600 hover:text-red-800",children:[(0,r.jsx)(D.Z,{className:"w-4 h-4"}),(0,r.jsx)("span",{children:"Clear all"})]})]})}),(0,r.jsx)("div",{className:"flex-1 overflow-y-auto",children:0===W().length?(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:[(0,r.jsx)(y.Z,{className:"w-12 h-12 mb-2"}),(0,r.jsx)("p",{children:"No notifications"})]}):(0,r.jsx)("div",{className:"divide-y divide-gray-200",children:W().map((e,t)=>(0,r.jsx)("div",{className:"p-4 hover:bg-gray-50",children:(0,r.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,r.jsx)("div",{className:"flex-shrink-0 mt-1",children:e.icon}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.type.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase())}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:["severity"in e&&(0,r.jsx)("span",{className:"px-2 py-1 text-xs rounded-full border ".concat(A(e.severity)),children:e.severity}),"type"in e&&"system"===e.category&&(0,r.jsx)("span",{className:"px-2 py-1 text-xs rounded-full border ".concat(S(e.type)),children:e.type})]})]}),(0,r.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:e.message||e.title||"No message"}),e.details&&(0,r.jsx)("div",{className:"mt-2 text-xs text-gray-500",children:"object"==typeof e.details?Object.entries(e.details).map(e=>{let[t,a]=e;return(0,r.jsxs)("div",{children:[(0,r.jsxs)("span",{className:"font-medium",children:[t,":"]})," ",String(a)]},t)}):e.details}),(0,r.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[(0,r.jsx)("span",{className:"text-xs text-gray-500",children:T(e.timestamp)}),(e.adminName||e.adminId)&&(0,r.jsxs)("span",{className:"text-xs text-gray-500",children:["by ",e.adminName||"Admin ".concat(e.adminId)]})]})]})]})},t))})}),l&&(0,r.jsxs)("div",{className:"border-t border-gray-200 bg-gray-50 p-3",children:[(0,r.jsx)("div",{className:"text-sm font-medium text-gray-900 mb-2",children:"System Health"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[(0,r.jsxs)("div",{className:"p-2 rounded ".concat("healthy"===l.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:["Status: ",l.status]}),(0,r.jsxs)("div",{className:"p-2 rounded bg-blue-100 text-blue-800",children:["Users: ",l.metrics.totalUsers]}),(0,r.jsxs)("div",{className:"p-2 rounded bg-purple-100 text-purple-800",children:["Materials: ",l.metrics.totalMaterials]}),(0,r.jsxs)("div",{className:"p-2 rounded bg-yellow-100 text-yellow-800",children:["Reservations: ",l.metrics.totalReservations]})]})]})]})}):null},A=()=>{let{isConnected:e,unreadCount:t}=(0,f.e)(),[a,n]=(0,s.useState)(!1);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)("button",{onClick:()=>{n(!a)},className:"relative p-2 rounded-lg transition-colors ".concat(a?"bg-blue-100 text-blue-600":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"),title:"".concat(t," unread notifications"),children:[(0,r.jsx)(y.Z,{className:"w-6 h-6"}),t>0&&(0,r.jsx)("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-medium",children:t>99?"99+":t}),(0,r.jsx)("div",{className:"absolute -bottom-1 -right-1",children:e?(0,r.jsx)(b.Z,{className:"w-3 h-3 text-green-500"}):(0,r.jsx)(p.Z,{className:"w-3 h-3 text-red-500"})})]}),t>0&&(0,r.jsx)("div",{className:"absolute inset-0 rounded-lg animate-pulse bg-blue-200 opacity-30 pointer-events-none"})]}),(0,r.jsx)(M,{isOpen:a,onClose:()=>n(!1)})]})},S=a(54310);function T(e){let{children:t,allowedRoles:a=["student","teacher","admin"],title:n="Dashboard"}=e,{user:h,logout:u,isLoading:y}=(0,o.aC)(),{t:b,locale:p,setLocale:f}=(0,S.Q)(),{success:v}=(0,d.pm)(),j=(0,c.useRouter)(),[N,k]=(0,s.useState)(!1),[w,D]=(0,s.useState)(!1);if((0,s.useEffect)(()=>{let e=e=>{e.preventDefault(),e.returnValue=""},t=e=>{h&&!y&&(e.preventDefault(),window.history.pushState(null,"",j.asPath),v("Back button is disabled for security"))};return h&&!y&&(window.addEventListener("beforeunload",e),window.addEventListener("popstate",t),window.history.pushState(null,"",j.asPath),window.history.pushState(null,"",j.asPath),window.history.pushState(null,"",j.asPath)),()=>{window.removeEventListener("beforeunload",e),window.removeEventListener("popstate",t)}},[h,y,j.asPath,v]),y)return(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-blue-600 mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"Loading your dashboard..."})]})});if(!h||!a.includes(h.role))return(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Access Denied"}),(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"You don't have permission to access this page."}),(0,r.jsx)("button",{onClick:()=>j.push("/dashboard"),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Go to Dashboard"})]})});let C=(()=>{let e=[{name:b("nav.dashboard","Dashboard"),href:"/dashboard",icon:"\uD83C\uDFE0",current:"/dashboard"===j.pathname},{name:"Placement",href:"/placement",icon:"\uD83E\uDDED",current:j.pathname.startsWith("/placement")},{name:"VerbfyGames",href:"/verbfy-games",icon:"\uD83C\uDFAE",current:j.pathname.startsWith("/verbfy-games")},{name:b("nav.profile","Profile"),href:"/profile",icon:"\uD83D\uDC64",current:"/profile"===j.pathname},{name:b("nav.verbfytalk","VerbfyTalk"),href:"/verbfy-talk",icon:"\uD83C\uDFA5",current:j.pathname.startsWith("/verbfy-talk")},{name:b("nav.freeMaterials","Free Materials"),href:"/free-materials",icon:"\uD83D\uDCDA",current:j.pathname.startsWith("/free-materials")},{name:b("nav.verbfyLessons","Verbfy Lessons"),href:"/verbfy-lessons",icon:"\uD83D\uDCD6",current:j.pathname.startsWith("/verbfy-lessons")},{name:b("nav.cefrTests","CEFR Tests"),href:"/cefr-tests",icon:"\uD83D\uDCDD",current:j.pathname.startsWith("/cefr-tests")},{name:b("nav.curriculum","Personalized Curriculum"),href:"/personalized-curriculum",icon:"\uD83C\uDFAF",current:j.pathname.startsWith("/personalized-curriculum")},{name:b("nav.aiLearning","AI Learning Assistant"),href:"/ai-learning",icon:"\uD83E\uDD16",current:j.pathname.startsWith("/ai-learning")},{name:b("nav.adaptive","Adaptive Learning"),href:"/adaptive-learning",icon:"\uD83C\uDFAF",current:j.pathname.startsWith("/adaptive-learning")},{name:b("nav.aiContent","AI Content Generation"),href:"/ai-content-generation",icon:"✨",current:j.pathname.startsWith("/ai-content-generation")},{name:b("nav.chat","Chat"),href:"/chat",icon:"\uD83D\uDCAC",current:j.pathname.startsWith("/chat")},{name:b("nav.verbfyTalk","VerbfyTalk"),href:"/verbfy-talk",icon:"\uD83C\uDFA4",current:j.pathname.startsWith("/verbfy-talk")},{name:b("nav.materials","Materials"),href:"/materials",icon:"\uD83D\uDCC1",current:j.pathname.startsWith("/materials")},{name:b("nav.payments","Payments"),href:"/payment",icon:"\uD83D\uDCB3",current:j.pathname.startsWith("/payment")}];return"student"===h.role&&(e.splice(1,0,{name:b("student.myLessons","My Lessons"),href:"/lessons",icon:"\uD83D\uDCD6",current:"/lessons"===j.pathname}),e.splice(2,0,{name:b("student.findTeachers","Find Teachers"),href:"/teachers",icon:"\uD83D\uDC68‍\uD83C\uDFEB",current:"/teachers"===j.pathname})),"teacher"===h.role&&(e.splice(1,0,{name:b("teacher.myStudents","My Students"),href:"/students",icon:"\uD83D\uDC65",current:"/students"===j.pathname}),e.splice(2,0,{name:b("teacher.schedule","Schedule"),href:"/schedule",icon:"\uD83D\uDCC5",current:"/schedule"===j.pathname}),e.splice(3,0,{name:b("teacher.earnings","Earnings"),href:"/earnings",icon:"\uD83D\uDCB0",current:"/earnings"===j.pathname}),e.splice(4,0,{name:b("teacher.analyticsAdvanced","Advanced Analytics"),href:"/teacher/analytics-advanced",icon:"\uD83D\uDCCA",current:"/teacher/analytics-advanced"===j.pathname})),"admin"===h.role&&(e.splice(1,0,{name:b("admin.users","Users"),href:"/admin/users",icon:"\uD83D\uDC65",current:"/admin/users"===j.pathname}),e.splice(2,0,{name:b("admin.analytics","Analytics"),href:"/admin/analytics",icon:"\uD83D\uDCCA",current:"/admin/analytics"===j.pathname}),e.splice(3,0,{name:b("admin.settings","Settings"),href:"/admin/settings",icon:"⚙️",current:"/admin/settings"===j.pathname})),e})(),L=async()=>{try{await u(),v("Logged out successfully")}catch(e){}};return(0,r.jsx)("div",{className:"h-screen bg-gray-50 dark:bg-gray-900 overflow-x-hidden",children:(0,r.jsx)(d.VW,{children:(0,r.jsxs)(x.J,{children:[N&&(0,r.jsx)("div",{className:"fixed inset-0 z-40 bg-gray-600 bg-opacity-75 lg:hidden transition-opacity duration-300",onClick:()=>k(!1)}),(0,r.jsx)("div",{className:"\n         fixed inset-y-0 left-0 z-50 w-56 bg-white dark:bg-gray-800 shadow-xl border-r border-gray-200 dark:border-gray-700 transform transition-transform duration-300 ease-in-out lg:translate-x-0\n         ".concat(N?"translate-x-0":"-translate-x-full","\n       "),children:(0,r.jsxs)("div",{className:"flex flex-col h-full",children:[(0,r.jsxs)("div",{className:"flex-shrink-0 flex items-center justify-between h-16 px-6 border-b border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:[(0,r.jsx)(i.Z,{size:44,withTitle:!1}),(0,r.jsx)("button",{onClick:()=>k(!1),className:"lg:hidden p-2 rounded-md text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",children:(0,r.jsx)("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,r.jsx)("nav",{className:"flex-1 px-4 py-6 space-y-2 overflow-y-auto",children:C.map(e=>(0,r.jsxs)(l(),{href:e.href,className:"\n                   flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors duration-200\n                   ".concat(e.current?"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-white","\n                 "),children:[(0,r.jsx)("span",{className:"mr-3 text-lg","aria-hidden":!0,children:e.icon}),(0,r.jsx)("span",{children:e.name})]},e.href))}),(0,r.jsx)("div",{className:"flex-shrink-0 p-4 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800",children:(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)("div",{className:"w-8 h-8 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center",children:(0,r.jsx)("span",{className:"text-sm font-medium text-blue-600 dark:text-blue-400",children:h.name.charAt(0).toUpperCase()})})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:h.name}),(0,r.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 capitalize",children:h.role})]}),(0,r.jsx)("button",{onClick:L,className:"flex-shrink-0 p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 rounded",title:"Logout",children:(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})})]})})]})}),(0,r.jsxs)("div",{className:"lg:pl-56 h-full bg-gray-50 dark:bg-gray-900 grid grid-rows-[auto,1fr]",children:[(0,r.jsx)("div",{className:"z-30 bg-white/80 backdrop-blur dark:bg-gray-800/80 shadow-sm border-b border-gray-200 dark:border-gray-700",children:(0,r.jsxs)("div",{className:"flex items-center justify-between h-20 px-4 sm:px-6 lg:px-8",children:[(0,r.jsx)("button",{onClick:()=>k(!0),className:"lg:hidden p-2 rounded-md text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700","aria-label":"Open sidebar",children:(0,r.jsx)("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),(0,r.jsxs)("div",{className:"flex-1 lg:flex-none",children:[(0,r.jsx)("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-gray-900 dark:text-white",children:n}),(0,r.jsx)("p",{className:"hidden sm:block text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Verbing Up Your Language Skills!"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[(0,r.jsx)("button",{onClick:()=>f("en"===p?"tr":"en"),className:"px-2 py-1 text-xs rounded-md border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors","aria-label":"Toggle language",title:"en"===p?"T\xfcrk\xe7e":"English",children:"en"===p?"TR":"EN"}),(0,r.jsx)(m,{onClick:()=>D(!0),className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md transition-colors"}),(null==h?void 0:h.role)==="admin"&&(0,r.jsx)(A,{})]})]})}),(0,r.jsx)("main",{className:"overflow-y-auto min-h-0 overscroll-contain",children:(0,r.jsx)("div",{className:"px-4 sm:px-6 lg:px-8 py-2",children:t})})]}),(0,r.jsx)(g,{isOpen:w,onClose:()=>D(!1)})]})})})}},55797:function(e,t,a){a.d(t,{Z:function(){return c}});var r=a(85893);a(67294);var s=a(41664),n=a.n(s),l=a(25675),i=a.n(l);function c(e){let{size:t=40,withTitle:a=!1,href:s="/",className:l="",titleClassName:c="text-2xl font-extrabold text-gray-900 dark:text-white"}=e;return(0,r.jsxs)(n(),{href:s,className:"flex items-center justify-center ".concat(l),"aria-label":"Verbfy Home",children:[(0,r.jsx)(i(),{src:"/logo.png",alt:"Verbfy logo",width:t,height:t,priority:!0,className:"mx-auto"}),a&&(0,r.jsx)("span",{className:c,children:"Verbfy"})]})}}}]);