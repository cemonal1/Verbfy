{"numFailedTestSuites":2,"numFailedTests":2,"numPassedTestSuites":6,"numPassedTests":139,"numPendingTestSuites":0,"numPendingTests":0,"numRuntimeErrorTestSuites":0,"numTodoTests":0,"numTotalTestSuites":8,"numTotalTests":141,"openHandles":[{},{},{},{}],"snapshot":{"added":0,"didUpdate":false,"failure":false,"filesAdded":0,"filesRemoved":0,"filesRemovedList":[],"filesUnmatched":0,"filesUpdated":0,"matched":0,"total":0,"unchecked":0,"uncheckedKeysByFile":[],"unmatched":0,"updated":0},"startTime":1759562501464,"success":false,"testResults":[{"assertionResults":[{"ancestorTitles":["Auth email flows"],"duration":171,"failureDetails":[{"matcherResult":{"actual":403,"expected":200,"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m200\u001b[39m\nReceived: \u001b[31m403\u001b[39m","name":"toBe","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m200\u001b[39m\nReceived: \u001b[31m403\u001b[39m\n    at Object.<anonymous> (C:\\Verbfy\\backend\\src\\__tests__\\controllers\\auth-email.test.ts:12:43)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"],"fullName":"Auth email flows forgot password responds OK even for unknown email","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"forgot password responds OK even for unknown email"},{"ancestorTitles":["Auth email flows"],"duration":266,"failureDetails":[],"failureMessages":[],"fullName":"Auth email flows verify email with invalid token fails","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"verify email with invalid token fails"}],"endTime":1759562506218,"message":"\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mAuth email flows › forgot password responds OK even for unknown email\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\n    Expected: \u001b[32m200\u001b[39m\n    Received: \u001b[31m403\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 10 |\u001b[39m     expect(res\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39msuccess)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 11 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 12 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 13 |\u001b[39m   it(\u001b[32m'verify email with invalid token fails'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m     \u001b[90m 14 |\u001b[39m     \u001b[36mconst\u001b[39m res \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m request(app)\u001b[33m.\u001b[39m\u001b[36mget\u001b[39m(\u001b[32m'/api/auth/verify-email/confirm'\u001b[39m)\u001b[33m.\u001b[39mquery({ token\u001b[33m:\u001b[39m \u001b[32m'invalid'\u001b[39m })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 15 |\u001b[39m     expect(res\u001b[33m.\u001b[39mstatus)\u001b[33m.\u001b[39mtoBeGreaterThanOrEqual(\u001b[35m400\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36msrc/__tests__/controllers/auth-email.test.ts\u001b[39m\u001b[0m\u001b[2m:12:43)\u001b[22m\u001b[2m\u001b[22m\n","name":"C:\\Verbfy\\backend\\src\\__tests__\\controllers\\auth-email.test.ts","startTime":1759562501873,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["Admin Auth Controller","POST /admin/auth/login"],"duration":812,"failureDetails":[],"failureMessages":[],"fullName":"Admin Auth Controller POST /admin/auth/login should login admin user successfully","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"status":"passed","title":"should login admin user successfully"},{"ancestorTitles":["Admin Auth Controller","POST /admin/auth/login"],"duration":496,"failureDetails":[],"failureMessages":[],"fullName":"Admin Auth Controller POST /admin/auth/login should reject login for non-admin users and emit security alert","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should reject login for non-admin users and emit security alert"},{"ancestorTitles":["Admin Auth Controller","POST /admin/auth/login"],"duration":766,"failureDetails":[],"failureMessages":[],"fullName":"Admin Auth Controller POST /admin/auth/login should reject login with invalid password and emit security alert","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should reject login with invalid password and emit security alert"},{"ancestorTitles":["Admin Auth Controller","POST /admin/auth/login"],"duration":502,"failureDetails":[],"failureMessages":[],"fullName":"Admin Auth Controller POST /admin/auth/login should reject login with non-existent email","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should reject login with non-existent email"},{"ancestorTitles":["Admin Auth Controller","POST /admin/auth/login"],"duration":534,"failureDetails":[],"failureMessages":[],"fullName":"Admin Auth Controller POST /admin/auth/login should validate required fields","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should validate required fields"},{"ancestorTitles":["Admin Auth Controller","POST /admin/auth/login"],"duration":504,"failureDetails":[],"failureMessages":[],"fullName":"Admin Auth Controller POST /admin/auth/login should validate email format","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should validate email format"},{"ancestorTitles":["Admin Auth Controller","POST /admin/auth/login"],"duration":761,"failureDetails":[],"failureMessages":[],"fullName":"Admin Auth Controller POST /admin/auth/login should handle case-insensitive email login","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle case-insensitive email login"},{"ancestorTitles":["Admin Auth Controller","POST /admin/auth/login"],"duration":764,"failureDetails":[],"failureMessages":[],"fullName":"Admin Auth Controller POST /admin/auth/login should include user information in response","invocations":1,"location":null,"numPassingAsserts":7,"retryReasons":[],"status":"passed","title":"should include user information in response"},{"ancestorTitles":["Admin Auth Controller","POST /admin/auth/login"],"duration":753,"failureDetails":[],"failureMessages":[],"fullName":"Admin Auth Controller POST /admin/auth/login should generate valid JWT tokens","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should generate valid JWT tokens"},{"ancestorTitles":["Admin Auth Controller","POST /admin/auth/refresh"],"duration":502,"failureDetails":[],"failureMessages":[],"fullName":"Admin Auth Controller POST /admin/auth/refresh should refresh token successfully","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should refresh token successfully"},{"ancestorTitles":["Admin Auth Controller","POST /admin/auth/refresh"],"duration":490,"failureDetails":[],"failureMessages":[],"fullName":"Admin Auth Controller POST /admin/auth/refresh should reject invalid refresh token","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should reject invalid refresh token"},{"ancestorTitles":["Admin Auth Controller","POST /admin/auth/refresh"],"duration":490,"failureDetails":[],"failureMessages":[],"fullName":"Admin Auth Controller POST /admin/auth/refresh should reject expired refresh token","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should reject expired refresh token"},{"ancestorTitles":["Admin Auth Controller","POST /admin/auth/refresh"],"duration":502,"failureDetails":[],"failureMessages":[],"fullName":"Admin Auth Controller POST /admin/auth/refresh should reject refresh token for non-existent user","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should reject refresh token for non-existent user"},{"ancestorTitles":["Admin Auth Controller","POST /admin/auth/refresh"],"duration":492,"failureDetails":[],"failureMessages":[],"fullName":"Admin Auth Controller POST /admin/auth/refresh should reject refresh token for non-admin user","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should reject refresh token for non-admin user"},{"ancestorTitles":["Admin Auth Controller","POST /admin/auth/refresh"],"duration":524,"failureDetails":[],"failureMessages":[],"fullName":"Admin Auth Controller POST /admin/auth/refresh should require refresh token in request body","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should require refresh token in request body"},{"ancestorTitles":["Admin Auth Controller","POST /admin/auth/logout"],"duration":491,"failureDetails":[],"failureMessages":[],"fullName":"Admin Auth Controller POST /admin/auth/logout should logout successfully","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should logout successfully"},{"ancestorTitles":["Admin Auth Controller","POST /admin/auth/logout"],"duration":482,"failureDetails":[],"failureMessages":[],"fullName":"Admin Auth Controller POST /admin/auth/logout should require authentication","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should require authentication"},{"ancestorTitles":["Admin Auth Controller","POST /admin/auth/logout"],"duration":510,"failureDetails":[],"failureMessages":[],"fullName":"Admin Auth Controller POST /admin/auth/logout should reject invalid token","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should reject invalid token"},{"ancestorTitles":["Admin Auth Controller","Security Features"],"duration":1743,"failureDetails":[],"failureMessages":[],"fullName":"Admin Auth Controller Security Features should handle multiple failed login attempts","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should handle multiple failed login attempts"},{"ancestorTitles":["Admin Auth Controller","Security Features"],"duration":577,"failureDetails":[],"failureMessages":[],"fullName":"Admin Auth Controller Security Features should handle SQL injection attempts in email field","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should handle SQL injection attempts in email field"},{"ancestorTitles":["Admin Auth Controller","Security Features"],"duration":507,"failureDetails":[],"failureMessages":[],"fullName":"Admin Auth Controller Security Features should handle XSS attempts in input fields","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should handle XSS attempts in input fields"},{"ancestorTitles":["Admin Auth Controller","Security Features"],"duration":784,"failureDetails":[],"failureMessages":[],"fullName":"Admin Auth Controller Security Features should not reveal user existence for invalid emails","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should not reveal user existence for invalid emails"},{"ancestorTitles":["Admin Auth Controller","Rate Limiting and Brute Force Protection"],"duration":1370,"failureDetails":[],"failureMessages":[],"fullName":"Admin Auth Controller Rate Limiting and Brute Force Protection should handle rapid successive login attempts","invocations":1,"location":null,"numPassingAsserts":10,"retryReasons":[],"status":"passed","title":"should handle rapid successive login attempts"},{"ancestorTitles":["Admin Auth Controller","Error Handling"],"duration":518,"failureDetails":[],"failureMessages":[],"fullName":"Admin Auth Controller Error Handling should handle database connection errors gracefully","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should handle database connection errors gracefully"},{"ancestorTitles":["Admin Auth Controller","Error Handling"],"duration":550,"failureDetails":[],"failureMessages":[],"fullName":"Admin Auth Controller Error Handling should handle bcrypt comparison errors","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should handle bcrypt comparison errors"},{"ancestorTitles":["Admin Auth Controller","Error Handling"],"duration":721,"failureDetails":[],"failureMessages":[],"fullName":"Admin Auth Controller Error Handling should handle JWT signing errors","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should handle JWT signing errors"},{"ancestorTitles":["Admin Auth Controller","Input Validation"],"duration":535,"failureDetails":[],"failureMessages":[],"fullName":"Admin Auth Controller Input Validation should validate email format strictly","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should validate email format strictly"},{"ancestorTitles":["Admin Auth Controller","Input Validation"],"duration":524,"failureDetails":[],"failureMessages":[],"fullName":"Admin Auth Controller Input Validation should validate password requirements","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should validate password requirements"},{"ancestorTitles":["Admin Auth Controller","Input Validation"],"duration":491,"failureDetails":[],"failureMessages":[],"fullName":"Admin Auth Controller Input Validation should handle extremely long input values","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should handle extremely long input values"}],"endTime":1759562525973,"message":"","name":"C:\\Verbfy\\backend\\src\\__tests__\\controllers\\adminAuthController.test.ts","startTime":1759562506229,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Admin Security Tests","Authentication Security","Password Security"],"duration":427,"failureDetails":[],"failureMessages":[],"fullName":"Admin Security Tests Authentication Security Password Security should reject weak passwords during admin creation","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"status":"passed","title":"should reject weak passwords during admin creation"},{"ancestorTitles":["Admin Security Tests","Authentication Security","Password Security"],"duration":350,"failureDetails":[],"failureMessages":[],"fullName":"Admin Security Tests Authentication Security Password Security should enforce password complexity requirements","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should enforce password complexity requirements"},{"ancestorTitles":["Admin Security Tests","Authentication Security","Password Security"],"duration":982,"failureDetails":[],"failureMessages":[],"fullName":"Admin Security Tests Authentication Security Password Security should hash passwords securely","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should hash passwords securely"},{"ancestorTitles":["Admin Security Tests","Authentication Security","JWT Security"],"duration":524,"failureDetails":[],"failureMessages":[],"fullName":"Admin Security Tests Authentication Security JWT Security should generate secure JWT tokens","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should generate secure JWT tokens"},{"ancestorTitles":["Admin Security Tests","Authentication Security","JWT Security"],"duration":374,"failureDetails":[],"failureMessages":[],"fullName":"Admin Security Tests Authentication Security JWT Security should reject tampered JWT tokens","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should reject tampered JWT tokens"},{"ancestorTitles":["Admin Security Tests","Authentication Security","JWT Security"],"duration":337,"failureDetails":[],"failureMessages":[],"fullName":"Admin Security Tests Authentication Security JWT Security should reject expired JWT tokens","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should reject expired JWT tokens"},{"ancestorTitles":["Admin Security Tests","Authentication Security","JWT Security"],"duration":308,"failureDetails":[],"failureMessages":[],"fullName":"Admin Security Tests Authentication Security JWT Security should reject tokens with invalid signature","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should reject tokens with invalid signature"},{"ancestorTitles":["Admin Security Tests","Authentication Security","JWT Security"],"duration":287,"failureDetails":[],"failureMessages":[],"fullName":"Admin Security Tests Authentication Security JWT Security should reject tokens with missing required claims","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should reject tokens with missing required claims"},{"ancestorTitles":["Admin Security Tests","Authentication Security","Rate Limiting"],"duration":1515,"failureDetails":[],"failureMessages":[],"fullName":"Admin Security Tests Authentication Security Rate Limiting should enforce rate limiting on login attempts","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should enforce rate limiting on login attempts"},{"ancestorTitles":["Admin Security Tests","Authentication Security","Rate Limiting"],"duration":1486,"failureDetails":[],"failureMessages":[],"fullName":"Admin Security Tests Authentication Security Rate Limiting should reset rate limit after time window","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should reset rate limit after time window"},{"ancestorTitles":["Admin Security Tests","Authentication Security","Session Security"],"duration":667,"failureDetails":[],"failureMessages":[],"fullName":"Admin Security Tests Authentication Security Session Security should invalidate tokens on logout","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should invalidate tokens on logout"},{"ancestorTitles":["Admin Security Tests","Authentication Security","Session Security"],"duration":970,"failureDetails":[{}],"failureMessages":["MongoNotConnectedError: Client must be connected before running operations\n    at executeOperationAsync (C:\\Verbfy\\backend\\node_modules\\mongodb\\src\\operations\\execute_operation.ts:94:13)\n    at C:\\Verbfy\\backend\\node_modules\\mongodb\\src\\operations\\execute_operation.ts:79:30\n    at maybeCallback (C:\\Verbfy\\backend\\node_modules\\mongodb\\src\\utils.ts:373:19)\n    at executeOperation (C:\\Verbfy\\backend\\node_modules\\mongodb\\src\\operations\\execute_operation.ts:79:23)\n    at Db.stats (C:\\Verbfy\\backend\\node_modules\\mongodb\\src\\db.ts:310:28)\n    at getDBMetrics (C:\\Verbfy\\backend\\src\\config\\db.ts:187:52)\n    at PerformanceService.collectMetrics (C:\\Verbfy\\backend\\src\\services\\performanceService.ts:51:51)\n    at Timeout._onTimeout (C:\\Verbfy\\backend\\src\\services\\performanceService.ts:19:18)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)"],"fullName":"Admin Security Tests Authentication Security Session Security should handle concurrent sessions securely","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should handle concurrent sessions securely"},{"ancestorTitles":["Admin Security Tests","Authorization Security","Role-Based Access Control"],"duration":390,"failureDetails":[],"failureMessages":[],"fullName":"Admin Security Tests Authorization Security Role-Based Access Control should deny access to non-admin users","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should deny access to non-admin users"},{"ancestorTitles":["Admin Security Tests","Authorization Security","Role-Based Access Control"],"duration":398,"failureDetails":[],"failureMessages":[],"fullName":"Admin Security Tests Authorization Security Role-Based Access Control should allow access only to admin users","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should allow access only to admin users"},{"ancestorTitles":["Admin Security Tests","Authorization Security","Role-Based Access Control"],"duration":295,"failureDetails":[],"failureMessages":[],"fullName":"Admin Security Tests Authorization Security Role-Based Access Control should validate role in token payload","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should validate role in token payload"},{"ancestorTitles":["Admin Security Tests","Authorization Security","Resource Access Control"],"duration":301,"failureDetails":[],"failureMessages":[],"fullName":"Admin Security Tests Authorization Security Resource Access Control should prevent unauthorized user modifications","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should prevent unauthorized user modifications"},{"ancestorTitles":["Admin Security Tests","Authorization Security","Resource Access Control"],"duration":330,"failureDetails":[],"failureMessages":[],"fullName":"Admin Security Tests Authorization Security Resource Access Control should prevent privilege escalation","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should prevent privilege escalation"},{"ancestorTitles":["Admin Security Tests","Authorization Security","Resource Access Control"],"duration":322,"failureDetails":[],"failureMessages":[],"fullName":"Admin Security Tests Authorization Security Resource Access Control should validate user existence before operations","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should validate user existence before operations"},{"ancestorTitles":["Admin Security Tests","Authorization Security","API Endpoint Security"],"duration":329,"failureDetails":[],"failureMessages":[],"fullName":"Admin Security Tests Authorization Security API Endpoint Security should require authentication for all admin endpoints","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should require authentication for all admin endpoints"},{"ancestorTitles":["Admin Security Tests","Authorization Security","API Endpoint Security"],"duration":333,"failureDetails":[],"failureMessages":[],"fullName":"Admin Security Tests Authorization Security API Endpoint Security should validate authorization header format","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should validate authorization header format"},{"ancestorTitles":["Admin Security Tests","Input Validation Security","SQL Injection Prevention"],"duration":351,"failureDetails":[],"failureMessages":[],"fullName":"Admin Security Tests Input Validation Security SQL Injection Prevention should prevent SQL injection in user queries","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should prevent SQL injection in user queries"},{"ancestorTitles":["Admin Security Tests","Input Validation Security","XSS Prevention"],"duration":443,"failureDetails":[],"failureMessages":[],"fullName":"Admin Security Tests Input Validation Security XSS Prevention should sanitize script tags in input","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should sanitize script tags in input"},{"ancestorTitles":["Admin Security Tests","Input Validation Security","NoSQL Injection Prevention"],"duration":325,"failureDetails":[],"failureMessages":[],"fullName":"Admin Security Tests Input Validation Security NoSQL Injection Prevention should prevent NoSQL injection attacks","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should prevent NoSQL injection attacks"},{"ancestorTitles":["Admin Security Tests","Input Validation Security","Parameter Pollution"],"duration":279,"failureDetails":[],"failureMessages":[],"fullName":"Admin Security Tests Input Validation Security Parameter Pollution should handle parameter pollution attacks","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should handle parameter pollution attacks"},{"ancestorTitles":["Admin Security Tests","Input Validation Security","Large Payload Protection"],"duration":590,"failureDetails":[],"failureMessages":[],"fullName":"Admin Security Tests Input Validation Security Large Payload Protection should reject oversized payloads","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should reject oversized payloads"},{"ancestorTitles":["Admin Security Tests","Security Headers"],"duration":351,"failureDetails":[],"failureMessages":[],"fullName":"Admin Security Tests Security Headers should include security headers in responses","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should include security headers in responses"},{"ancestorTitles":["Admin Security Tests","Security Headers"],"duration":335,"failureDetails":[],"failureMessages":[],"fullName":"Admin Security Tests Security Headers should not expose sensitive information in headers","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should not expose sensitive information in headers"},{"ancestorTitles":["Admin Security Tests","Error Handling Security"],"duration":307,"failureDetails":[],"failureMessages":[],"fullName":"Admin Security Tests Error Handling Security should not expose sensitive information in error messages","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should not expose sensitive information in error messages"},{"ancestorTitles":["Admin Security Tests","Error Handling Security"],"duration":291,"failureDetails":[],"failureMessages":[],"fullName":"Admin Security Tests Error Handling Security should handle authentication errors securely","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should handle authentication errors securely"},{"ancestorTitles":["Admin Security Tests","Audit and Logging Security"],"duration":520,"failureDetails":[],"failureMessages":[],"fullName":"Admin Security Tests Audit and Logging Security should log security events without exposing sensitive data","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should log security events without exposing sensitive data"},{"ancestorTitles":["Admin Security Tests","Audit and Logging Security"],"duration":353,"failureDetails":[],"failureMessages":[],"fullName":"Admin Security Tests Audit and Logging Security should track admin actions for audit trail","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should track admin actions for audit trail"},{"ancestorTitles":["Admin Security Tests","CORS Security"],"duration":280,"failureDetails":[],"failureMessages":[],"fullName":"Admin Security Tests CORS Security should handle CORS requests securely","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle CORS requests securely"},{"ancestorTitles":["Admin Security Tests","Content Security Policy"],"duration":338,"failureDetails":[],"failureMessages":[],"fullName":"Admin Security Tests Content Security Policy should include CSP headers for XSS protection","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should include CSP headers for XSS protection"}],"endTime":1759562542785,"message":"\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mAdmin Security Tests › Authentication Security › Session Security › should handle concurrent sessions securely\u001b[39m\u001b[22m\n\n    MongoNotConnectedError: Client must be connected before running operations\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 185 |\u001b[39m     checkedOutConnections\u001b[33m:\u001b[39m \u001b[35m0\u001b[39m \u001b[90m// Not directly accessible in newer MongoDB driver\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 186 |\u001b[39m   }\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 187 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 188 |\u001b[39m   \u001b[36mreturn\u001b[39m {\u001b[22m\n\u001b[2m     \u001b[90m 189 |\u001b[39m     connection\u001b[33m:\u001b[39m connectionStatus\u001b[33m,\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 190 |\u001b[39m     stats\u001b[33m:\u001b[39m stats\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat executeOperationAsync (\u001b[22m\u001b[2mnode_modules/mongodb/src/operations/execute_operation.ts\u001b[2m:94:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2mnode_modules/mongodb/src/operations/execute_operation.ts\u001b[2m:79:30\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat maybeCallback (\u001b[22m\u001b[2mnode_modules/mongodb/src/utils.ts\u001b[2m:373:19)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat executeOperation (\u001b[22m\u001b[2mnode_modules/mongodb/src/operations/execute_operation.ts\u001b[2m:79:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Db.stats (\u001b[22m\u001b[2mnode_modules/mongodb/src/db.ts\u001b[2m:310:28)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat getDBMetrics (\u001b[22m\u001b[2msrc/config/db.ts\u001b[2m:187:52)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat PerformanceService.collectMetrics (\u001b[22m\u001b[2msrc/services/performanceService.ts\u001b[2m:51:51)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Timeout._onTimeout (\u001b[22m\u001b[2msrc/services/performanceService.ts\u001b[2m:19:18)\u001b[22m\u001b[2m\u001b[22m\n","name":"C:\\Verbfy\\backend\\src\\__tests__\\security\\adminSecurity.test.ts","startTime":1759562525979,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["Admin Socket.IO Integration Tests","Admin Namespace Authentication"],"duration":126,"failureDetails":[],"failureMessages":[],"fullName":"Admin Socket.IO Integration Tests Admin Namespace Authentication should allow admin users to connect to admin namespace","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should allow admin users to connect to admin namespace"},{"ancestorTitles":["Admin Socket.IO Integration Tests","Admin Namespace Authentication"],"duration":96,"failureDetails":[],"failureMessages":[],"fullName":"Admin Socket.IO Integration Tests Admin Namespace Authentication should reject non-admin users from admin namespace","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should reject non-admin users from admin namespace"},{"ancestorTitles":["Admin Socket.IO Integration Tests","Admin Namespace Authentication"],"duration":100,"failureDetails":[],"failureMessages":[],"fullName":"Admin Socket.IO Integration Tests Admin Namespace Authentication should reject connections without valid token","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should reject connections without valid token"},{"ancestorTitles":["Admin Socket.IO Integration Tests","Admin Namespace Authentication"],"duration":79,"failureDetails":[],"failureMessages":[],"fullName":"Admin Socket.IO Integration Tests Admin Namespace Authentication should reject connections without token","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should reject connections without token"},{"ancestorTitles":["Admin Socket.IO Integration Tests","System Health Notifications"],"duration":89,"failureDetails":[],"failureMessages":[],"fullName":"Admin Socket.IO Integration Tests System Health Notifications should emit system health notifications to admin clients","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"status":"passed","title":"should emit system health notifications to admin clients"},{"ancestorTitles":["Admin Socket.IO Integration Tests","System Health Notifications"],"duration":99,"failureDetails":[],"failureMessages":[],"fullName":"Admin Socket.IO Integration Tests System Health Notifications should handle critical system health alerts","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should handle critical system health alerts"},{"ancestorTitles":["Admin Socket.IO Integration Tests","Security Alert Notifications"],"duration":93,"failureDetails":[],"failureMessages":[],"fullName":"Admin Socket.IO Integration Tests Security Alert Notifications should emit security alerts to admin clients","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should emit security alerts to admin clients"},{"ancestorTitles":["Admin Socket.IO Integration Tests","Security Alert Notifications"],"duration":81,"failureDetails":[],"failureMessages":[],"fullName":"Admin Socket.IO Integration Tests Security Alert Notifications should handle different types of security alerts","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should handle different types of security alerts"},{"ancestorTitles":["Admin Socket.IO Integration Tests","User Activity Notifications"],"duration":83,"failureDetails":[],"failureMessages":[],"fullName":"Admin Socket.IO Integration Tests User Activity Notifications should emit user activity notifications","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should emit user activity notifications"},{"ancestorTitles":["Admin Socket.IO Integration Tests","User Activity Notifications"],"duration":99,"failureDetails":[],"failureMessages":[],"fullName":"Admin Socket.IO Integration Tests User Activity Notifications should handle different user actions","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should handle different user actions"},{"ancestorTitles":["Admin Socket.IO Integration Tests","Payment Notifications"],"duration":81,"failureDetails":[],"failureMessages":[],"fullName":"Admin Socket.IO Integration Tests Payment Notifications should emit payment notifications","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should emit payment notifications"},{"ancestorTitles":["Admin Socket.IO Integration Tests","Payment Notifications"],"duration":79,"failureDetails":[],"failureMessages":[],"fullName":"Admin Socket.IO Integration Tests Payment Notifications should handle payment failures","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle payment failures"},{"ancestorTitles":["Admin Socket.IO Integration Tests","Teacher Notifications"],"duration":80,"failureDetails":[],"failureMessages":[],"fullName":"Admin Socket.IO Integration Tests Teacher Notifications should emit teacher application notifications","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should emit teacher application notifications"},{"ancestorTitles":["Admin Socket.IO Integration Tests","Teacher Notifications"],"duration":83,"failureDetails":[],"failureMessages":[],"fullName":"Admin Socket.IO Integration Tests Teacher Notifications should handle teacher status updates","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should handle teacher status updates"},{"ancestorTitles":["Admin Socket.IO Integration Tests","Multiple Admin Clients"],"duration":138,"failureDetails":[],"failureMessages":[],"fullName":"Admin Socket.IO Integration Tests Multiple Admin Clients should broadcast notifications to all connected admin clients","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should broadcast notifications to all connected admin clients"},{"ancestorTitles":["Admin Socket.IO Integration Tests","Connection Management"],"duration":91,"failureDetails":[],"failureMessages":[],"fullName":"Admin Socket.IO Integration Tests Connection Management should handle client disconnection gracefully","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle client disconnection gracefully"},{"ancestorTitles":["Admin Socket.IO Integration Tests","Connection Management"],"duration":95,"failureDetails":[],"failureMessages":[],"fullName":"Admin Socket.IO Integration Tests Connection Management should handle server-side disconnection","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle server-side disconnection"},{"ancestorTitles":["Admin Socket.IO Integration Tests","Connection Management"],"duration":219,"failureDetails":[],"failureMessages":[],"fullName":"Admin Socket.IO Integration Tests Connection Management should handle reconnection attempts","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle reconnection attempts"},{"ancestorTitles":["Admin Socket.IO Integration Tests","Error Handling"],"duration":82,"failureDetails":[],"failureMessages":[],"fullName":"Admin Socket.IO Integration Tests Error Handling should handle malformed authentication tokens","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle malformed authentication tokens"},{"ancestorTitles":["Admin Socket.IO Integration Tests","Error Handling"],"duration":111,"failureDetails":[],"failureMessages":[],"fullName":"Admin Socket.IO Integration Tests Error Handling should handle expired tokens","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle expired tokens"},{"ancestorTitles":["Admin Socket.IO Integration Tests","Error Handling"],"duration":90,"failureDetails":[],"failureMessages":[],"fullName":"Admin Socket.IO Integration Tests Error Handling should handle database errors during authentication","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle database errors during authentication"},{"ancestorTitles":["Admin Socket.IO Integration Tests","Performance and Load Testing"],"duration":479,"failureDetails":[],"failureMessages":[],"fullName":"Admin Socket.IO Integration Tests Performance and Load Testing should handle multiple simultaneous connections","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle multiple simultaneous connections"},{"ancestorTitles":["Admin Socket.IO Integration Tests","Performance and Load Testing"],"duration":211,"failureDetails":[],"failureMessages":[],"fullName":"Admin Socket.IO Integration Tests Performance and Load Testing should handle rapid notification emissions","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should handle rapid notification emissions"}],"endTime":1759562546508,"message":"","name":"C:\\Verbfy\\backend\\src\\__tests__\\integration\\adminSocketIO.test.ts","startTime":1759562542790,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["API Endpoints Integration","User Management Endpoints"],"duration":238,"failureDetails":[],"failureMessages":[],"fullName":"API Endpoints Integration User Management Endpoints should get user profile","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should get user profile"},{"ancestorTitles":["API Endpoints Integration","User Management Endpoints"],"duration":122,"failureDetails":[],"failureMessages":[],"fullName":"API Endpoints Integration User Management Endpoints should update user profile","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should update user profile"},{"ancestorTitles":["API Endpoints Integration","User Management Endpoints"],"duration":200,"failureDetails":[],"failureMessages":[],"fullName":"API Endpoints Integration User Management Endpoints should get users list (admin only)","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should get users list (admin only)"},{"ancestorTitles":["API Endpoints Integration","Materials Endpoints"],"duration":124,"failureDetails":[],"failureMessages":[],"fullName":"API Endpoints Integration Materials Endpoints should get materials list","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should get materials list"},{"ancestorTitles":["API Endpoints Integration","Materials Endpoints"],"duration":99,"failureDetails":[],"failureMessages":[],"fullName":"API Endpoints Integration Materials Endpoints should create new material","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should create new material"},{"ancestorTitles":["API Endpoints Integration","Materials Endpoints"],"duration":109,"failureDetails":[],"failureMessages":[],"fullName":"API Endpoints Integration Materials Endpoints should update material","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should update material"},{"ancestorTitles":["API Endpoints Integration","Materials Endpoints"],"duration":113,"failureDetails":[],"failureMessages":[],"fullName":"API Endpoints Integration Materials Endpoints should delete material","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should delete material"},{"ancestorTitles":["API Endpoints Integration","Lessons Endpoints"],"duration":130,"failureDetails":[],"failureMessages":[],"fullName":"API Endpoints Integration Lessons Endpoints should get lessons list","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should get lessons list"},{"ancestorTitles":["API Endpoints Integration","Lessons Endpoints"],"duration":107,"failureDetails":[],"failureMessages":[],"fullName":"API Endpoints Integration Lessons Endpoints should create new lesson","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should create new lesson"},{"ancestorTitles":["API Endpoints Integration","Lessons Endpoints"],"duration":116,"failureDetails":[],"failureMessages":[],"fullName":"API Endpoints Integration Lessons Endpoints should start lesson session","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should start lesson session"},{"ancestorTitles":["API Endpoints Integration","Error Handling"],"duration":96,"failureDetails":[],"failureMessages":[],"fullName":"API Endpoints Integration Error Handling should handle 404 for non-existent routes","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle 404 for non-existent routes"},{"ancestorTitles":["API Endpoints Integration","Error Handling"],"duration":77,"failureDetails":[],"failureMessages":[],"fullName":"API Endpoints Integration Error Handling should handle 500 for server errors","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle 500 for server errors"},{"ancestorTitles":["API Endpoints Integration","Error Handling"],"duration":115,"failureDetails":[],"failureMessages":[],"fullName":"API Endpoints Integration Error Handling should handle validation errors","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle validation errors"},{"ancestorTitles":["API Endpoints Integration","Authentication and Authorization"],"duration":111,"failureDetails":[],"failureMessages":[],"fullName":"API Endpoints Integration Authentication and Authorization should require authentication for protected routes","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should require authentication for protected routes"},{"ancestorTitles":["API Endpoints Integration","Authentication and Authorization"],"duration":106,"failureDetails":[],"failureMessages":[],"fullName":"API Endpoints Integration Authentication and Authorization should handle invalid tokens","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle invalid tokens"},{"ancestorTitles":["API Endpoints Integration","Authentication and Authorization"],"duration":183,"failureDetails":[],"failureMessages":[],"fullName":"API Endpoints Integration Authentication and Authorization should enforce role-based access","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should enforce role-based access"}],"endTime":1759562549620,"message":"","name":"C:\\Verbfy\\backend\\src\\__tests__\\integration\\api-endpoints.test.ts","startTime":1759562546514,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Admin Controller","GET /admin/overview"],"duration":244,"failureDetails":[],"failureMessages":[],"fullName":"Admin Controller GET /admin/overview should return dashboard data for admin users","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should return dashboard data for admin users"},{"ancestorTitles":["Admin Controller","GET /admin/overview"],"duration":68,"failureDetails":[],"failureMessages":[],"fullName":"Admin Controller GET /admin/overview should deny access to non-admin users","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should deny access to non-admin users"},{"ancestorTitles":["Admin Controller","GET /admin/overview"],"duration":50,"failureDetails":[],"failureMessages":[],"fullName":"Admin Controller GET /admin/overview should deny access without authentication","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should deny access without authentication"},{"ancestorTitles":["Admin Controller","PATCH /admin/users/:id/role"],"duration":74,"failureDetails":[],"failureMessages":[],"fullName":"Admin Controller PATCH /admin/users/:id/role should update user role successfully and emit notification","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should update user role successfully and emit notification"},{"ancestorTitles":["Admin Controller","PATCH /admin/users/:id/role"],"duration":52,"failureDetails":[],"failureMessages":[],"fullName":"Admin Controller PATCH /admin/users/:id/role should reject invalid roles","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should reject invalid roles"},{"ancestorTitles":["Admin Controller","PATCH /admin/users/:id/role"],"duration":58,"failureDetails":[],"failureMessages":[],"fullName":"Admin Controller PATCH /admin/users/:id/role should return 404 for non-existent user","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should return 404 for non-existent user"},{"ancestorTitles":["Admin Controller","PATCH /admin/users/:id/role"],"duration":52,"failureDetails":[],"failureMessages":[],"fullName":"Admin Controller PATCH /admin/users/:id/role should deny access to non-admin users","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should deny access to non-admin users"},{"ancestorTitles":["Admin Controller","PATCH /admin/users/:id/status"],"duration":77,"failureDetails":[],"failureMessages":[],"fullName":"Admin Controller PATCH /admin/users/:id/status should update user status successfully and emit notification","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should update user status successfully and emit notification"},{"ancestorTitles":["Admin Controller","PATCH /admin/users/:id/status"],"duration":50,"failureDetails":[],"failureMessages":[],"fullName":"Admin Controller PATCH /admin/users/:id/status should reject invalid status values","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should reject invalid status values"},{"ancestorTitles":["Admin Controller","PATCH /admin/users/:id/status"],"duration":53,"failureDetails":[],"failureMessages":[],"fullName":"Admin Controller PATCH /admin/users/:id/status should return 404 for non-existent user","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should return 404 for non-existent user"},{"ancestorTitles":["Admin Controller","DELETE /admin/users/:id"],"duration":83,"failureDetails":[],"failureMessages":[],"fullName":"Admin Controller DELETE /admin/users/:id should delete user successfully and emit notification","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should delete user successfully and emit notification"},{"ancestorTitles":["Admin Controller","DELETE /admin/users/:id"],"duration":54,"failureDetails":[],"failureMessages":[],"fullName":"Admin Controller DELETE /admin/users/:id should return 404 for non-existent user","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should return 404 for non-existent user"},{"ancestorTitles":["Admin Controller","DELETE /admin/users/:id"],"duration":59,"failureDetails":[],"failureMessages":[],"fullName":"Admin Controller DELETE /admin/users/:id should deny access to non-admin users","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should deny access to non-admin users"},{"ancestorTitles":["Admin Controller","PATCH /admin/teachers/:id/approve"],"duration":114,"failureDetails":[],"failureMessages":[],"fullName":"Admin Controller PATCH /admin/teachers/:id/approve should approve teacher successfully and emit notification","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should approve teacher successfully and emit notification"},{"ancestorTitles":["Admin Controller","PATCH /admin/teachers/:id/approve"],"duration":63,"failureDetails":[],"failureMessages":[],"fullName":"Admin Controller PATCH /admin/teachers/:id/approve should return 404 for non-existent teacher","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should return 404 for non-existent teacher"},{"ancestorTitles":["Admin Controller","PATCH /admin/teachers/:id/reject"],"duration":105,"failureDetails":[],"failureMessages":[],"fullName":"Admin Controller PATCH /admin/teachers/:id/reject should reject teacher successfully and emit notification","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should reject teacher successfully and emit notification"},{"ancestorTitles":["Admin Controller","PATCH /admin/teachers/:id/reject"],"duration":66,"failureDetails":[],"failureMessages":[],"fullName":"Admin Controller PATCH /admin/teachers/:id/reject should require rejection reason","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should require rejection reason"},{"ancestorTitles":["Admin Controller","GET /admin/system/health"],"duration":68,"failureDetails":[],"failureMessages":[],"fullName":"Admin Controller GET /admin/system/health should return system health information","invocations":1,"location":null,"numPassingAsserts":7,"retryReasons":[],"status":"passed","title":"should return system health information"},{"ancestorTitles":["Admin Controller","GET /admin/system/health"],"duration":52,"failureDetails":[],"failureMessages":[],"fullName":"Admin Controller GET /admin/system/health should deny access to non-admin users","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should deny access to non-admin users"},{"ancestorTitles":["Admin Controller","Error Handling"],"duration":62,"failureDetails":[],"failureMessages":[],"fullName":"Admin Controller Error Handling should handle invalid ObjectId format","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should handle invalid ObjectId format"},{"ancestorTitles":["Admin Controller","Error Handling"],"duration":54,"failureDetails":[],"failureMessages":[],"fullName":"Admin Controller Error Handling should handle missing required fields","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should handle missing required fields"},{"ancestorTitles":["Admin Controller","Authorization"],"duration":77,"failureDetails":[],"failureMessages":[],"fullName":"Admin Controller Authorization should require valid JWT token","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should require valid JWT token"},{"ancestorTitles":["Admin Controller","Authorization"],"duration":171,"failureDetails":[],"failureMessages":[],"fullName":"Admin Controller Authorization should require admin role for all admin endpoints","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should require admin role for all admin endpoints"}],"endTime":1759562552483,"message":"","name":"C:\\Verbfy\\backend\\src\\__tests__\\controllers\\adminController.test.ts","startTime":1759562549625,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Auth Controller","POST /auth/register"],"duration":124,"failureDetails":[],"failureMessages":[],"fullName":"Auth Controller POST /auth/register should register a new user successfully","invocations":1,"location":null,"numPassingAsserts":8,"retryReasons":[],"status":"passed","title":"should register a new user successfully"},{"ancestorTitles":["Auth Controller","POST /auth/register"],"duration":106,"failureDetails":[],"failureMessages":[],"fullName":"Auth Controller POST /auth/register should not register user with existing email","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should not register user with existing email"},{"ancestorTitles":["Auth Controller","POST /auth/register"],"duration":19,"failureDetails":[],"failureMessages":[],"fullName":"Auth Controller POST /auth/register should validate required fields","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should validate required fields"},{"ancestorTitles":["Auth Controller","POST /auth/register"],"duration":19,"failureDetails":[],"failureMessages":[],"fullName":"Auth Controller POST /auth/register should validate email format","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should validate email format"},{"ancestorTitles":["Auth Controller","POST /auth/register"],"duration":18,"failureDetails":[],"failureMessages":[],"fullName":"Auth Controller POST /auth/register should validate password strength","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should validate password strength"},{"ancestorTitles":["Auth Controller","POST /auth/login"],"duration":158,"failureDetails":[],"failureMessages":[],"fullName":"Auth Controller POST /auth/login should login user with correct credentials","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should login user with correct credentials"},{"ancestorTitles":["Auth Controller","POST /auth/login"],"duration":153,"failureDetails":[],"failureMessages":[],"fullName":"Auth Controller POST /auth/login should not login with incorrect password","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should not login with incorrect password"},{"ancestorTitles":["Auth Controller","POST /auth/login"],"duration":89,"failureDetails":[],"failureMessages":[],"fullName":"Auth Controller POST /auth/login should not login with non-existent email","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should not login with non-existent email"},{"ancestorTitles":["Auth Controller","POST /auth/login"],"duration":88,"failureDetails":[],"failureMessages":[],"fullName":"Auth Controller POST /auth/login should validate required fields","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should validate required fields"},{"ancestorTitles":["Auth Controller","GET /auth/profile"],"duration":87,"failureDetails":[],"failureMessages":[],"fullName":"Auth Controller GET /auth/profile should get user profile with valid token","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should get user profile with valid token"},{"ancestorTitles":["Auth Controller","GET /auth/profile"],"duration":83,"failureDetails":[],"failureMessages":[],"fullName":"Auth Controller GET /auth/profile should not get profile without token","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should not get profile without token"},{"ancestorTitles":["Auth Controller","GET /auth/profile"],"duration":81,"failureDetails":[],"failureMessages":[],"fullName":"Auth Controller GET /auth/profile should not get profile with invalid token","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should not get profile with invalid token"},{"ancestorTitles":["Auth Controller","POST /auth/logout"],"duration":13,"failureDetails":[],"failureMessages":[],"fullName":"Auth Controller POST /auth/logout should logout successfully","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should logout successfully"}],"endTime":1759562554403,"message":"","name":"C:\\Verbfy\\backend\\src\\__tests__\\controllers\\authController.test.ts","startTime":1759562552489,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["AdminNotificationService","emitSystemHealth"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"AdminNotificationService emitSystemHealth should emit system health notification to admin namespace","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should emit system health notification to admin namespace"},{"ancestorTitles":["AdminNotificationService","emitSystemHealth"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"AdminNotificationService emitSystemHealth should emit to all connected admin clients","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should emit to all connected admin clients"}],"endTime":1759562555040,"message":"","name":"C:\\Verbfy\\backend\\src\\__tests__\\services\\adminNotificationService.test.ts","startTime":1759562554407,"status":"passed","summary":""}],"wasInterrupted":false}
