{"numFailedTestSuites":0,"numFailedTests":0,"numPassedTestSuites":4,"numPassedTests":67,"numPendingTestSuites":0,"numPendingTests":0,"numRuntimeErrorTestSuites":0,"numTodoTests":0,"numTotalTestSuites":4,"numTotalTests":67,"openHandles":[],"snapshot":{"added":0,"didUpdate":false,"failure":false,"filesAdded":0,"filesRemoved":0,"filesRemovedList":[],"filesUnmatched":0,"filesUpdated":0,"matched":0,"total":0,"unchecked":0,"uncheckedKeysByFile":[],"unmatched":0,"updated":0},"startTime":1761623652611,"success":true,"testResults":[{"assertionResults":[{"ancestorTitles":["Admin Auth Controller","POST /admin/auth/login"],"duration":772,"failureDetails":[],"failureMessages":[],"fullName":"Admin Auth Controller POST /admin/auth/login should login admin user successfully","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"status":"passed","title":"should login admin user successfully"},{"ancestorTitles":["Admin Auth Controller","POST /admin/auth/login"],"duration":471,"failureDetails":[],"failureMessages":[],"fullName":"Admin Auth Controller POST /admin/auth/login should reject login for non-admin users and emit security alert","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should reject login for non-admin users and emit security alert"},{"ancestorTitles":["Admin Auth Controller","POST /admin/auth/login"],"duration":699,"failureDetails":[],"failureMessages":[],"fullName":"Admin Auth Controller POST /admin/auth/login should reject login with invalid password and emit security alert","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should reject login with invalid password and emit security alert"},{"ancestorTitles":["Admin Auth Controller","POST /admin/auth/login"],"duration":468,"failureDetails":[],"failureMessages":[],"fullName":"Admin Auth Controller POST /admin/auth/login should reject login with non-existent email","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should reject login with non-existent email"},{"ancestorTitles":["Admin Auth Controller","POST /admin/auth/login"],"duration":474,"failureDetails":[],"failureMessages":[],"fullName":"Admin Auth Controller POST /admin/auth/login should validate required fields","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should validate required fields"},{"ancestorTitles":["Admin Auth Controller","POST /admin/auth/login"],"duration":465,"failureDetails":[],"failureMessages":[],"fullName":"Admin Auth Controller POST /admin/auth/login should validate email format","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should validate email format"},{"ancestorTitles":["Admin Auth Controller","POST /admin/auth/login"],"duration":690,"failureDetails":[],"failureMessages":[],"fullName":"Admin Auth Controller POST /admin/auth/login should handle case-insensitive email login","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle case-insensitive email login"},{"ancestorTitles":["Admin Auth Controller","POST /admin/auth/login"],"duration":690,"failureDetails":[],"failureMessages":[],"fullName":"Admin Auth Controller POST /admin/auth/login should include user information in response","invocations":1,"location":null,"numPassingAsserts":7,"retryReasons":[],"status":"passed","title":"should include user information in response"},{"ancestorTitles":["Admin Auth Controller","POST /admin/auth/login"],"duration":712,"failureDetails":[],"failureMessages":[],"fullName":"Admin Auth Controller POST /admin/auth/login should generate valid JWT tokens","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should generate valid JWT tokens"},{"ancestorTitles":["Admin Auth Controller","POST /admin/auth/refresh"],"duration":485,"failureDetails":[],"failureMessages":[],"fullName":"Admin Auth Controller POST /admin/auth/refresh should refresh token successfully","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should refresh token successfully"},{"ancestorTitles":["Admin Auth Controller","POST /admin/auth/refresh"],"duration":462,"failureDetails":[],"failureMessages":[],"fullName":"Admin Auth Controller POST /admin/auth/refresh should reject invalid refresh token","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should reject invalid refresh token"},{"ancestorTitles":["Admin Auth Controller","POST /admin/auth/refresh"],"duration":462,"failureDetails":[],"failureMessages":[],"fullName":"Admin Auth Controller POST /admin/auth/refresh should reject expired refresh token","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should reject expired refresh token"},{"ancestorTitles":["Admin Auth Controller","POST /admin/auth/refresh"],"duration":463,"failureDetails":[],"failureMessages":[],"fullName":"Admin Auth Controller POST /admin/auth/refresh should reject refresh token for non-existent user","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should reject refresh token for non-existent user"},{"ancestorTitles":["Admin Auth Controller","POST /admin/auth/refresh"],"duration":471,"failureDetails":[],"failureMessages":[],"fullName":"Admin Auth Controller POST /admin/auth/refresh should reject refresh token for non-admin user","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should reject refresh token for non-admin user"},{"ancestorTitles":["Admin Auth Controller","POST /admin/auth/refresh"],"duration":463,"failureDetails":[],"failureMessages":[],"fullName":"Admin Auth Controller POST /admin/auth/refresh should require refresh token in request body","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should require refresh token in request body"},{"ancestorTitles":["Admin Auth Controller","POST /admin/auth/logout"],"duration":469,"failureDetails":[],"failureMessages":[],"fullName":"Admin Auth Controller POST /admin/auth/logout should logout successfully","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should logout successfully"},{"ancestorTitles":["Admin Auth Controller","POST /admin/auth/logout"],"duration":460,"failureDetails":[],"failureMessages":[],"fullName":"Admin Auth Controller POST /admin/auth/logout should require authentication","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should require authentication"},{"ancestorTitles":["Admin Auth Controller","POST /admin/auth/logout"],"duration":460,"failureDetails":[],"failureMessages":[],"fullName":"Admin Auth Controller POST /admin/auth/logout should reject invalid token","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should reject invalid token"},{"ancestorTitles":["Admin Auth Controller","Security Features"],"duration":1669,"failureDetails":[],"failureMessages":[],"fullName":"Admin Auth Controller Security Features should handle multiple failed login attempts","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should handle multiple failed login attempts"},{"ancestorTitles":["Admin Auth Controller","Security Features"],"duration":466,"failureDetails":[],"failureMessages":[],"fullName":"Admin Auth Controller Security Features should handle SQL injection attempts in email field","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should handle SQL injection attempts in email field"},{"ancestorTitles":["Admin Auth Controller","Security Features"],"duration":460,"failureDetails":[],"failureMessages":[],"fullName":"Admin Auth Controller Security Features should handle XSS attempts in input fields","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should handle XSS attempts in input fields"},{"ancestorTitles":["Admin Auth Controller","Security Features"],"duration":691,"failureDetails":[],"failureMessages":[],"fullName":"Admin Auth Controller Security Features should not reveal user existence for invalid emails","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should not reveal user existence for invalid emails"},{"ancestorTitles":["Admin Auth Controller","Rate Limiting and Brute Force Protection"],"duration":1222,"failureDetails":[],"failureMessages":[],"fullName":"Admin Auth Controller Rate Limiting and Brute Force Protection should handle rapid successive login attempts","invocations":1,"location":null,"numPassingAsserts":10,"retryReasons":[],"status":"passed","title":"should handle rapid successive login attempts"},{"ancestorTitles":["Admin Auth Controller","Error Handling"],"duration":468,"failureDetails":[],"failureMessages":[],"fullName":"Admin Auth Controller Error Handling should handle database connection errors gracefully","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should handle database connection errors gracefully"},{"ancestorTitles":["Admin Auth Controller","Error Handling"],"duration":475,"failureDetails":[],"failureMessages":[],"fullName":"Admin Auth Controller Error Handling should handle bcrypt comparison errors","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should handle bcrypt comparison errors"},{"ancestorTitles":["Admin Auth Controller","Error Handling"],"duration":688,"failureDetails":[],"failureMessages":[],"fullName":"Admin Auth Controller Error Handling should handle JWT signing errors","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should handle JWT signing errors"},{"ancestorTitles":["Admin Auth Controller","Input Validation"],"duration":474,"failureDetails":[],"failureMessages":[],"fullName":"Admin Auth Controller Input Validation should validate email format strictly","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should validate email format strictly"},{"ancestorTitles":["Admin Auth Controller","Input Validation"],"duration":465,"failureDetails":[],"failureMessages":[],"fullName":"Admin Auth Controller Input Validation should validate password requirements","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should validate password requirements"},{"ancestorTitles":["Admin Auth Controller","Input Validation"],"duration":463,"failureDetails":[],"failureMessages":[],"fullName":"Admin Auth Controller Input Validation should handle extremely long input values","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should handle extremely long input values"}],"endTime":1761623671994,"message":"","name":"C:\\Verbfy\\backend\\src\\__tests__\\controllers\\adminAuthController.test.ts","startTime":1761623652956,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Auth email flows"],"duration":42,"failureDetails":[],"failureMessages":[],"fullName":"Auth email flows forgot password responds OK even for unknown email","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"forgot password responds OK even for unknown email"},{"ancestorTitles":["Auth email flows"],"duration":58,"failureDetails":[],"failureMessages":[],"fullName":"Auth email flows verify email with invalid token fails","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"verify email with invalid token fails"}],"endTime":1761623674353,"message":"","name":"C:\\Verbfy\\backend\\src\\__tests__\\controllers\\auth-email.test.ts","startTime":1761623672002,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Auth Controller","POST /auth/register"],"duration":119,"failureDetails":[],"failureMessages":[],"fullName":"Auth Controller POST /auth/register should register a new user successfully","invocations":1,"location":null,"numPassingAsserts":8,"retryReasons":[],"status":"passed","title":"should register a new user successfully"},{"ancestorTitles":["Auth Controller","POST /auth/register"],"duration":84,"failureDetails":[],"failureMessages":[],"fullName":"Auth Controller POST /auth/register should not register user with existing email","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should not register user with existing email"},{"ancestorTitles":["Auth Controller","POST /auth/register"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"Auth Controller POST /auth/register should validate required fields","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should validate required fields"},{"ancestorTitles":["Auth Controller","POST /auth/register"],"duration":7,"failureDetails":[],"failureMessages":[],"fullName":"Auth Controller POST /auth/register should validate email format","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should validate email format"},{"ancestorTitles":["Auth Controller","POST /auth/register"],"duration":7,"failureDetails":[],"failureMessages":[],"fullName":"Auth Controller POST /auth/register should validate password strength","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should validate password strength"},{"ancestorTitles":["Auth Controller","POST /auth/login"],"duration":143,"failureDetails":[],"failureMessages":[],"fullName":"Auth Controller POST /auth/login should login user with correct credentials","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should login user with correct credentials"},{"ancestorTitles":["Auth Controller","POST /auth/login"],"duration":127,"failureDetails":[],"failureMessages":[],"fullName":"Auth Controller POST /auth/login should not login with incorrect password","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should not login with incorrect password"},{"ancestorTitles":["Auth Controller","POST /auth/login"],"duration":68,"failureDetails":[],"failureMessages":[],"fullName":"Auth Controller POST /auth/login should not login with non-existent email","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should not login with non-existent email"},{"ancestorTitles":["Auth Controller","POST /auth/login"],"duration":65,"failureDetails":[],"failureMessages":[],"fullName":"Auth Controller POST /auth/login should validate required fields","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should validate required fields"},{"ancestorTitles":["Auth Controller","GET /auth/profile"],"duration":72,"failureDetails":[],"failureMessages":[],"fullName":"Auth Controller GET /auth/profile should get user profile with valid token","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should get user profile with valid token"},{"ancestorTitles":["Auth Controller","GET /auth/profile"],"duration":68,"failureDetails":[],"failureMessages":[],"fullName":"Auth Controller GET /auth/profile should not get profile without token","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should not get profile without token"},{"ancestorTitles":["Auth Controller","GET /auth/profile"],"duration":69,"failureDetails":[],"failureMessages":[],"fullName":"Auth Controller GET /auth/profile should not get profile with invalid token","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should not get profile with invalid token"},{"ancestorTitles":["Auth Controller","POST /auth/logout"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"Auth Controller POST /auth/logout should logout successfully","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should logout successfully"}],"endTime":1761623676070,"message":"","name":"C:\\Verbfy\\backend\\src\\__tests__\\controllers\\authController.test.ts","startTime":1761623674360,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Admin Controller","GET /admin/overview"],"duration":68,"failureDetails":[],"failureMessages":[],"fullName":"Admin Controller GET /admin/overview should return dashboard data for admin users","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should return dashboard data for admin users"},{"ancestorTitles":["Admin Controller","GET /admin/overview"],"duration":17,"failureDetails":[],"failureMessages":[],"fullName":"Admin Controller GET /admin/overview should deny access to non-admin users","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should deny access to non-admin users"},{"ancestorTitles":["Admin Controller","GET /admin/overview"],"duration":13,"failureDetails":[],"failureMessages":[],"fullName":"Admin Controller GET /admin/overview should deny access without authentication","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should deny access without authentication"},{"ancestorTitles":["Admin Controller","PATCH /admin/users/:id/role"],"duration":38,"failureDetails":[],"failureMessages":[],"fullName":"Admin Controller PATCH /admin/users/:id/role should update user role successfully and emit notification","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should update user role successfully and emit notification"},{"ancestorTitles":["Admin Controller","PATCH /admin/users/:id/role"],"duration":15,"failureDetails":[],"failureMessages":[],"fullName":"Admin Controller PATCH /admin/users/:id/role should reject invalid roles","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should reject invalid roles"},{"ancestorTitles":["Admin Controller","PATCH /admin/users/:id/role"],"duration":22,"failureDetails":[],"failureMessages":[],"fullName":"Admin Controller PATCH /admin/users/:id/role should return 404 for non-existent user","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should return 404 for non-existent user"},{"ancestorTitles":["Admin Controller","PATCH /admin/users/:id/role"],"duration":16,"failureDetails":[],"failureMessages":[],"fullName":"Admin Controller PATCH /admin/users/:id/role should deny access to non-admin users","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should deny access to non-admin users"},{"ancestorTitles":["Admin Controller","PATCH /admin/users/:id/status"],"duration":25,"failureDetails":[],"failureMessages":[],"fullName":"Admin Controller PATCH /admin/users/:id/status should update user status successfully and emit notification","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should update user status successfully and emit notification"},{"ancestorTitles":["Admin Controller","PATCH /admin/users/:id/status"],"duration":20,"failureDetails":[],"failureMessages":[],"fullName":"Admin Controller PATCH /admin/users/:id/status should reject invalid status values","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should reject invalid status values"},{"ancestorTitles":["Admin Controller","PATCH /admin/users/:id/status"],"duration":21,"failureDetails":[],"failureMessages":[],"fullName":"Admin Controller PATCH /admin/users/:id/status should return 404 for non-existent user","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should return 404 for non-existent user"},{"ancestorTitles":["Admin Controller","DELETE /admin/users/:id"],"duration":30,"failureDetails":[],"failureMessages":[],"fullName":"Admin Controller DELETE /admin/users/:id should delete user successfully and emit notification","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should delete user successfully and emit notification"},{"ancestorTitles":["Admin Controller","DELETE /admin/users/:id"],"duration":20,"failureDetails":[],"failureMessages":[],"fullName":"Admin Controller DELETE /admin/users/:id should return 404 for non-existent user","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should return 404 for non-existent user"},{"ancestorTitles":["Admin Controller","DELETE /admin/users/:id"],"duration":15,"failureDetails":[],"failureMessages":[],"fullName":"Admin Controller DELETE /admin/users/:id should deny access to non-admin users","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should deny access to non-admin users"},{"ancestorTitles":["Admin Controller","PATCH /admin/teachers/:id/approve"],"duration":33,"failureDetails":[],"failureMessages":[],"fullName":"Admin Controller PATCH /admin/teachers/:id/approve should approve teacher successfully and emit notification","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should approve teacher successfully and emit notification"},{"ancestorTitles":["Admin Controller","PATCH /admin/teachers/:id/approve"],"duration":18,"failureDetails":[],"failureMessages":[],"fullName":"Admin Controller PATCH /admin/teachers/:id/approve should return 404 for non-existent teacher","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should return 404 for non-existent teacher"},{"ancestorTitles":["Admin Controller","PATCH /admin/teachers/:id/reject"],"duration":34,"failureDetails":[],"failureMessages":[],"fullName":"Admin Controller PATCH /admin/teachers/:id/reject should reject teacher successfully and emit notification","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should reject teacher successfully and emit notification"},{"ancestorTitles":["Admin Controller","PATCH /admin/teachers/:id/reject"],"duration":19,"failureDetails":[],"failureMessages":[],"fullName":"Admin Controller PATCH /admin/teachers/:id/reject should require rejection reason","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should require rejection reason"},{"ancestorTitles":["Admin Controller","GET /admin/system/health"],"duration":23,"failureDetails":[],"failureMessages":[],"fullName":"Admin Controller GET /admin/system/health should return system health information","invocations":1,"location":null,"numPassingAsserts":7,"retryReasons":[],"status":"passed","title":"should return system health information"},{"ancestorTitles":["Admin Controller","GET /admin/system/health"],"duration":24,"failureDetails":[],"failureMessages":[],"fullName":"Admin Controller GET /admin/system/health should deny access to non-admin users","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should deny access to non-admin users"},{"ancestorTitles":["Admin Controller","Error Handling"],"duration":27,"failureDetails":[],"failureMessages":[],"fullName":"Admin Controller Error Handling should handle invalid ObjectId format","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should handle invalid ObjectId format"},{"ancestorTitles":["Admin Controller","Error Handling"],"duration":17,"failureDetails":[],"failureMessages":[],"fullName":"Admin Controller Error Handling should handle missing required fields","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should handle missing required fields"},{"ancestorTitles":["Admin Controller","Authorization"],"duration":13,"failureDetails":[],"failureMessages":[],"fullName":"Admin Controller Authorization should require valid JWT token","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should require valid JWT token"},{"ancestorTitles":["Admin Controller","Authorization"],"duration":39,"failureDetails":[],"failureMessages":[],"fullName":"Admin Controller Authorization should require admin role for all admin endpoints","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should require admin role for all admin endpoints"}],"endTime":1761623677604,"message":"","name":"C:\\Verbfy\\backend\\src\\__tests__\\controllers\\adminController.test.ts","startTime":1761623676074,"status":"passed","summary":""}],"wasInterrupted":false}
