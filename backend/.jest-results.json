{"numFailedTestSuites":3,"numFailedTests":29,"numPassedTestSuites":5,"numPassedTests":112,"numPendingTestSuites":0,"numPendingTests":0,"numRuntimeErrorTestSuites":1,"numTodoTests":0,"numTotalTestSuites":8,"numTotalTests":141,"openHandles":[],"snapshot":{"added":0,"didUpdate":false,"failure":false,"filesAdded":0,"filesRemoved":0,"filesRemovedList":[],"filesUnmatched":0,"filesUpdated":0,"matched":0,"total":0,"unchecked":0,"uncheckedKeysByFile":[],"unmatched":0,"updated":0},"startTime":1759530204087,"success":false,"testResults":[{"assertionResults":[{"ancestorTitles":["Admin Security Tests","Authentication Security","Password Security"],"duration":661,"failureDetails":[],"failureMessages":[],"fullName":"Admin Security Tests Authentication Security Password Security should reject weak passwords during admin creation","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"status":"passed","title":"should reject weak passwords during admin creation"},{"ancestorTitles":["Admin Security Tests","Authentication Security","Password Security"],"duration":385,"failureDetails":[{}],"failureMessages":["Error: expected 400 \"Bad Request\", got 429 \"Too Many Requests\"\n    at Object.<anonymous> (C:\\Verbfy\\backend\\src\\__tests__\\security\\adminSecurity.test.ts:118:26)\n    at Promise.then.completed (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Verbfy\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Verbfy\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n----\n    at Test._assertStatus (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:309:14)\n    at C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:365:13\n    at Test._assertFunction (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:342:13)\n    at Test.assert (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:195:23)\n    at localAssert (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:138:14)\n    at Server.<anonymous> (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:152:11)\n    at Object.onceWrapper (node:events:632:28)\n    at Server.emit (node:events:518:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"Admin Security Tests Authentication Security Password Security should enforce password complexity requirements","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should enforce password complexity requirements"},{"ancestorTitles":["Admin Security Tests","Authentication Security","Password Security"],"duration":853,"failureDetails":[{"matcherResult":{"actual":false,"expected":true,"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32mtrue\u001b[39m\nReceived: \u001b[31mfalse\u001b[39m","name":"toBe","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32mtrue\u001b[39m\nReceived: \u001b[31mfalse\u001b[39m\n    at Object.<anonymous> (C:\\Verbfy\\backend\\src\\__tests__\\security\\adminSecurity.test.ts:127:77)"],"fullName":"Admin Security Tests Authentication Security Password Security should hash passwords securely","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"failed","title":"should hash passwords securely"},{"ancestorTitles":["Admin Security Tests","Authentication Security","JWT Security"],"duration":367,"failureDetails":[{}],"failureMessages":["Error: expected 200 \"OK\", got 429 \"Too Many Requests\"\n    at Object.<anonymous> (C:\\Verbfy\\backend\\src\\__tests__\\security\\adminSecurity.test.ts:144:22)\n    at Promise.then.completed (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Verbfy\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Verbfy\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n----\n    at Test._assertStatus (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:309:14)\n    at C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:365:13\n    at Test._assertFunction (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:342:13)\n    at Test.assert (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:195:23)\n    at localAssert (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:138:14)\n    at Server.<anonymous> (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:152:11)\n    at Object.onceWrapper (node:events:632:28)\n    at Server.emit (node:events:518:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"Admin Security Tests Authentication Security JWT Security should generate secure JWT tokens","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should generate secure JWT tokens"},{"ancestorTitles":["Admin Security Tests","Authentication Security","JWT Security"],"duration":381,"failureDetails":[],"failureMessages":[],"fullName":"Admin Security Tests Authentication Security JWT Security should reject tampered JWT tokens","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should reject tampered JWT tokens"},{"ancestorTitles":["Admin Security Tests","Authentication Security","JWT Security"],"duration":514,"failureDetails":[],"failureMessages":[],"fullName":"Admin Security Tests Authentication Security JWT Security should reject expired JWT tokens","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should reject expired JWT tokens"},{"ancestorTitles":["Admin Security Tests","Authentication Security","JWT Security"],"duration":408,"failureDetails":[],"failureMessages":[],"fullName":"Admin Security Tests Authentication Security JWT Security should reject tokens with invalid signature","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should reject tokens with invalid signature"},{"ancestorTitles":["Admin Security Tests","Authentication Security","JWT Security"],"duration":420,"failureDetails":[],"failureMessages":[],"fullName":"Admin Security Tests Authentication Security JWT Security should reject tokens with missing required claims","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should reject tokens with missing required claims"},{"ancestorTitles":["Admin Security Tests","Authentication Security","Rate Limiting"],"duration":356,"failureDetails":[{}],"failureMessages":["Error: expected 401 \"Unauthorized\", got 429 \"Too Many Requests\"\n    at Object.<anonymous> (C:\\Verbfy\\backend\\src\\__tests__\\security\\adminSecurity.test.ts:194:26)\n    at Promise.then.completed (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Verbfy\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Verbfy\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n----\n    at Test._assertStatus (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:309:14)\n    at C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:365:13\n    at Test._assertFunction (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:342:13)\n    at Test.assert (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:195:23)\n    at localAssert (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:138:14)\n    at Server.<anonymous> (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:152:11)\n    at Object.onceWrapper (node:events:632:28)\n    at Server.emit (node:events:518:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"Admin Security Tests Authentication Security Rate Limiting should enforce rate limiting on login attempts","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should enforce rate limiting on login attempts"},{"ancestorTitles":["Admin Security Tests","Authentication Security","Rate Limiting"],"duration":378,"failureDetails":[{}],"failureMessages":["Error: expected 401 \"Unauthorized\", got 429 \"Too Many Requests\"\n    at Object.<anonymous> (C:\\Verbfy\\backend\\src\\__tests__\\security\\adminSecurity.test.ts:212:26)\n    at Promise.then.completed (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Verbfy\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Verbfy\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n----\n    at Test._assertStatus (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:309:14)\n    at C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:365:13\n    at Test._assertFunction (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:342:13)\n    at Test.assert (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:195:23)\n    at localAssert (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:138:14)\n    at Server.<anonymous> (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:152:11)\n    at Object.onceWrapper (node:events:632:28)\n    at Server.emit (node:events:518:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"Admin Security Tests Authentication Security Rate Limiting should reset rate limit after time window","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should reset rate limit after time window"},{"ancestorTitles":["Admin Security Tests","Authentication Security","Session Security"],"duration":429,"failureDetails":[{}],"failureMessages":["Error: expected 200 \"OK\", got 429 \"Too Many Requests\"\n    at Object.<anonymous> (C:\\Verbfy\\backend\\src\\__tests__\\security\\adminSecurity.test.ts:232:22)\n    at Promise.then.completed (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Verbfy\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Verbfy\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n----\n    at Test._assertStatus (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:309:14)\n    at C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:365:13\n    at Test._assertFunction (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:342:13)\n    at Test.assert (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:195:23)\n    at localAssert (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:138:14)\n    at Server.<anonymous> (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:152:11)\n    at Object.onceWrapper (node:events:632:28)\n    at Server.emit (node:events:518:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"Admin Security Tests Authentication Security Session Security should invalidate tokens on logout","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should invalidate tokens on logout"},{"ancestorTitles":["Admin Security Tests","Authentication Security","Session Security"],"duration":399,"failureDetails":[{}],"failureMessages":["Error: expected 200 \"OK\", got 429 \"Too Many Requests\"\n    at Object.<anonymous> (C:\\Verbfy\\backend\\src\\__tests__\\security\\adminSecurity.test.ts:259:22)\n    at Promise.then.completed (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Verbfy\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Verbfy\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n----\n    at Test._assertStatus (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:309:14)\n    at C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:365:13\n    at Test._assertFunction (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:342:13)\n    at Test.assert (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:195:23)\n    at localAssert (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:138:14)\n    at Server.<anonymous> (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:152:11)\n    at Object.onceWrapper (node:events:632:28)\n    at Server.emit (node:events:518:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"Admin Security Tests Authentication Security Session Security should handle concurrent sessions securely","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should handle concurrent sessions securely"},{"ancestorTitles":["Admin Security Tests","Authorization Security","Role-Based Access Control"],"duration":428,"failureDetails":[],"failureMessages":[],"fullName":"Admin Security Tests Authorization Security Role-Based Access Control should deny access to non-admin users","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should deny access to non-admin users"},{"ancestorTitles":["Admin Security Tests","Authorization Security","Role-Based Access Control"],"duration":395,"failureDetails":[],"failureMessages":[],"fullName":"Admin Security Tests Authorization Security Role-Based Access Control should allow access only to admin users","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should allow access only to admin users"},{"ancestorTitles":["Admin Security Tests","Authorization Security","Role-Based Access Control"],"duration":406,"failureDetails":[{}],"failureMessages":["Error: expected 403 \"Forbidden\", got 200 \"OK\"\n    at Object.<anonymous> (C:\\Verbfy\\backend\\src\\__tests__\\security\\adminSecurity.test.ts:322:22)\n    at Promise.then.completed (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Verbfy\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Verbfy\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n----\n    at Test._assertStatus (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:309:14)\n    at C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:365:13\n    at Test._assertFunction (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:342:13)\n    at Test.assert (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:195:23)\n    at localAssert (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:138:14)\n    at Server.<anonymous> (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:152:11)\n    at Object.onceWrapper (node:events:632:28)\n    at Server.emit (node:events:518:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"Admin Security Tests Authorization Security Role-Based Access Control should validate role in token payload","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should validate role in token payload"},{"ancestorTitles":["Admin Security Tests","Authorization Security","Resource Access Control"],"duration":406,"failureDetails":[],"failureMessages":[],"fullName":"Admin Security Tests Authorization Security Resource Access Control should prevent unauthorized user modifications","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should prevent unauthorized user modifications"},{"ancestorTitles":["Admin Security Tests","Authorization Security","Resource Access Control"],"duration":382,"failureDetails":[{}],"failureMessages":["Error: expected 200 \"OK\", got 404 \"Not Found\"\n    at Object.<anonymous> (C:\\Verbfy\\backend\\src\\__tests__\\security\\adminSecurity.test.ts:350:22)\n    at Promise.then.completed (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Verbfy\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Verbfy\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n----\n    at Test._assertStatus (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:309:14)\n    at C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:365:13\n    at Test._assertFunction (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:342:13)\n    at Test.assert (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:195:23)\n    at localAssert (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:138:14)\n    at Server.<anonymous> (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:152:11)\n    at Object.onceWrapper (node:events:632:28)\n    at Server.emit (node:events:518:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"Admin Security Tests Authorization Security Resource Access Control should prevent privilege escalation","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should prevent privilege escalation"},{"ancestorTitles":["Admin Security Tests","Authorization Security","Resource Access Control"],"duration":413,"failureDetails":[],"failureMessages":[],"fullName":"Admin Security Tests Authorization Security Resource Access Control should validate user existence before operations","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should validate user existence before operations"},{"ancestorTitles":["Admin Security Tests","Authorization Security","API Endpoint Security"],"duration":383,"failureDetails":[],"failureMessages":[],"fullName":"Admin Security Tests Authorization Security API Endpoint Security should require authentication for all admin endpoints","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should require authentication for all admin endpoints"},{"ancestorTitles":["Admin Security Tests","Authorization Security","API Endpoint Security"],"duration":412,"failureDetails":[],"failureMessages":[],"fullName":"Admin Security Tests Authorization Security API Endpoint Security should validate authorization header format","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should validate authorization header format"},{"ancestorTitles":["Admin Security Tests","Input Validation Security","SQL Injection Prevention"],"duration":405,"failureDetails":[{}],"failureMessages":["Error: expected 400 \"Bad Request\", got 429 \"Too Many Requests\"\n    at Object.<anonymous> (C:\\Verbfy\\backend\\src\\__tests__\\security\\adminSecurity.test.ts:419:26)\n    at Promise.then.completed (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Verbfy\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Verbfy\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n----\n    at Test._assertStatus (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:309:14)\n    at C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:365:13\n    at Test._assertFunction (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:342:13)\n    at Test.assert (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:195:23)\n    at localAssert (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:138:14)\n    at Server.<anonymous> (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:152:11)\n    at Object.onceWrapper (node:events:632:28)\n    at Server.emit (node:events:518:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"Admin Security Tests Input Validation Security SQL Injection Prevention should prevent SQL injection in user queries","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should prevent SQL injection in user queries"},{"ancestorTitles":["Admin Security Tests","Input Validation Security","XSS Prevention"],"duration":362,"failureDetails":[{}],"failureMessages":["Error: expected 400 \"Bad Request\", got 429 \"Too Many Requests\"\n    at Object.<anonymous> (C:\\Verbfy\\backend\\src\\__tests__\\security\\adminSecurity.test.ts:438:26)\n    at Promise.then.completed (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Verbfy\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Verbfy\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n----\n    at Test._assertStatus (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:309:14)\n    at C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:365:13\n    at Test._assertFunction (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:342:13)\n    at Test.assert (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:195:23)\n    at localAssert (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:138:14)\n    at Server.<anonymous> (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:152:11)\n    at Object.onceWrapper (node:events:632:28)\n    at Server.emit (node:events:518:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"Admin Security Tests Input Validation Security XSS Prevention should sanitize script tags in input","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should sanitize script tags in input"},{"ancestorTitles":["Admin Security Tests","Input Validation Security","NoSQL Injection Prevention"],"duration":377,"failureDetails":[{}],"failureMessages":["Error: expected 400 \"Bad Request\", got 429 \"Too Many Requests\"\n    at Object.<anonymous> (C:\\Verbfy\\backend\\src\\__tests__\\security\\adminSecurity.test.ts:457:26)\n    at Promise.then.completed (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Verbfy\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Verbfy\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n----\n    at Test._assertStatus (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:309:14)\n    at C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:365:13\n    at Test._assertFunction (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:342:13)\n    at Test.assert (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:195:23)\n    at localAssert (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:138:14)\n    at Server.<anonymous> (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:152:11)\n    at Object.onceWrapper (node:events:632:28)\n    at Server.emit (node:events:518:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"Admin Security Tests Input Validation Security NoSQL Injection Prevention should prevent NoSQL injection attacks","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should prevent NoSQL injection attacks"},{"ancestorTitles":["Admin Security Tests","Input Validation Security","Parameter Pollution"],"duration":377,"failureDetails":[{}],"failureMessages":["Error: expected 400 \"Bad Request\", got 429 \"Too Many Requests\"\n    at Object.<anonymous> (C:\\Verbfy\\backend\\src\\__tests__\\security\\adminSecurity.test.ts:466:22)\n    at Promise.then.completed (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Verbfy\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Verbfy\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n----\n    at Test._assertStatus (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:309:14)\n    at C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:365:13\n    at Test._assertFunction (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:342:13)\n    at Test.assert (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:195:23)\n    at localAssert (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:138:14)\n    at Server.<anonymous> (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:152:11)\n    at Object.onceWrapper (node:events:632:28)\n    at Server.emit (node:events:518:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"Admin Security Tests Input Validation Security Parameter Pollution should handle parameter pollution attacks","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should handle parameter pollution attacks"},{"ancestorTitles":["Admin Security Tests","Input Validation Security","Large Payload Protection"],"duration":568,"failureDetails":[],"failureMessages":[],"fullName":"Admin Security Tests Input Validation Security Large Payload Protection should reject oversized payloads","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should reject oversized payloads"},{"ancestorTitles":["Admin Security Tests","Security Headers"],"duration":377,"failureDetails":[{"matcherResult":{"actual":"SAMEORIGIN","expected":"DENY","message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m\"DENY\"\u001b[39m\nReceived: \u001b[31m\"SAMEORIGIN\"\u001b[39m","name":"toBe","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m\"DENY\"\u001b[39m\nReceived: \u001b[31m\"SAMEORIGIN\"\u001b[39m\n    at Object.<anonymous> (C:\\Verbfy\\backend\\src\\__tests__\\security\\adminSecurity.test.ts:491:72)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"],"fullName":"Admin Security Tests Security Headers should include security headers in responses","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"failed","title":"should include security headers in responses"},{"ancestorTitles":["Admin Security Tests","Security Headers"],"duration":370,"failureDetails":[],"failureMessages":[],"fullName":"Admin Security Tests Security Headers should not expose sensitive information in headers","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should not expose sensitive information in headers"},{"ancestorTitles":["Admin Security Tests","Error Handling Security"],"duration":478,"failureDetails":[{}],"failureMessages":["Error: expected 400 \"Bad Request\", got 500 \"Internal Server Error\"\n    at Object.<anonymous> (C:\\Verbfy\\backend\\src\\__tests__\\security\\adminSecurity.test.ts:510:18)\n    at Promise.then.completed (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Verbfy\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Verbfy\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n----\n    at Test._assertStatus (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:309:14)\n    at C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:365:13\n    at Test._assertFunction (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:342:13)\n    at Test.assert (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:195:23)\n    at localAssert (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:138:14)\n    at Server.<anonymous> (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:152:11)\n    at Object.onceWrapper (node:events:632:28)\n    at Server.emit (node:events:518:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"Admin Security Tests Error Handling Security should not expose sensitive information in error messages","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should not expose sensitive information in error messages"},{"ancestorTitles":["Admin Security Tests","Error Handling Security"],"duration":387,"failureDetails":[{}],"failureMessages":["Error: expected 401 \"Unauthorized\", got 429 \"Too Many Requests\"\n    at Object.<anonymous> (C:\\Verbfy\\backend\\src\\__tests__\\security\\adminSecurity.test.ts:531:18)\n    at Promise.then.completed (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Verbfy\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Verbfy\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n----\n    at Test._assertStatus (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:309:14)\n    at C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:365:13\n    at Test._assertFunction (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:342:13)\n    at Test.assert (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:195:23)\n    at localAssert (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:138:14)\n    at Server.<anonymous> (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:152:11)\n    at Object.onceWrapper (node:events:632:28)\n    at Server.emit (node:events:518:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"Admin Security Tests Error Handling Security should handle authentication errors securely","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should handle authentication errors securely"},{"ancestorTitles":["Admin Security Tests","Audit and Logging Security"],"duration":505,"failureDetails":[{}],"failureMessages":["Error: expected 401 \"Unauthorized\", got 429 \"Too Many Requests\"\n    at Object.<anonymous> (C:\\Verbfy\\backend\\src\\__tests__\\security\\adminSecurity.test.ts:549:18)\n    at Promise.then.completed (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Verbfy\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Verbfy\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n----\n    at Test._assertStatus (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:309:14)\n    at C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:365:13\n    at Test._assertFunction (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:342:13)\n    at Test.assert (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:195:23)\n    at localAssert (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:138:14)\n    at Server.<anonymous> (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:152:11)\n    at Object.onceWrapper (node:events:632:28)\n    at Server.emit (node:events:518:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"Admin Security Tests Audit and Logging Security should log security events without exposing sensitive data","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should log security events without exposing sensitive data"},{"ancestorTitles":["Admin Security Tests","Audit and Logging Security"],"duration":465,"failureDetails":[{}],"failureMessages":["Error: expected 200 \"OK\", got 404 \"Not Found\"\n    at Object.<anonymous> (C:\\Verbfy\\backend\\src\\__tests__\\security\\adminSecurity.test.ts:560:18)\n    at Promise.then.completed (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Verbfy\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Verbfy\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n----\n    at Test._assertStatus (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:309:14)\n    at C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:365:13\n    at Test._assertFunction (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:342:13)\n    at Test.assert (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:195:23)\n    at localAssert (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:138:14)\n    at Server.<anonymous> (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:152:11)\n    at Object.onceWrapper (node:events:632:28)\n    at Server.emit (node:events:518:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"Admin Security Tests Audit and Logging Security should track admin actions for audit trail","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should track admin actions for audit trail"},{"ancestorTitles":["Admin Security Tests","CORS Security"],"duration":373,"failureDetails":[],"failureMessages":[],"fullName":"Admin Security Tests CORS Security should handle CORS requests securely","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle CORS requests securely"},{"ancestorTitles":["Admin Security Tests","Content Security Policy"],"duration":389,"failureDetails":[],"failureMessages":[],"fullName":"Admin Security Tests Content Security Policy should include CSP headers for XSS protection","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should include CSP headers for XSS protection"}],"endTime":1759530221896,"message":"\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mAdmin Security Tests › Authentication Security › Password Security › should enforce password complexity requirements\u001b[39m\u001b[22m\n\n    expected 400 \"Bad Request\", got 429 \"Too Many Requests\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 116 |\u001b[39m             name\u001b[33m:\u001b[39m \u001b[32m'Test Admin'\u001b[39m\u001b[33m,\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 117 |\u001b[39m             email\u001b[33m:\u001b[39m \u001b[32m'testadmin@verbfy.com'\u001b[39m\u001b[33m,\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 118 |\u001b[39m             password\u001b[33m,\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 119 |\u001b[39m             role\u001b[33m:\u001b[39m \u001b[32m'admin'\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 120 |\u001b[39m           }\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 121 |\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36msrc/__tests__/security/adminSecurity.test.ts\u001b[39m\u001b[0m\u001b[2m:118:26)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:365:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.assert (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat localAssert (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.<anonymous> (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mAdmin Security Tests › Authentication Security › Password Security › should hash passwords securely\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\n    Expected: \u001b[32mtrue\u001b[39m\n    Received: \u001b[31mfalse\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 125 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 126 |\u001b[39m           expect(response\u001b[33m.\u001b[39mstatus)\u001b[33m.\u001b[39mtoBeGreaterThanOrEqual(\u001b[35m400\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 127 |\u001b[39m         }\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 128 |\u001b[39m       })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 129 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 130 |\u001b[39m       it(\u001b[32m'should enforce password complexity requirements'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36msrc/__tests__/security/adminSecurity.test.ts\u001b[39m\u001b[0m\u001b[2m:127:77)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mAdmin Security Tests › Authentication Security › JWT Security › should generate secure JWT tokens\u001b[39m\u001b[22m\n\n    expected 200 \"OK\", got 429 \"Too Many Requests\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 142 |\u001b[39m           \u001b[36mawait\u001b[39m request(app)\u001b[22m\n\u001b[2m     \u001b[90m 143 |\u001b[39m             \u001b[33m.\u001b[39mpost(\u001b[32m'/admin/auth/login'\u001b[39m)\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 144 |\u001b[39m             \u001b[33m.\u001b[39msend({\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 145 |\u001b[39m               email\u001b[33m:\u001b[39m \u001b[32m'admin@verbfy.com'\u001b[39m\u001b[33m,\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 146 |\u001b[39m               password\u001b[22m\n\u001b[2m     \u001b[90m 147 |\u001b[39m             })\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36msrc/__tests__/security/adminSecurity.test.ts\u001b[39m\u001b[0m\u001b[2m:144:22)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:365:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.assert (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat localAssert (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.<anonymous> (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mAdmin Security Tests › Authentication Security › Rate Limiting › should enforce rate limiting on login attempts\u001b[39m\u001b[22m\n\n    expected 401 \"Unauthorized\", got 429 \"Too Many Requests\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 192 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 193 |\u001b[39m       it(\u001b[32m'should reject tampered JWT tokens'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 194 |\u001b[39m         \u001b[36mconst\u001b[39m tamperedToken \u001b[33m=\u001b[39m adminToken\u001b[33m.\u001b[39mslice(\u001b[35m0\u001b[39m\u001b[33m,\u001b[39m \u001b[33m-\u001b[39m\u001b[35m5\u001b[39m) \u001b[33m+\u001b[39m \u001b[32m'XXXXX'\u001b[39m\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 195 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 196 |\u001b[39m         \u001b[36mawait\u001b[39m request(app)\u001b[22m\n\u001b[2m     \u001b[90m 197 |\u001b[39m           \u001b[33m.\u001b[39m\u001b[36mget\u001b[39m(\u001b[32m'/admin/dashboard'\u001b[39m)\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36msrc/__tests__/security/adminSecurity.test.ts\u001b[39m\u001b[0m\u001b[2m:194:26)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:365:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.assert (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat localAssert (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.<anonymous> (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mAdmin Security Tests › Authentication Security › Rate Limiting › should reset rate limit after time window\u001b[39m\u001b[22m\n\n    expected 401 \"Unauthorized\", got 429 \"Too Many Requests\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 210 |\u001b[39m           \u001b[33m.\u001b[39m\u001b[36mget\u001b[39m(\u001b[32m'/admin/dashboard'\u001b[39m)\u001b[22m\n\u001b[2m     \u001b[90m 211 |\u001b[39m           \u001b[33m.\u001b[39m\u001b[36mset\u001b[39m(\u001b[32m'Authorization'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m`Bearer ${expiredToken}`\u001b[39m)\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 212 |\u001b[39m           \u001b[33m.\u001b[39mexpect(\u001b[35m401\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 213 |\u001b[39m       })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 214 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 215 |\u001b[39m       it(\u001b[32m'should reject tokens with invalid signature'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36msrc/__tests__/security/adminSecurity.test.ts\u001b[39m\u001b[0m\u001b[2m:212:26)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:365:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.assert (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat localAssert (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.<anonymous> (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mAdmin Security Tests › Authentication Security › Session Security › should invalidate tokens on logout\u001b[39m\u001b[22m\n\n    expected 200 \"OK\", got 429 \"Too Many Requests\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 230 |\u001b[39m           { userId\u001b[33m:\u001b[39m adminUser\u001b[33m.\u001b[39m_id }\u001b[33m,\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 231 |\u001b[39m           process\u001b[33m.\u001b[39menv\u001b[33m.\u001b[39m\u001b[33mJWT_SECRET\u001b[39m \u001b[36mas\u001b[39m string\u001b[33m,\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 232 |\u001b[39m           { expiresIn\u001b[33m:\u001b[39m \u001b[32m'1h'\u001b[39m }\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 233 |\u001b[39m         )\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 234 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 235 |\u001b[39m         \u001b[36mawait\u001b[39m request(app)\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36msrc/__tests__/security/adminSecurity.test.ts\u001b[39m\u001b[0m\u001b[2m:232:22)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:365:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.assert (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat localAssert (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.<anonymous> (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mAdmin Security Tests › Authentication Security › Session Security › should handle concurrent sessions securely\u001b[39m\u001b[22m\n\n    expected 200 \"OK\", got 429 \"Too Many Requests\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 257 |\u001b[39m         \u001b[90m// 6th attempt should be rate limited\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 258 |\u001b[39m         \u001b[36mawait\u001b[39m request(app)\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 259 |\u001b[39m           \u001b[33m.\u001b[39mpost(\u001b[32m'/admin/auth/login'\u001b[39m)\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 260 |\u001b[39m           \u001b[33m.\u001b[39msend(loginData)\u001b[22m\n\u001b[2m     \u001b[90m 261 |\u001b[39m           \u001b[33m.\u001b[39mexpect(\u001b[35m429\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 262 |\u001b[39m       })\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36msrc/__tests__/security/adminSecurity.test.ts\u001b[39m\u001b[0m\u001b[2m:259:22)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:365:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.assert (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat localAssert (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.<anonymous> (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mAdmin Security Tests › Authorization Security › Role-Based Access Control › should validate role in token payload\u001b[39m\u001b[22m\n\n    expected 403 \"Forbidden\", got 200 \"OK\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 320 |\u001b[39m       })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 321 |\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 322 |\u001b[39m       it(\u001b[32m'should handle concurrent sessions securely'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 323 |\u001b[39m         \u001b[90m// Login from multiple \"devices\"\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 324 |\u001b[39m         \u001b[36mconst\u001b[39m device1Response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m request(app)\u001b[22m\n\u001b[2m     \u001b[90m 325 |\u001b[39m           \u001b[33m.\u001b[39mpost(\u001b[32m'/admin/auth/login'\u001b[39m)\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36msrc/__tests__/security/adminSecurity.test.ts\u001b[39m\u001b[0m\u001b[2m:322:22)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:365:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.assert (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat localAssert (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.<anonymous> (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mAdmin Security Tests › Authorization Security › Resource Access Control › should prevent privilege escalation\u001b[39m\u001b[22m\n\n    expected 200 \"OK\", got 404 \"Not Found\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 348 |\u001b[39m           \u001b[33m.\u001b[39m\u001b[36mset\u001b[39m(\u001b[32m'Authorization'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m`Bearer ${device2Response.body.token}`\u001b[39m)\u001b[22m\n\u001b[2m     \u001b[90m 349 |\u001b[39m           \u001b[33m.\u001b[39mexpect(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 350 |\u001b[39m       })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 351 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 352 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 353 |\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36msrc/__tests__/security/adminSecurity.test.ts\u001b[39m\u001b[0m\u001b[2m:350:22)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:365:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.assert (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat localAssert (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.<anonymous> (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mAdmin Security Tests › Input Validation Security › SQL Injection Prevention › should prevent SQL injection in user queries\u001b[39m\u001b[22m\n\n    expected 400 \"Bad Request\", got 429 \"Too Many Requests\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 417 |\u001b[39m         \u001b[90m// Student trying to update another user\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 418 |\u001b[39m         \u001b[36mawait\u001b[39m request(app)\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 419 |\u001b[39m           \u001b[33m.\u001b[39mput(\u001b[32m`/admin/users/${teacherUser._id}`\u001b[39m)\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 420 |\u001b[39m           \u001b[33m.\u001b[39m\u001b[36mset\u001b[39m(\u001b[32m'Authorization'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m`Bearer ${studentToken}`\u001b[39m)\u001b[22m\n\u001b[2m     \u001b[90m 421 |\u001b[39m           \u001b[33m.\u001b[39msend(updateData)\u001b[22m\n\u001b[2m     \u001b[90m 422 |\u001b[39m           \u001b[33m.\u001b[39mexpect(\u001b[35m403\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36msrc/__tests__/security/adminSecurity.test.ts\u001b[39m\u001b[0m\u001b[2m:419:26)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:365:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.assert (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat localAssert (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.<anonymous> (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mAdmin Security Tests › Input Validation Security › XSS Prevention › should sanitize script tags in input\u001b[39m\u001b[22m\n\n    expected 400 \"Bad Request\", got 429 \"Too Many Requests\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 436 |\u001b[39m           \u001b[33m.\u001b[39m\u001b[36mset\u001b[39m(\u001b[32m'Authorization'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m`Bearer ${adminToken}`\u001b[39m)\u001b[22m\n\u001b[2m     \u001b[90m 437 |\u001b[39m           \u001b[33m.\u001b[39msend({ role\u001b[33m:\u001b[39m \u001b[32m'admin'\u001b[39m })\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 438 |\u001b[39m           \u001b[33m.\u001b[39mexpect(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 439 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 440 |\u001b[39m         \u001b[90m// Verify the user role was actually updated\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 441 |\u001b[39m         \u001b[36mconst\u001b[39m updatedUser \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m \u001b[33mUser\u001b[39m\u001b[33m.\u001b[39mfindById(studentUser\u001b[33m.\u001b[39m_id)\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36msrc/__tests__/security/adminSecurity.test.ts\u001b[39m\u001b[0m\u001b[2m:438:26)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:365:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.assert (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat localAssert (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.<anonymous> (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mAdmin Security Tests › Input Validation Security › NoSQL Injection Prevention › should prevent NoSQL injection attacks\u001b[39m\u001b[22m\n\n    expected 400 \"Bad Request\", got 429 \"Too Many Requests\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 455 |\u001b[39m           \u001b[33m.\u001b[39m\u001b[36mset\u001b[39m(\u001b[32m'Authorization'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m`Bearer ${adminToken}`\u001b[39m)\u001b[22m\n\u001b[2m     \u001b[90m 456 |\u001b[39m           \u001b[33m.\u001b[39msend({ role\u001b[33m:\u001b[39m \u001b[32m'student'\u001b[39m })\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 457 |\u001b[39m           \u001b[33m.\u001b[39mexpect(\u001b[35m404\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 458 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 459 |\u001b[39m         \u001b[36mawait\u001b[39m request(app)\u001b[22m\n\u001b[2m     \u001b[90m 460 |\u001b[39m           \u001b[33m.\u001b[39m\u001b[36mdelete\u001b[39m(\u001b[32m`/admin/users/${nonExistentUserId}`\u001b[39m)\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36msrc/__tests__/security/adminSecurity.test.ts\u001b[39m\u001b[0m\u001b[2m:457:26)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:365:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.assert (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat localAssert (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.<anonymous> (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mAdmin Security Tests › Input Validation Security › Parameter Pollution › should handle parameter pollution attacks\u001b[39m\u001b[22m\n\n    expected 400 \"Bad Request\", got 429 \"Too Many Requests\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 464 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 465 |\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 466 |\u001b[39m     describe(\u001b[32m'API Endpoint Security'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 467 |\u001b[39m       it(\u001b[32m'should require authentication for all admin endpoints'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m     \u001b[90m 468 |\u001b[39m         \u001b[36mconst\u001b[39m endpoints \u001b[33m=\u001b[39m [\u001b[22m\n\u001b[2m     \u001b[90m 469 |\u001b[39m           { method\u001b[33m:\u001b[39m \u001b[32m'get'\u001b[39m\u001b[33m,\u001b[39m path\u001b[33m:\u001b[39m \u001b[32m'/admin/dashboard'\u001b[39m }\u001b[33m,\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36msrc/__tests__/security/adminSecurity.test.ts\u001b[39m\u001b[0m\u001b[2m:466:22)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:365:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.assert (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat localAssert (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.<anonymous> (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mAdmin Security Tests › Security Headers › should include security headers in responses\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\n    Expected: \u001b[32m\"DENY\"\u001b[39m\n    Received: \u001b[31m\"SAMEORIGIN\"\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 489 |\u001b[39m           \u001b[32m`Basic ${adminToken}`\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 490 |\u001b[39m         ]\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 491 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 492 |\u001b[39m         \u001b[36mfor\u001b[39m (\u001b[36mconst\u001b[39m header \u001b[36mof\u001b[39m invalidHeaders) {\u001b[22m\n\u001b[2m     \u001b[90m 493 |\u001b[39m           \u001b[36mawait\u001b[39m request(app)\u001b[22m\n\u001b[2m     \u001b[90m 494 |\u001b[39m             \u001b[33m.\u001b[39m\u001b[36mget\u001b[39m(\u001b[32m'/admin/dashboard'\u001b[39m)\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36msrc/__tests__/security/adminSecurity.test.ts\u001b[39m\u001b[0m\u001b[2m:491:72)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mAdmin Security Tests › Error Handling Security › should not expose sensitive information in error messages\u001b[39m\u001b[22m\n\n    expected 400 \"Bad Request\", got 500 \"Internal Server Error\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 508 |\u001b[39m           \u001b[32m\"'; UPDATE users SET role='admin'; --\"\u001b[39m\u001b[33m,\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 509 |\u001b[39m           \u001b[32m\"' UNION SELECT * FROM users; --\"\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 510 |\u001b[39m         ]\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 511 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 512 |\u001b[39m         \u001b[36mfor\u001b[39m (\u001b[36mconst\u001b[39m input \u001b[36mof\u001b[39m maliciousInputs) {\u001b[22m\n\u001b[2m     \u001b[90m 513 |\u001b[39m           \u001b[36mawait\u001b[39m request(app)\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36msrc/__tests__/security/adminSecurity.test.ts\u001b[39m\u001b[0m\u001b[2m:510:18)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:365:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.assert (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat localAssert (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.<anonymous> (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mAdmin Security Tests › Error Handling Security › should handle authentication errors securely\u001b[39m\u001b[22m\n\n    expected 401 \"Unauthorized\", got 429 \"Too Many Requests\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 529 |\u001b[39m           \u001b[32m'javascript:alert(\"xss\")'\u001b[39m\u001b[33m,\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 530 |\u001b[39m           \u001b[32m'<svg onload=\"alert(1)\">'\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 531 |\u001b[39m         ]\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 532 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 533 |\u001b[39m         \u001b[36mfor\u001b[39m (\u001b[36mconst\u001b[39m input \u001b[36mof\u001b[39m xssInputs) {\u001b[22m\n\u001b[2m     \u001b[90m 534 |\u001b[39m           \u001b[36mawait\u001b[39m request(app)\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36msrc/__tests__/security/adminSecurity.test.ts\u001b[39m\u001b[0m\u001b[2m:531:18)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:365:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.assert (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat localAssert (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.<anonymous> (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mAdmin Security Tests › Audit and Logging Security › should log security events without exposing sensitive data\u001b[39m\u001b[22m\n\n    expected 401 \"Unauthorized\", got 429 \"Too Many Requests\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 547 |\u001b[39m         \u001b[36mconst\u001b[39m maliciousInputs \u001b[33m=\u001b[39m [\u001b[22m\n\u001b[2m     \u001b[90m 548 |\u001b[39m           { $ne\u001b[33m:\u001b[39m \u001b[36mnull\u001b[39m }\u001b[33m,\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 549 |\u001b[39m           { $gt\u001b[33m:\u001b[39m \u001b[32m''\u001b[39m }\u001b[33m,\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 550 |\u001b[39m           { $regex\u001b[33m:\u001b[39m \u001b[32m'.*'\u001b[39m }\u001b[33m,\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 551 |\u001b[39m           { $where\u001b[33m:\u001b[39m \u001b[32m'this.password'\u001b[39m }\u001b[22m\n\u001b[2m     \u001b[90m 552 |\u001b[39m         ]\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36msrc/__tests__/security/adminSecurity.test.ts\u001b[39m\u001b[0m\u001b[2m:549:18)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:365:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.assert (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat localAssert (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.<anonymous> (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mAdmin Security Tests › Audit and Logging Security › should track admin actions for audit trail\u001b[39m\u001b[22m\n\n    expected 200 \"OK\", got 404 \"Not Found\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 558 |\u001b[39m               email\u001b[33m:\u001b[39m input\u001b[33m,\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 559 |\u001b[39m               password\u001b[33m:\u001b[39m \u001b[32m'password123'\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 560 |\u001b[39m             })\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 561 |\u001b[39m             \u001b[33m.\u001b[39mexpect(\u001b[35m400\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 562 |\u001b[39m         }\u001b[22m\n\u001b[2m     \u001b[90m 563 |\u001b[39m       })\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36msrc/__tests__/security/adminSecurity.test.ts\u001b[39m\u001b[0m\u001b[2m:560:18)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:365:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.assert (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat localAssert (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.<anonymous> (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n","name":"C:\\Verbfy\\backend\\src\\__tests__\\security\\adminSecurity.test.ts","startTime":1759530204504,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["API Endpoints Integration","User Management Endpoints"],"duration":178,"failureDetails":[],"failureMessages":[],"fullName":"API Endpoints Integration User Management Endpoints should get user profile","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should get user profile"},{"ancestorTitles":["API Endpoints Integration","User Management Endpoints"],"duration":162,"failureDetails":[],"failureMessages":[],"fullName":"API Endpoints Integration User Management Endpoints should update user profile","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should update user profile"},{"ancestorTitles":["API Endpoints Integration","User Management Endpoints"],"duration":195,"failureDetails":[],"failureMessages":[],"fullName":"API Endpoints Integration User Management Endpoints should get users list (admin only)","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should get users list (admin only)"},{"ancestorTitles":["API Endpoints Integration","Materials Endpoints"],"duration":104,"failureDetails":[{"index":0,"code":11000,"keyPattern":{"savedName":1},"keyValue":{"savedName":null}}],"failureMessages":["MongoServerError: E11000 duplicate key error collection: test.materials index: savedName_1 dup key: { savedName: null }\n    at C:\\Verbfy\\backend\\node_modules\\mongodb\\src\\operations\\insert.ts:85:25\n    at C:\\Verbfy\\backend\\node_modules\\mongodb\\src\\operations\\command.ts:173:14\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"],"fullName":"API Endpoints Integration Materials Endpoints should get materials list","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should get materials list"},{"ancestorTitles":["API Endpoints Integration","Materials Endpoints"],"duration":94,"failureDetails":[{}],"failureMessages":["Error: expected 201 \"Created\", got 404 \"Not Found\"\n    at Object.<anonymous> (C:\\Verbfy\\backend\\src\\__tests__\\integration\\api-endpoints.test.ts:134:18)\n    at Promise.then.completed (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Verbfy\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Verbfy\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n----\n    at Test._assertStatus (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:309:14)\n    at C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:365:13\n    at Test._assertFunction (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:342:13)\n    at Test.assert (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:195:23)\n    at localAssert (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:138:14)\n    at Server.<anonymous> (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:152:11)\n    at Object.onceWrapper (node:events:632:28)\n    at Server.emit (node:events:518:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"API Endpoints Integration Materials Endpoints should create new material","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should create new material"},{"ancestorTitles":["API Endpoints Integration","Materials Endpoints"],"duration":121,"failureDetails":[{}],"failureMessages":["Error: expected 200 \"OK\", got 500 \"Internal Server Error\"\n    at Object.<anonymous> (C:\\Verbfy\\backend\\src\\__tests__\\integration\\api-endpoints.test.ts:157:18)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n----\n    at Test._assertStatus (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:309:14)\n    at C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:365:13\n    at Test._assertFunction (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:342:13)\n    at Test.assert (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:195:23)\n    at localAssert (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:138:14)\n    at Server.<anonymous> (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:152:11)\n    at Object.onceWrapper (node:events:632:28)\n    at Server.emit (node:events:518:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"API Endpoints Integration Materials Endpoints should update material","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should update material"},{"ancestorTitles":["API Endpoints Integration","Materials Endpoints"],"duration":115,"failureDetails":[{}],"failureMessages":["Error: expected 200 \"OK\", got 500 \"Internal Server Error\"\n    at Object.<anonymous> (C:\\Verbfy\\backend\\src\\__tests__\\integration\\api-endpoints.test.ts:174:18)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n----\n    at Test._assertStatus (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:309:14)\n    at C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:365:13\n    at Test._assertFunction (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:342:13)\n    at Test.assert (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:195:23)\n    at localAssert (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:138:14)\n    at Server.<anonymous> (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:152:11)\n    at Object.onceWrapper (node:events:632:28)\n    at Server.emit (node:events:518:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"API Endpoints Integration Materials Endpoints should delete material","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should delete material"},{"ancestorTitles":["API Endpoints Integration","Lessons Endpoints"],"duration":97,"failureDetails":[{"errors":{"price":{"properties":{"message":"Path `price` is required.","type":"required","path":"price"},"kind":"required","path":"price"},"duration":{"properties":{"message":"Path `duration` is required.","type":"required","path":"duration"},"kind":"required","path":"duration"},"endTime":{"properties":{"message":"Path `endTime` is required.","type":"required","path":"endTime"},"kind":"required","path":"endTime"},"startTime":{"properties":{"message":"Path `startTime` is required.","type":"required","path":"startTime"},"kind":"required","path":"startTime"},"studentId":{"properties":{"message":"Path `studentId` is required.","type":"required","path":"studentId"},"kind":"required","path":"studentId"},"teacherId":{"properties":{"message":"Path `teacherId` is required.","type":"required","path":"teacherId"},"kind":"required","path":"teacherId"},"type":{"properties":{"message":"`VerbfyGrammar` is not a valid enum value for path `type`.","type":"enum","enumValues":["conversation","grammar","reading","writing","listening","speaking"],"path":"type","value":"VerbfyGrammar"},"kind":"enum","path":"type","value":"VerbfyGrammar"}},"_message":"Lesson validation failed"}],"failureMessages":["ValidationError: Lesson validation failed: price: Path `price` is required., duration: Path `duration` is required., endTime: Path `endTime` is required., startTime: Path `startTime` is required., studentId: Path `studentId` is required., teacherId: Path `teacherId` is required., type: `VerbfyGrammar` is not a valid enum value for path `type`.\n    at model.Object.<anonymous>.Document.invalidate (C:\\Verbfy\\backend\\node_modules\\mongoose\\lib\\document.js:3219:32)\n    at C:\\Verbfy\\backend\\node_modules\\mongoose\\lib\\document.js:3012:17\n    at C:\\Verbfy\\backend\\node_modules\\mongoose\\lib\\schematype.js:1368:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)"],"fullName":"API Endpoints Integration Lessons Endpoints should get lessons list","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should get lessons list"},{"ancestorTitles":["API Endpoints Integration","Lessons Endpoints"],"duration":110,"failureDetails":[{}],"failureMessages":["Error: expected 201 \"Created\", got 404 \"Not Found\"\n    at Object.<anonymous> (C:\\Verbfy\\backend\\src\\__tests__\\integration\\api-endpoints.test.ts:230:18)\n    at Promise.then.completed (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Verbfy\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Verbfy\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n----\n    at Test._assertStatus (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:309:14)\n    at C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:365:13\n    at Test._assertFunction (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:342:13)\n    at Test.assert (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:195:23)\n    at localAssert (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:138:14)\n    at Server.<anonymous> (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:152:11)\n    at Object.onceWrapper (node:events:632:28)\n    at Server.emit (node:events:518:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"API Endpoints Integration Lessons Endpoints should create new lesson","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should create new lesson"},{"ancestorTitles":["API Endpoints Integration","Lessons Endpoints"],"duration":89,"failureDetails":[{"errors":{"price":{"properties":{"message":"Path `price` is required.","type":"required","path":"price"},"kind":"required","path":"price"},"duration":{"properties":{"message":"Path `duration` is required.","type":"required","path":"duration"},"kind":"required","path":"duration"},"endTime":{"properties":{"message":"Path `endTime` is required.","type":"required","path":"endTime"},"kind":"required","path":"endTime"},"startTime":{"properties":{"message":"Path `startTime` is required.","type":"required","path":"startTime"},"kind":"required","path":"startTime"},"studentId":{"properties":{"message":"Path `studentId` is required.","type":"required","path":"studentId"},"kind":"required","path":"studentId"},"teacherId":{"properties":{"message":"Path `teacherId` is required.","type":"required","path":"teacherId"},"kind":"required","path":"teacherId"},"type":{"properties":{"message":"`VerbfyGrammar` is not a valid enum value for path `type`.","type":"enum","enumValues":["conversation","grammar","reading","writing","listening","speaking"],"path":"type","value":"VerbfyGrammar"},"kind":"enum","path":"type","value":"VerbfyGrammar"}},"_message":"Lesson validation failed"}],"failureMessages":["ValidationError: Lesson validation failed: price: Path `price` is required., duration: Path `duration` is required., endTime: Path `endTime` is required., startTime: Path `startTime` is required., studentId: Path `studentId` is required., teacherId: Path `teacherId` is required., type: `VerbfyGrammar` is not a valid enum value for path `type`.\n    at model.Object.<anonymous>.Document.invalidate (C:\\Verbfy\\backend\\node_modules\\mongoose\\lib\\document.js:3219:32)\n    at C:\\Verbfy\\backend\\node_modules\\mongoose\\lib\\document.js:3012:17\n    at C:\\Verbfy\\backend\\node_modules\\mongoose\\lib\\schematype.js:1368:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)"],"fullName":"API Endpoints Integration Lessons Endpoints should start lesson session","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should start lesson session"},{"ancestorTitles":["API Endpoints Integration","Error Handling"],"duration":98,"failureDetails":[{"matcherResult":{"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoHaveProperty\u001b[2m(\u001b[22m\u001b[32mpath\u001b[39m\u001b[2m)\u001b[22m\n\nExpected path: \u001b[32m\"message\"\u001b[39m\nReceived path: \u001b[31m[]\u001b[39m\n\nReceived value: \u001b[31m{}\u001b[39m","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoHaveProperty\u001b[2m(\u001b[22m\u001b[32mpath\u001b[39m\u001b[2m)\u001b[22m\n\nExpected path: \u001b[32m\"message\"\u001b[39m\nReceived path: \u001b[31m[]\u001b[39m\n\nReceived value: \u001b[31m{}\u001b[39m\n    at Object.<anonymous> (C:\\Verbfy\\backend\\src\\__tests__\\integration\\api-endpoints.test.ts:268:50)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"],"fullName":"API Endpoints Integration Error Handling should handle 404 for non-existent routes","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should handle 404 for non-existent routes"},{"ancestorTitles":["API Endpoints Integration","Error Handling"],"duration":107,"failureDetails":[],"failureMessages":[],"fullName":"API Endpoints Integration Error Handling should handle 500 for server errors","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle 500 for server errors"},{"ancestorTitles":["API Endpoints Integration","Error Handling"],"duration":114,"failureDetails":[{}],"failureMessages":["Error: expected 400 \"Bad Request\", got 404 \"Not Found\"\n    at Object.<anonymous> (C:\\Verbfy\\backend\\src\\__tests__\\integration\\api-endpoints.test.ts:284:18)\n    at Promise.then.completed (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Verbfy\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Verbfy\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Verbfy\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n----\n    at Test._assertStatus (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:309:14)\n    at C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:365:13\n    at Test._assertFunction (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:342:13)\n    at Test.assert (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:195:23)\n    at localAssert (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:138:14)\n    at Server.<anonymous> (C:\\Verbfy\\backend\\node_modules\\supertest\\lib\\test.js:152:11)\n    at Object.onceWrapper (node:events:632:28)\n    at Server.emit (node:events:518:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"API Endpoints Integration Error Handling should handle validation errors","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should handle validation errors"},{"ancestorTitles":["API Endpoints Integration","Authentication and Authorization"],"duration":130,"failureDetails":[],"failureMessages":[],"fullName":"API Endpoints Integration Authentication and Authorization should require authentication for protected routes","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should require authentication for protected routes"},{"ancestorTitles":["API Endpoints Integration","Authentication and Authorization"],"duration":107,"failureDetails":[],"failureMessages":[],"fullName":"API Endpoints Integration Authentication and Authorization should handle invalid tokens","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle invalid tokens"},{"ancestorTitles":["API Endpoints Integration","Authentication and Authorization"],"duration":206,"failureDetails":[],"failureMessages":[],"fullName":"API Endpoints Integration Authentication and Authorization should enforce role-based access","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should enforce role-based access"}],"endTime":1759530226103,"message":"\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mAPI Endpoints Integration › Materials Endpoints › should get materials list\u001b[39m\u001b[22m\n\n    MongoServerError: E11000 duplicate key error collection: test.materials index: savedName_1 dup key: { savedName: null }\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2mnode_modules/mongodb/src/operations/insert.ts\u001b[2m:85:25\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2mnode_modules/mongodb/src/operations/command.ts\u001b[2m:173:14\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mAPI Endpoints Integration › Materials Endpoints › should create new material\u001b[39m\u001b[22m\n\n    expected 201 \"Created\", got 404 \"Not Found\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 132 |\u001b[39m       expect(response\u001b[33m.\u001b[39mbody)\u001b[33m.\u001b[39mtoHaveProperty(\u001b[32m'pagination'\u001b[39m)\u001b[22m\n\u001b[2m     \u001b[90m 133 |\u001b[39m       expect(response\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39mmaterials\u001b[33m.\u001b[39mlength)\u001b[33m.\u001b[39mtoBe(\u001b[35m2\u001b[39m)\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 134 |\u001b[39m     })\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m       \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 135 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 136 |\u001b[39m     it(\u001b[32m'should create new material'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m     \u001b[90m 137 |\u001b[39m       \u001b[36mconst\u001b[39m materialData \u001b[33m=\u001b[39m {\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36msrc/__tests__/integration/api-endpoints.test.ts\u001b[39m\u001b[0m\u001b[2m:134:18)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:365:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.assert (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat localAssert (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.<anonymous> (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mAPI Endpoints Integration › Materials Endpoints › should update material\u001b[39m\u001b[22m\n\n    expected 200 \"OK\", got 500 \"Internal Server Error\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 155 |\u001b[39m     })\u001b[22m\n\u001b[2m     \u001b[90m 156 |\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 157 |\u001b[39m     it(\u001b[32m'should update material'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 158 |\u001b[39m       \u001b[90m// Create test material\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 159 |\u001b[39m       \u001b[36mconst\u001b[39m material \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m \u001b[33mMaterial\u001b[39m\u001b[33m.\u001b[39mcreate({\u001b[22m\n\u001b[2m     \u001b[90m 160 |\u001b[39m         title\u001b[33m:\u001b[39m \u001b[32m'Original Title'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36msrc/__tests__/integration/api-endpoints.test.ts\u001b[39m\u001b[0m\u001b[2m:157:18)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:365:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.assert (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat localAssert (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.<anonymous> (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mAPI Endpoints Integration › Materials Endpoints › should delete material\u001b[39m\u001b[22m\n\n    expected 200 \"OK\", got 500 \"Internal Server Error\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 172 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 173 |\u001b[39m       \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m request(app)\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 174 |\u001b[39m         \u001b[33m.\u001b[39mput(\u001b[32m`/materials/${material._id}`\u001b[39m)\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 175 |\u001b[39m         \u001b[33m.\u001b[39m\u001b[36mset\u001b[39m(\u001b[32m'Authorization'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m`Bearer ${authToken}`\u001b[39m)\u001b[22m\n\u001b[2m     \u001b[90m 176 |\u001b[39m         \u001b[33m.\u001b[39msend(updateData)\u001b[22m\n\u001b[2m     \u001b[90m 177 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m200\u001b[39m)\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36msrc/__tests__/integration/api-endpoints.test.ts\u001b[39m\u001b[0m\u001b[2m:174:18)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:365:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.assert (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat localAssert (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.<anonymous> (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mAPI Endpoints Integration › Lessons Endpoints › should get lessons list\u001b[39m\u001b[22m\n\n    ValidationError: Lesson validation failed: price: Path `price` is required., duration: Path `duration` is required., endTime: Path `endTime` is required., startTime: Path `startTime` is required., studentId: Path `studentId` is required., teacherId: Path `teacherId` is required., type: `VerbfyGrammar` is not a valid enum value for path `type`.\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat model.Object.<anonymous>.Document.invalidate (\u001b[22m\u001b[2mnode_modules/mongoose/lib/document.js\u001b[2m:3219:32)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2mnode_modules/mongoose/lib/document.js\u001b[2m:3012:17\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2mnode_modules/mongoose/lib/schematype.js\u001b[2m:1368:9\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mAPI Endpoints Integration › Lessons Endpoints › should create new lesson\u001b[39m\u001b[22m\n\n    expected 201 \"Created\", got 404 \"Not Found\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 228 |\u001b[39m         \u001b[33m.\u001b[39m\u001b[36mget\u001b[39m(\u001b[32m'/verbfy-lessons'\u001b[39m)\u001b[22m\n\u001b[2m     \u001b[90m 229 |\u001b[39m         \u001b[33m.\u001b[39m\u001b[36mset\u001b[39m(\u001b[32m'Authorization'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m`Bearer ${authToken}`\u001b[39m)\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 230 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m200\u001b[39m)\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 231 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 232 |\u001b[39m       expect(response\u001b[33m.\u001b[39mbody)\u001b[33m.\u001b[39mtoHaveProperty(\u001b[32m'lessons'\u001b[39m)\u001b[22m\n\u001b[2m     \u001b[90m 233 |\u001b[39m       expect(response\u001b[33m.\u001b[39mbody)\u001b[33m.\u001b[39mtoHaveProperty(\u001b[32m'pagination'\u001b[39m)\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36msrc/__tests__/integration/api-endpoints.test.ts\u001b[39m\u001b[0m\u001b[2m:230:18)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:365:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.assert (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat localAssert (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.<anonymous> (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mAPI Endpoints Integration › Lessons Endpoints › should start lesson session\u001b[39m\u001b[22m\n\n    ValidationError: Lesson validation failed: price: Path `price` is required., duration: Path `duration` is required., endTime: Path `endTime` is required., startTime: Path `startTime` is required., studentId: Path `studentId` is required., teacherId: Path `teacherId` is required., type: `VerbfyGrammar` is not a valid enum value for path `type`.\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat model.Object.<anonymous>.Document.invalidate (\u001b[22m\u001b[2mnode_modules/mongoose/lib/document.js\u001b[2m:3219:32)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2mnode_modules/mongoose/lib/document.js\u001b[2m:3012:17\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2mnode_modules/mongoose/lib/schematype.js\u001b[2m:1368:9\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mAPI Endpoints Integration › Error Handling › should handle 404 for non-existent routes\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoHaveProperty\u001b[2m(\u001b[22m\u001b[32mpath\u001b[39m\u001b[2m)\u001b[22m\n\n    Expected path: \u001b[32m\"message\"\u001b[39m\n    Received path: \u001b[31m[]\u001b[39m\n\n    Received value: \u001b[31m{}\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 266 |\u001b[39m     it(\u001b[32m'should start lesson session'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m     \u001b[90m 267 |\u001b[39m       \u001b[90m// Create test lesson\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 268 |\u001b[39m       \u001b[36mconst\u001b[39m lesson \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m \u001b[33mLesson\u001b[39m\u001b[33m.\u001b[39mcreate({\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                                  \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 269 |\u001b[39m         title\u001b[33m:\u001b[39m \u001b[32m'Test Lesson'\u001b[39m\u001b[33m,\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 270 |\u001b[39m         description\u001b[33m:\u001b[39m \u001b[32m'Test lesson description'\u001b[39m\u001b[33m,\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 271 |\u001b[39m         type\u001b[33m:\u001b[39m \u001b[32m'VerbfyGrammar'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36msrc/__tests__/integration/api-endpoints.test.ts\u001b[39m\u001b[0m\u001b[2m:268:50)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mAPI Endpoints Integration › Error Handling › should handle validation errors\u001b[39m\u001b[22m\n\n    expected 400 \"Bad Request\", got 404 \"Not Found\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 282 |\u001b[39m         ]\u001b[33m,\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 283 |\u001b[39m         createdBy\u001b[33m:\u001b[39m testUser\u001b[33m.\u001b[39m_id\u001b[33m,\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 284 |\u001b[39m       })\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m         \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 285 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 286 |\u001b[39m       \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m request(app)\u001b[22m\n\u001b[2m     \u001b[90m 287 |\u001b[39m         \u001b[33m.\u001b[39mpost(\u001b[32m`/verbfy-lessons/${lesson._id}/start`\u001b[39m)\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36msrc/__tests__/integration/api-endpoints.test.ts\u001b[39m\u001b[0m\u001b[2m:284:18)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:365:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.assert (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat localAssert (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.<anonymous> (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n","name":"C:\\Verbfy\\backend\\src\\__tests__\\integration\\api-endpoints.test.ts","startTime":1759530221938,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["Auth email flows"],"duration":0,"failureDetails":[{}],"failureMessages":["MongooseError: Can't call `openUri()` on an active connection with different connection strings. Make sure you aren't calling `mongoose.connect()` multiple times. See: https://mongoosejs.com/docs/connections.html#multiple_connections\n    at NativeConnection.createClient (C:\\Verbfy\\backend\\node_modules\\mongoose\\lib\\drivers\\node-mongodb-native\\connection.js:220:13)\n    at NativeConnection.openUri (C:\\Verbfy\\backend\\node_modules\\mongoose\\lib\\connection.js:766:34)\n    at Mongoose.connect (C:\\Verbfy\\backend\\node_modules\\mongoose\\lib\\index.js:416:15)\n    at Object.<anonymous> (C:\\Verbfy\\backend\\jest.setup.js:25:18)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"],"fullName":"Auth email flows forgot password responds OK even for unknown email","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"forgot password responds OK even for unknown email"},{"ancestorTitles":["Auth email flows"],"duration":0,"failureDetails":[{}],"failureMessages":["MongooseError: Can't call `openUri()` on an active connection with different connection strings. Make sure you aren't calling `mongoose.connect()` multiple times. See: https://mongoosejs.com/docs/connections.html#multiple_connections\n    at NativeConnection.createClient (C:\\Verbfy\\backend\\node_modules\\mongoose\\lib\\drivers\\node-mongodb-native\\connection.js:220:13)\n    at NativeConnection.openUri (C:\\Verbfy\\backend\\node_modules\\mongoose\\lib\\connection.js:766:34)\n    at Mongoose.connect (C:\\Verbfy\\backend\\node_modules\\mongoose\\lib\\index.js:416:15)\n    at Object.<anonymous> (C:\\Verbfy\\backend\\jest.setup.js:25:18)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"],"fullName":"Auth email flows verify email with invalid token fails","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"verify email with invalid token fails"}],"coverage":{},"endTime":1759530269456,"message":"\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mAuth email flows › forgot password responds OK even for unknown email\u001b[39m\u001b[22m\n\n    MongooseError: Can't call `openUri()` on an active connection with different connection strings. Make sure you aren't calling `mongoose.connect()` multiple times. See: https://mongoosejs.com/docs/connections.html#multiple_connections\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 23 |\u001b[39m   \u001b[22m\n\u001b[2m     \u001b[90m 24 |\u001b[39m   \u001b[90m// Connect to the in-memory database\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 25 |\u001b[39m   \u001b[36mawait\u001b[39m mongoose\u001b[33m.\u001b[39mconnect(uri)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 26 |\u001b[39m })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 27 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 28 |\u001b[39m \u001b[90m// Cleanup after all tests\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat NativeConnection.createClient (\u001b[22m\u001b[2mnode_modules/mongoose/lib/drivers/node-mongodb-native/connection.js\u001b[2m:220:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat NativeConnection.openUri (\u001b[22m\u001b[2mnode_modules/mongoose/lib/connection.js\u001b[2m:766:34)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Mongoose.connect (\u001b[22m\u001b[2mnode_modules/mongoose/lib/index.js\u001b[2m:416:15)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2mjest.setup.js\u001b[2m:25:18)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mAuth email flows › verify email with invalid token fails\u001b[39m\u001b[22m\n\n    MongooseError: Can't call `openUri()` on an active connection with different connection strings. Make sure you aren't calling `mongoose.connect()` multiple times. See: https://mongoosejs.com/docs/connections.html#multiple_connections\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 23 |\u001b[39m   \u001b[22m\n\u001b[2m     \u001b[90m 24 |\u001b[39m   \u001b[90m// Connect to the in-memory database\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 25 |\u001b[39m   \u001b[36mawait\u001b[39m mongoose\u001b[33m.\u001b[39mconnect(uri)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 26 |\u001b[39m })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 27 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 28 |\u001b[39m \u001b[90m// Cleanup after all tests\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat NativeConnection.createClient (\u001b[22m\u001b[2mnode_modules/mongoose/lib/drivers/node-mongodb-native/connection.js\u001b[2m:220:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat NativeConnection.openUri (\u001b[22m\u001b[2mnode_modules/mongoose/lib/connection.js\u001b[2m:766:34)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Mongoose.connect (\u001b[22m\u001b[2mnode_modules/mongoose/lib/index.js\u001b[2m:416:15)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2mjest.setup.js\u001b[2m:25:18)\u001b[22m\u001b[2m\u001b[22m\n\n\n  \u001b[1m● \u001b[22mTest suite failed to run\n\n    listen EADDRINUSE: address already in use :::5000\n\n    \u001b[0m \u001b[90m 991 |\u001b[39m app\u001b[33m.\u001b[39muse(\u001b[32m'/api/payments'\u001b[39m\u001b[33m,\u001b[39m paymentRoutes)\u001b[33m;\u001b[39m\n     \u001b[90m 992 |\u001b[39m app\u001b[33m.\u001b[39muse(\u001b[32m'/api/verbfy-talk'\u001b[39m\u001b[33m,\u001b[39m verbfyTalkRoutes)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 993 |\u001b[39m app\u001b[33m.\u001b[39muse(\u001b[32m'/api/free-materials'\u001b[39m\u001b[33m,\u001b[39m freeMaterialsRoutes)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 994 |\u001b[39m app\u001b[33m.\u001b[39muse(\u001b[32m'/api/verbfy-lessons'\u001b[39m\u001b[33m,\u001b[39m verbfyLessonsRoutes)\u001b[33m;\u001b[39m\n     \u001b[90m 995 |\u001b[39m app\u001b[33m.\u001b[39muse(\u001b[32m'/api/cefr-tests'\u001b[39m\u001b[33m,\u001b[39m cefrTestsRoutes)\u001b[33m;\u001b[39m\n     \u001b[90m 996 |\u001b[39m app\u001b[33m.\u001b[39muse(\u001b[32m'/api/personalized-curriculum'\u001b[39m\u001b[33m,\u001b[39m personalizedCurriculumRoutes)\u001b[33m;\u001b[39m\u001b[0m\n\n      \u001b[2mat Object.<anonymous> (\u001b[22msrc/index.ts\u001b[2m:993:8)\u001b[22m\n      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[0m\u001b[36msrc/__tests__/controllers/auth-email.test.ts\u001b[39m\u001b[0m\u001b[2m:8:17)\u001b[22m\n","name":"C:\\Verbfy\\backend\\src\\__tests__\\controllers\\auth-email.test.ts","startTime":1759530269456,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["Admin Auth Controller","POST /admin/auth/login"],"duration":1289,"failureDetails":[],"failureMessages":[],"fullName":"Admin Auth Controller POST /admin/auth/login should login admin user successfully","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"status":"passed","title":"should login admin user successfully"},{"ancestorTitles":["Admin Auth Controller","POST /admin/auth/login"],"duration":933,"failureDetails":[],"failureMessages":[],"fullName":"Admin Auth Controller POST /admin/auth/login should reject login for non-admin users and emit security alert","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should reject login for non-admin users and emit security alert"},{"ancestorTitles":["Admin Auth Controller","POST /admin/auth/login"],"duration":1131,"failureDetails":[],"failureMessages":[],"fullName":"Admin Auth Controller POST /admin/auth/login should reject login with invalid password and emit security alert","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should reject login with invalid password and emit security alert"},{"ancestorTitles":["Admin Auth Controller","POST /admin/auth/login"],"duration":1076,"failureDetails":[],"failureMessages":[],"fullName":"Admin Auth Controller POST /admin/auth/login should reject login with non-existent email","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should reject login with non-existent email"},{"ancestorTitles":["Admin Auth Controller","POST /admin/auth/login"],"duration":912,"failureDetails":[],"failureMessages":[],"fullName":"Admin Auth Controller POST /admin/auth/login should validate required fields","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should validate required fields"},{"ancestorTitles":["Admin Auth Controller","POST /admin/auth/login"],"duration":988,"failureDetails":[],"failureMessages":[],"fullName":"Admin Auth Controller POST /admin/auth/login should validate email format","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should validate email format"},{"ancestorTitles":["Admin Auth Controller","POST /admin/auth/login"],"duration":1398,"failureDetails":[],"failureMessages":[],"fullName":"Admin Auth Controller POST /admin/auth/login should handle case-insensitive email login","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle case-insensitive email login"},{"ancestorTitles":["Admin Auth Controller","POST /admin/auth/login"],"duration":1070,"failureDetails":[],"failureMessages":[],"fullName":"Admin Auth Controller POST /admin/auth/login should include user information in response","invocations":1,"location":null,"numPassingAsserts":7,"retryReasons":[],"status":"passed","title":"should include user information in response"},{"ancestorTitles":["Admin Auth Controller","POST /admin/auth/login"],"duration":1308,"failureDetails":[],"failureMessages":[],"fullName":"Admin Auth Controller POST /admin/auth/login should generate valid JWT tokens","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should generate valid JWT tokens"},{"ancestorTitles":["Admin Auth Controller","POST /admin/auth/refresh"],"duration":987,"failureDetails":[],"failureMessages":[],"fullName":"Admin Auth Controller POST /admin/auth/refresh should refresh token successfully","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should refresh token successfully"},{"ancestorTitles":["Admin Auth Controller","POST /admin/auth/refresh"],"duration":812,"failureDetails":[],"failureMessages":[],"fullName":"Admin Auth Controller POST /admin/auth/refresh should reject invalid refresh token","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should reject invalid refresh token"},{"ancestorTitles":["Admin Auth Controller","POST /admin/auth/refresh"],"duration":784,"failureDetails":[],"failureMessages":[],"fullName":"Admin Auth Controller POST /admin/auth/refresh should reject expired refresh token","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should reject expired refresh token"},{"ancestorTitles":["Admin Auth Controller","POST /admin/auth/refresh"],"duration":818,"failureDetails":[],"failureMessages":[],"fullName":"Admin Auth Controller POST /admin/auth/refresh should reject refresh token for non-existent user","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should reject refresh token for non-existent user"},{"ancestorTitles":["Admin Auth Controller","POST /admin/auth/refresh"],"duration":651,"failureDetails":[],"failureMessages":[],"fullName":"Admin Auth Controller POST /admin/auth/refresh should reject refresh token for non-admin user","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should reject refresh token for non-admin user"},{"ancestorTitles":["Admin Auth Controller","POST /admin/auth/refresh"],"duration":760,"failureDetails":[],"failureMessages":[],"fullName":"Admin Auth Controller POST /admin/auth/refresh should require refresh token in request body","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should require refresh token in request body"},{"ancestorTitles":["Admin Auth Controller","POST /admin/auth/logout"],"duration":646,"failureDetails":[],"failureMessages":[],"fullName":"Admin Auth Controller POST /admin/auth/logout should logout successfully","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should logout successfully"},{"ancestorTitles":["Admin Auth Controller","POST /admin/auth/logout"],"duration":654,"failureDetails":[],"failureMessages":[],"fullName":"Admin Auth Controller POST /admin/auth/logout should require authentication","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should require authentication"},{"ancestorTitles":["Admin Auth Controller","POST /admin/auth/logout"],"duration":635,"failureDetails":[],"failureMessages":[],"fullName":"Admin Auth Controller POST /admin/auth/logout should reject invalid token","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should reject invalid token"},{"ancestorTitles":["Admin Auth Controller","Security Features"],"duration":2190,"failureDetails":[],"failureMessages":[],"fullName":"Admin Auth Controller Security Features should handle multiple failed login attempts","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should handle multiple failed login attempts"},{"ancestorTitles":["Admin Auth Controller","Security Features"],"duration":739,"failureDetails":[],"failureMessages":[],"fullName":"Admin Auth Controller Security Features should handle SQL injection attempts in email field","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should handle SQL injection attempts in email field"},{"ancestorTitles":["Admin Auth Controller","Security Features"],"duration":833,"failureDetails":[],"failureMessages":[],"fullName":"Admin Auth Controller Security Features should handle XSS attempts in input fields","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should handle XSS attempts in input fields"},{"ancestorTitles":["Admin Auth Controller","Security Features"],"duration":1326,"failureDetails":[],"failureMessages":[],"fullName":"Admin Auth Controller Security Features should not reveal user existence for invalid emails","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should not reveal user existence for invalid emails"},{"ancestorTitles":["Admin Auth Controller","Rate Limiting and Brute Force Protection"],"duration":4501,"failureDetails":[],"failureMessages":[],"fullName":"Admin Auth Controller Rate Limiting and Brute Force Protection should handle rapid successive login attempts","invocations":1,"location":null,"numPassingAsserts":10,"retryReasons":[],"status":"passed","title":"should handle rapid successive login attempts"},{"ancestorTitles":["Admin Auth Controller","Error Handling"],"duration":814,"failureDetails":[],"failureMessages":[],"fullName":"Admin Auth Controller Error Handling should handle database connection errors gracefully","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should handle database connection errors gracefully"},{"ancestorTitles":["Admin Auth Controller","Error Handling"],"duration":799,"failureDetails":[],"failureMessages":[],"fullName":"Admin Auth Controller Error Handling should handle bcrypt comparison errors","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should handle bcrypt comparison errors"},{"ancestorTitles":["Admin Auth Controller","Error Handling"],"duration":1034,"failureDetails":[],"failureMessages":[],"fullName":"Admin Auth Controller Error Handling should handle JWT signing errors","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should handle JWT signing errors"},{"ancestorTitles":["Admin Auth Controller","Input Validation"],"duration":852,"failureDetails":[],"failureMessages":[],"fullName":"Admin Auth Controller Input Validation should validate email format strictly","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should validate email format strictly"},{"ancestorTitles":["Admin Auth Controller","Input Validation"],"duration":853,"failureDetails":[],"failureMessages":[],"fullName":"Admin Auth Controller Input Validation should validate password requirements","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should validate password requirements"},{"ancestorTitles":["Admin Auth Controller","Input Validation"],"duration":767,"failureDetails":[],"failureMessages":[],"fullName":"Admin Auth Controller Input Validation should handle extremely long input values","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should handle extremely long input values"}],"endTime":1759530261600,"message":"","name":"C:\\Verbfy\\backend\\src\\__tests__\\controllers\\adminAuthController.test.ts","startTime":1759530228568,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Auth Controller","POST /auth/register"],"duration":141,"failureDetails":[],"failureMessages":[],"fullName":"Auth Controller POST /auth/register should register a new user successfully","invocations":1,"location":null,"numPassingAsserts":8,"retryReasons":[],"status":"passed","title":"should register a new user successfully"},{"ancestorTitles":["Auth Controller","POST /auth/register"],"duration":107,"failureDetails":[],"failureMessages":[],"fullName":"Auth Controller POST /auth/register should not register user with existing email","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should not register user with existing email"},{"ancestorTitles":["Auth Controller","POST /auth/register"],"duration":7,"failureDetails":[],"failureMessages":[],"fullName":"Auth Controller POST /auth/register should validate required fields","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should validate required fields"},{"ancestorTitles":["Auth Controller","POST /auth/register"],"duration":8,"failureDetails":[],"failureMessages":[],"fullName":"Auth Controller POST /auth/register should validate email format","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should validate email format"},{"ancestorTitles":["Auth Controller","POST /auth/register"],"duration":8,"failureDetails":[],"failureMessages":[],"fullName":"Auth Controller POST /auth/register should validate password strength","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should validate password strength"},{"ancestorTitles":["Auth Controller","POST /auth/login"],"duration":197,"failureDetails":[],"failureMessages":[],"fullName":"Auth Controller POST /auth/login should login user with correct credentials","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should login user with correct credentials"},{"ancestorTitles":["Auth Controller","POST /auth/login"],"duration":186,"failureDetails":[],"failureMessages":[],"fullName":"Auth Controller POST /auth/login should not login with incorrect password","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should not login with incorrect password"},{"ancestorTitles":["Auth Controller","POST /auth/login"],"duration":93,"failureDetails":[],"failureMessages":[],"fullName":"Auth Controller POST /auth/login should not login with non-existent email","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should not login with non-existent email"},{"ancestorTitles":["Auth Controller","POST /auth/login"],"duration":87,"failureDetails":[],"failureMessages":[],"fullName":"Auth Controller POST /auth/login should validate required fields","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should validate required fields"},{"ancestorTitles":["Auth Controller","GET /auth/profile"],"duration":109,"failureDetails":[],"failureMessages":[],"fullName":"Auth Controller GET /auth/profile should get user profile with valid token","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should get user profile with valid token"},{"ancestorTitles":["Auth Controller","GET /auth/profile"],"duration":93,"failureDetails":[],"failureMessages":[],"fullName":"Auth Controller GET /auth/profile should not get profile without token","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should not get profile without token"},{"ancestorTitles":["Auth Controller","GET /auth/profile"],"duration":100,"failureDetails":[],"failureMessages":[],"fullName":"Auth Controller GET /auth/profile should not get profile with invalid token","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should not get profile with invalid token"},{"ancestorTitles":["Auth Controller","POST /auth/logout"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"Auth Controller POST /auth/logout should logout successfully","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should logout successfully"}],"endTime":1759530263955,"message":"","name":"C:\\Verbfy\\backend\\src\\__tests__\\controllers\\authController.test.ts","startTime":1759530261617,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Admin Socket.IO Integration Tests","Admin Namespace Authentication"],"duration":88,"failureDetails":[],"failureMessages":[],"fullName":"Admin Socket.IO Integration Tests Admin Namespace Authentication should allow admin users to connect to admin namespace","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should allow admin users to connect to admin namespace"},{"ancestorTitles":["Admin Socket.IO Integration Tests","Admin Namespace Authentication"],"duration":35,"failureDetails":[],"failureMessages":[],"fullName":"Admin Socket.IO Integration Tests Admin Namespace Authentication should reject non-admin users from admin namespace","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should reject non-admin users from admin namespace"},{"ancestorTitles":["Admin Socket.IO Integration Tests","Admin Namespace Authentication"],"duration":46,"failureDetails":[],"failureMessages":[],"fullName":"Admin Socket.IO Integration Tests Admin Namespace Authentication should reject connections without valid token","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should reject connections without valid token"},{"ancestorTitles":["Admin Socket.IO Integration Tests","Admin Namespace Authentication"],"duration":44,"failureDetails":[],"failureMessages":[],"fullName":"Admin Socket.IO Integration Tests Admin Namespace Authentication should reject connections without token","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should reject connections without token"},{"ancestorTitles":["Admin Socket.IO Integration Tests","System Health Notifications"],"duration":98,"failureDetails":[],"failureMessages":[],"fullName":"Admin Socket.IO Integration Tests System Health Notifications should emit system health notifications to admin clients","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"status":"passed","title":"should emit system health notifications to admin clients"},{"ancestorTitles":["Admin Socket.IO Integration Tests","System Health Notifications"],"duration":51,"failureDetails":[],"failureMessages":[],"fullName":"Admin Socket.IO Integration Tests System Health Notifications should handle critical system health alerts","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should handle critical system health alerts"},{"ancestorTitles":["Admin Socket.IO Integration Tests","Security Alert Notifications"],"duration":43,"failureDetails":[],"failureMessages":[],"fullName":"Admin Socket.IO Integration Tests Security Alert Notifications should emit security alerts to admin clients","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should emit security alerts to admin clients"},{"ancestorTitles":["Admin Socket.IO Integration Tests","Security Alert Notifications"],"duration":45,"failureDetails":[],"failureMessages":[],"fullName":"Admin Socket.IO Integration Tests Security Alert Notifications should handle different types of security alerts","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should handle different types of security alerts"},{"ancestorTitles":["Admin Socket.IO Integration Tests","User Activity Notifications"],"duration":61,"failureDetails":[],"failureMessages":[],"fullName":"Admin Socket.IO Integration Tests User Activity Notifications should emit user activity notifications","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should emit user activity notifications"},{"ancestorTitles":["Admin Socket.IO Integration Tests","User Activity Notifications"],"duration":62,"failureDetails":[],"failureMessages":[],"fullName":"Admin Socket.IO Integration Tests User Activity Notifications should handle different user actions","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should handle different user actions"},{"ancestorTitles":["Admin Socket.IO Integration Tests","Payment Notifications"],"duration":47,"failureDetails":[],"failureMessages":[],"fullName":"Admin Socket.IO Integration Tests Payment Notifications should emit payment notifications","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should emit payment notifications"},{"ancestorTitles":["Admin Socket.IO Integration Tests","Payment Notifications"],"duration":62,"failureDetails":[],"failureMessages":[],"fullName":"Admin Socket.IO Integration Tests Payment Notifications should handle payment failures","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle payment failures"},{"ancestorTitles":["Admin Socket.IO Integration Tests","Teacher Notifications"],"duration":44,"failureDetails":[],"failureMessages":[],"fullName":"Admin Socket.IO Integration Tests Teacher Notifications should emit teacher application notifications","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should emit teacher application notifications"},{"ancestorTitles":["Admin Socket.IO Integration Tests","Teacher Notifications"],"duration":34,"failureDetails":[],"failureMessages":[],"fullName":"Admin Socket.IO Integration Tests Teacher Notifications should handle teacher status updates","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should handle teacher status updates"},{"ancestorTitles":["Admin Socket.IO Integration Tests","Multiple Admin Clients"],"duration":95,"failureDetails":[],"failureMessages":[],"fullName":"Admin Socket.IO Integration Tests Multiple Admin Clients should broadcast notifications to all connected admin clients","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should broadcast notifications to all connected admin clients"},{"ancestorTitles":["Admin Socket.IO Integration Tests","Connection Management"],"duration":88,"failureDetails":[],"failureMessages":[],"fullName":"Admin Socket.IO Integration Tests Connection Management should handle client disconnection gracefully","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle client disconnection gracefully"},{"ancestorTitles":["Admin Socket.IO Integration Tests","Connection Management"],"duration":77,"failureDetails":[],"failureMessages":[],"fullName":"Admin Socket.IO Integration Tests Connection Management should handle server-side disconnection","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle server-side disconnection"},{"ancestorTitles":["Admin Socket.IO Integration Tests","Connection Management"],"duration":151,"failureDetails":[],"failureMessages":[],"fullName":"Admin Socket.IO Integration Tests Connection Management should handle reconnection attempts","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle reconnection attempts"},{"ancestorTitles":["Admin Socket.IO Integration Tests","Error Handling"],"duration":54,"failureDetails":[],"failureMessages":[],"fullName":"Admin Socket.IO Integration Tests Error Handling should handle malformed authentication tokens","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle malformed authentication tokens"},{"ancestorTitles":["Admin Socket.IO Integration Tests","Error Handling"],"duration":54,"failureDetails":[],"failureMessages":[],"fullName":"Admin Socket.IO Integration Tests Error Handling should handle expired tokens","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle expired tokens"},{"ancestorTitles":["Admin Socket.IO Integration Tests","Error Handling"],"duration":43,"failureDetails":[],"failureMessages":[],"fullName":"Admin Socket.IO Integration Tests Error Handling should handle database errors during authentication","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle database errors during authentication"},{"ancestorTitles":["Admin Socket.IO Integration Tests","Performance and Load Testing"],"duration":125,"failureDetails":[],"failureMessages":[],"fullName":"Admin Socket.IO Integration Tests Performance and Load Testing should handle multiple simultaneous connections","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle multiple simultaneous connections"},{"ancestorTitles":["Admin Socket.IO Integration Tests","Performance and Load Testing"],"duration":63,"failureDetails":[],"failureMessages":[],"fullName":"Admin Socket.IO Integration Tests Performance and Load Testing should handle rapid notification emissions","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should handle rapid notification emissions"}],"endTime":1759530266359,"message":"","name":"C:\\Verbfy\\backend\\src\\__tests__\\integration\\adminSocketIO.test.ts","startTime":1759530263968,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Admin Controller","GET /admin/overview"],"duration":110,"failureDetails":[],"failureMessages":[],"fullName":"Admin Controller GET /admin/overview should return dashboard data for admin users","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should return dashboard data for admin users"},{"ancestorTitles":["Admin Controller","GET /admin/overview"],"duration":42,"failureDetails":[],"failureMessages":[],"fullName":"Admin Controller GET /admin/overview should deny access to non-admin users","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should deny access to non-admin users"},{"ancestorTitles":["Admin Controller","GET /admin/overview"],"duration":26,"failureDetails":[],"failureMessages":[],"fullName":"Admin Controller GET /admin/overview should deny access without authentication","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should deny access without authentication"},{"ancestorTitles":["Admin Controller","PATCH /admin/users/:id/role"],"duration":58,"failureDetails":[],"failureMessages":[],"fullName":"Admin Controller PATCH /admin/users/:id/role should update user role successfully and emit notification","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should update user role successfully and emit notification"},{"ancestorTitles":["Admin Controller","PATCH /admin/users/:id/role"],"duration":22,"failureDetails":[],"failureMessages":[],"fullName":"Admin Controller PATCH /admin/users/:id/role should reject invalid roles","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should reject invalid roles"},{"ancestorTitles":["Admin Controller","PATCH /admin/users/:id/role"],"duration":21,"failureDetails":[],"failureMessages":[],"fullName":"Admin Controller PATCH /admin/users/:id/role should return 404 for non-existent user","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should return 404 for non-existent user"},{"ancestorTitles":["Admin Controller","PATCH /admin/users/:id/role"],"duration":28,"failureDetails":[],"failureMessages":[],"fullName":"Admin Controller PATCH /admin/users/:id/role should deny access to non-admin users","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should deny access to non-admin users"},{"ancestorTitles":["Admin Controller","PATCH /admin/users/:id/status"],"duration":31,"failureDetails":[],"failureMessages":[],"fullName":"Admin Controller PATCH /admin/users/:id/status should update user status successfully and emit notification","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should update user status successfully and emit notification"},{"ancestorTitles":["Admin Controller","PATCH /admin/users/:id/status"],"duration":19,"failureDetails":[],"failureMessages":[],"fullName":"Admin Controller PATCH /admin/users/:id/status should reject invalid status values","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should reject invalid status values"},{"ancestorTitles":["Admin Controller","PATCH /admin/users/:id/status"],"duration":32,"failureDetails":[],"failureMessages":[],"fullName":"Admin Controller PATCH /admin/users/:id/status should return 404 for non-existent user","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should return 404 for non-existent user"},{"ancestorTitles":["Admin Controller","DELETE /admin/users/:id"],"duration":52,"failureDetails":[],"failureMessages":[],"fullName":"Admin Controller DELETE /admin/users/:id should delete user successfully and emit notification","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should delete user successfully and emit notification"},{"ancestorTitles":["Admin Controller","DELETE /admin/users/:id"],"duration":35,"failureDetails":[],"failureMessages":[],"fullName":"Admin Controller DELETE /admin/users/:id should return 404 for non-existent user","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should return 404 for non-existent user"},{"ancestorTitles":["Admin Controller","DELETE /admin/users/:id"],"duration":27,"failureDetails":[],"failureMessages":[],"fullName":"Admin Controller DELETE /admin/users/:id should deny access to non-admin users","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should deny access to non-admin users"},{"ancestorTitles":["Admin Controller","PATCH /admin/teachers/:id/approve"],"duration":44,"failureDetails":[],"failureMessages":[],"fullName":"Admin Controller PATCH /admin/teachers/:id/approve should approve teacher successfully and emit notification","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should approve teacher successfully and emit notification"},{"ancestorTitles":["Admin Controller","PATCH /admin/teachers/:id/approve"],"duration":23,"failureDetails":[],"failureMessages":[],"fullName":"Admin Controller PATCH /admin/teachers/:id/approve should return 404 for non-existent teacher","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should return 404 for non-existent teacher"},{"ancestorTitles":["Admin Controller","PATCH /admin/teachers/:id/reject"],"duration":43,"failureDetails":[],"failureMessages":[],"fullName":"Admin Controller PATCH /admin/teachers/:id/reject should reject teacher successfully and emit notification","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should reject teacher successfully and emit notification"},{"ancestorTitles":["Admin Controller","PATCH /admin/teachers/:id/reject"],"duration":23,"failureDetails":[],"failureMessages":[],"fullName":"Admin Controller PATCH /admin/teachers/:id/reject should require rejection reason","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should require rejection reason"},{"ancestorTitles":["Admin Controller","GET /admin/system/health"],"duration":21,"failureDetails":[],"failureMessages":[],"fullName":"Admin Controller GET /admin/system/health should return system health information","invocations":1,"location":null,"numPassingAsserts":7,"retryReasons":[],"status":"passed","title":"should return system health information"},{"ancestorTitles":["Admin Controller","GET /admin/system/health"],"duration":18,"failureDetails":[],"failureMessages":[],"fullName":"Admin Controller GET /admin/system/health should deny access to non-admin users","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should deny access to non-admin users"},{"ancestorTitles":["Admin Controller","Error Handling"],"duration":25,"failureDetails":[],"failureMessages":[],"fullName":"Admin Controller Error Handling should handle invalid ObjectId format","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should handle invalid ObjectId format"},{"ancestorTitles":["Admin Controller","Error Handling"],"duration":17,"failureDetails":[],"failureMessages":[],"fullName":"Admin Controller Error Handling should handle missing required fields","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should handle missing required fields"},{"ancestorTitles":["Admin Controller","Authorization"],"duration":15,"failureDetails":[],"failureMessages":[],"fullName":"Admin Controller Authorization should require valid JWT token","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should require valid JWT token"},{"ancestorTitles":["Admin Controller","Authorization"],"duration":57,"failureDetails":[],"failureMessages":[],"fullName":"Admin Controller Authorization should require admin role for all admin endpoints","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should require admin role for all admin endpoints"}],"endTime":1759530268528,"message":"","name":"C:\\Verbfy\\backend\\src\\__tests__\\controllers\\adminController.test.ts","startTime":1759530266377,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["AdminNotificationService","emitSystemHealth"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"AdminNotificationService emitSystemHealth should emit system health notification to admin namespace","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should emit system health notification to admin namespace"},{"ancestorTitles":["AdminNotificationService","emitSystemHealth"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"AdminNotificationService emitSystemHealth should emit to all connected admin clients","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should emit to all connected admin clients"}],"endTime":1759530269446,"message":"","name":"C:\\Verbfy\\backend\\src\\__tests__\\services\\adminNotificationService.test.ts","startTime":1759530268543,"status":"passed","summary":""}],"wasInterrupted":false}
